<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      content="initial-scale=1, shrink-to-fit=no, width=device-width"
      name="viewport"
    />
    <link
      rel="alternate"
      type="application/json+oembed"
      href="https://mepwatch.eu/10/oembed.json"
      title="oEmbed Profile"
    />

    <!-- CSS -->
    <link href="../dist/css/main.css" rel="stylesheet" />

    <link rel="prefetch" href="./data/meps.csv" as="fetch" />
    <link href="./country.css" rel="stylesheet" />
    <script src="../node_modules/html-to-image/dist/html-to-image.js"></script>
    <script src="../dist/js/dcbundle.js"></script>
    <script src="js/vote.js"></script>
    <script src="js/country.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        init();
      });
    </script>
  </head>
  <body>
    <header>
      <div class="collapse bg-primary-light" id="navbarHeader">
        <div class="container">
          <div class="row">
            <div class="col-sm-8 col-md-7 py-4">
              <h4 class="">About</h4>
              <p class=""></p>
            </div>
            <div class="col-sm-4 offset-md-1 py-4">
              <h4 class="">Contact</h4>
              <ul class="list-unstyled">
                <li>
                  <a href="https://bsky.app/profile/europarl.bsky.social"
                    >Follow on bluesky</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="navbar navbar-dark bg-primary box-shadow">
        <div class="container d-flex justify-content-between">
          <a href="/10" class="navbar-brand d-flex align-items-center">
            <svg><use href="#logo" /></svg><span class="rapporteur">Vote</span>
          </a>
          <span class="date">YYYY-mm-DD</span>
          <span class="report">A10-XXXX/20YY</span>
          <span class="select-country"></span>

          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarHeader"
            aria-controls="navbarHeader"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <svg class="icon"><use href="#menu" /></svg>
          </button>
        </div>
      </div>
    </header>

    <main role="main">
      <div class="py-5 bg-light">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <div class="card box-shadow" id="country">
                <div class="card-body">
                  <h5 class="card-title text-muted text-right">
                    <button
                      type="button"
                      class="btn-relative btn btn-primary"
                      title="percentage of votes"
                    >
                      Percentage
                    </button>
                    <button
                      type="button"
                      class="btn-absolute active btn btn-primary"
                      title="Number of votes"
                    >
                      Seats
                    </button>
                  </h5>
                  <div class="graph"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <section class="jumbotron">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 col-md-12">
              <input class="title form-control input-lg" />
            </div>
          </div>
        </div>
      </section>
      <div class="py-5 bg-info">
        <div class="container">
          <div class="row">
            <div class="col-md-3">
              <ul class="list-group">
                <li class="list-group-item nbmep">
                  <a class="resetall"
                    ><span class="nb"></span
                    ><span class="total d-none">/</span> MEPs<button
                      type="button"
                      class="btn btn-warning float-right"
                      title="reset the filters"
                    >
                      â†º
                    </button></a
                  >
                </li>
                <li class="list-group-item nbvoted">
                  <span
                    class="percent badge badge-primary badge-pill float-right"
                    >%</span
                  ><span class="nb"></span> voted
                </li>
                <li class="list-group-item result">
                  <span
                    class="percent badge badge-primary badge-pill float-right"
                  ></span
                  ><span class="nb"></span> result
                </li>
                <li class="list-group-item goal d-none">
                  <span class="win badge badge-pill float-right">AA</span
                  ><span class="nb"></span>We wanted
                </li>
              </ul>
            </div>
            <div class="col-md-3" id="result">
              <div class="graph"></div>
            </div>
            <div class="col-md-3 rotated90 d-none" id="eugroup">
              <div class="graph"></div>
            </div>
            <div class="col-md-6" id="party">
              <div class="graph"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="" id="gridmeps">
        <h3>Title</h3>
        <div class="graph"></div>
      </div>
    </main>

    <footer class="text-muted">
      <div class="container">
        <p class="float-right">
          <a href="#">Back to top</a>
        </p>
      </div>
    </footer>

    <button id="print" class="btn btn-large btn-primary">Save<i>ðŸ–¨</i></button>
    <img id="preview" />

    <svg>
      <defs>
        <filter id="blur-filter" x="0" y="0">
          <feGaussianBlur stdDeviation="1" />
        </filter>
        <filter id="glow">
          <feGaussianBlur stdDeviation="3.5" result="coloredBlur">
            <feMerge in="SourceGraphic">
              <feMergeNode in="coloredBlur"></feMergeNode>
            </feMerge>
          </feGaussianBlur>
        </filter>
      </defs>
    </svg>
    <svg class="d-none" id="icons">
      <symbol id="menu" viewBox="0 0 24 24">
        <path d="M0 0h24v24H0z" fill="none" />
        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
      </symbol>
      <symbol id="icon-twitter" viewBox="0 0 24 24">
        <path
          fill="#1DA1F2"
          d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"
        />
      </symbol>
      <symbol id="icon-against" viewBox="0 0 24 24">
        <path
          fill="currentColor"
          _fill="#c0392b"
          d="M19,15H23V3H19M15,3H6C5.17,3 4.46,3.5 4.16,4.22L1.14,11.27C1.05,11.5 1,11.74 1,12V14A2,2 0 0,0 3,16H9.31L8.36,20.57C8.34,20.67 8.33,20.77 8.33,20.88C8.33,21.3 8.5,21.67 8.77,21.94L9.83,23L16.41,16.41C16.78,16.05 17,15.55 17,15V5C17,3.89 16.1,3 15,3Z"
        />
      </symbol>
      <symbol id="icon-for" viewBox="0 0 24 24">
        <path
          fill="currentColor"
          d="M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z"
        />
      </symbol>
      <symbol id="icon-abstention" viewBox="0 0 24 24">
        <path
          transform="rotate(240 12 12)"
          fill="currentColor"
          d="M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z"
        />
      </symbol>
      <symbol id="icon-attended" viewBox="0 0 24 24">
        <path
          fill="currentColor"
          filter="url(#blur-filter)"
          transform="rotate(66 12 12)"
          d="m10.89 18.28.57-2.89c.12-.59-.04-1.2-.42-1.66S10.1 13 9.5 13H4v-1.08L6.57 6h8.09c.18 0 .34.16.34.34v7.84zM10 22l6.41-6.41c.38-.38.59-.89.59-1.42V6.34C17 5.05 15.95 4 14.66 4h-8.1c-.71 0-1.36.37-1.72.97l-2.67 6.15c-.11.25-.17.52-.17.8V13c0 1.1.9 2 2 2h5.5l-.92 4.65c-.05.22-.02.46.08.66.23.45.52.86.88 1.22zm10-7h2V4h-2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1"
        ></path>
      </symbol>

      <symbol id="icon-rebel" viewBox="0 0 24 24">
        <path
          d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"
        />
      </symbol>
      <symbol id="logo" viewBox="0 0 24 24">
        <path
          d="M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"
        />
      </symbol>
    </svg>
    <div class="mep">
      <table>
        <tr>
          <td class="column-item" id="face">
            <img src="./img/mep/{epid}.webp" />
          </td>
          <td class="column-item truncate" id="name">{lastname} {firstname}</td>
          <td class="column-item" id="position">
            <svg class="icon icon-{vote}"><use href="#icon-{vote}" /></svg>
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
