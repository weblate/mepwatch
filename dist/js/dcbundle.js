(()=>{var At=(e,r)=>()=>(r||(r={exports:{}},e(r.exports,r)),r.exports);var Mu=At((Gd,bu)=>{typeof Uint8Array!="undefined"&&(sa=function(e){return new Uint8Array(e)},wu=function(e){return new Uint16Array(e)},_u=function(e){return new Uint32Array(e)},xu=function(e,r){if(e.length>=r)return e;var f=new e.constructor(r);return f.set(e),f},Au=function(e,r){var f;switch(r){case 16:f=wu(e.length);break;case 32:f=_u(e.length);break;default:throw new Error("invalid array width!")}return f.set(e),f});var sa,wu,_u,xu,Au;function ca(e){for(var r=new Array(e),f=-1;++f<e;)r[f]=0;return r}function Bc(e,r){for(var f=e.length;f<r;)e[f++]=0;return e}function Uc(e,r){if(r>32)throw new Error("invalid array width!");return e}function Fn(e){this.length=e,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=sa(e)}Fn.prototype.lengthen=function(e){var r,f;for(r=0,f=this.subarrays;r<f;++r)this[r]=xu(this[r],e);this.length=e};Fn.prototype.add=function(){var e,r,f,o,b;for(o=0,b=this.subarrays;o<b;++o)if(e=this.masks[o],r=this.width-32*o,f=~e&-~e,!(r>=32&&!f))return r<32&&f&1<<r&&(this[o]=Au(this[o],r<<=1),this.width=32*o+r),this.masks[o]|=f,{offset:o,one:f};return this[this.subarrays]=sa(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}};Fn.prototype.copy=function(e,r){var f,o;for(f=0,o=this.subarrays;f<o;++f)this[f][e]=this[f][r]};Fn.prototype.truncate=function(e){var r,f;for(r=0,f=this.subarrays;r<f;++r){for(var o=this.length-1;o>=e;o--)this[r][o]=0;this[r].length=e}this.length=e};Fn.prototype.zero=function(e){var r,f;for(r=0,f=this.subarrays;r<f;++r)if(this[r][e])return!1;return!0};Fn.prototype.zeroExcept=function(e,r,f){var o,b;for(o=0,b=this.subarrays;o<b;++o)if(o===r?this[o][e]&f:this[o][e])return!1;return!0};Fn.prototype.zeroExceptMask=function(e,r){var f,o;for(f=0,o=this.subarrays;f<o;++f)if(this[f][e]&r[f])return!1;return!0};Fn.prototype.only=function(e,r,f){var o,b;for(o=0,b=this.subarrays;o<b;++o)if(this[o][e]!=(o===r?f:0))return!1;return!0};Fn.prototype.onlyExcept=function(e,r,f,o,b){var i,te,re;for(te=0,re=this.subarrays;te<re;++te)if(i=this[te][e],te===r&&(i&=f),i!=(te===o?b:0))return!1;return!0};bu.exports={array8:ca,array16:ca,array32:ca,arrayLengthen:Bc,arrayWiden:Uc,bitarray:Fn}});var Su=At((Vd,Eu)=>{"use strict";function Hc(e,r){return function(f){var o=f.length;return[e.left(f,r,0,o),e.right(f,r,0,o)]}}function Yc(e,r){var f=r[0],o=r[1];return function(b){var i=b.length;return[e.left(b,f,0,i),e.left(b,o,0,i)]}}function Gc(e){return[0,e.length]}Eu.exports={filterExact:Hc,filterRange:Yc,filterAll:Gc}});var ur=At(($d,Cu)=>{"use strict";function Vc(e){return e}Cu.exports=Vc});var Ru=At((Xd,ku)=>{"use strict";function $c(){return null}ku.exports=$c});var Tu=At((Wd,Lu)=>{"use strict";function Xc(){return 0}Lu.exports=Xc});var da=At((jd,la)=>{"use strict";var Wc=ur();function Pu(e){function r(b,i,te){for(var re=te-i,t=(re>>>1)+1;--t>0;)o(b,t,re,i);return b}function f(b,i,te){for(var re=te-i,t;--re>0;)t=b[i],b[i]=b[i+re],b[i+re]=t,o(b,1,re,i);return b}function o(b,i,te,re){for(var t=b[--re+i],k=e(t),n;(n=i<<1)<=te&&(n<te&&e(b[re+n])>e(b[re+n+1])&&n++,!(k<=e(b[re+n])));)b[re+i]=b[re+n],i=n;b[re+i]=t}return r.sort=f,r}la.exports=Pu(Wc);la.exports.by=Pu});var Ou=At((Kd,ha)=>{"use strict";var jc=ur(),Kc=da();function Nu(e){var r=Kc.by(e);function f(o,b,i,te){var re=new Array(te=Math.min(i-b,te)),t,k,n;for(k=0;k<te;++k)re[k]=o[b++];if(r(re,0,te),b<i){t=e(re[0]);do e(n=o[b])>t&&(re[0]=n,t=e(r(re,0,te)[0]));while(++b<i)}return re}return f}ha.exports=Nu(jc);ha.exports.by=Nu});var Iu=At((Zd,ga)=>{"use strict";var Zc=ur();function Du(e){function r(o,b,i,te){for(;i<te;){var re=i+te>>>1;e(o[re])<b?i=re+1:te=re}return i}function f(o,b,i,te){for(;i<te;){var re=i+te>>>1;b<e(o[re])?te=re:i=re+1}return i}return f.right=f,f.left=r,f}ga.exports=Du(Zc);ga.exports.by=Du});var ma=At((Qd,va)=>{"use strict";var Qc=ur();function zu(e){function r(f,o,b){for(var i=o+1;i<b;++i){for(var te=i,re=f[i],t=e(re);te>o&&e(f[te-1])>t;--te)f[te]=f[te-1];f[te]=re}return f}return r}va.exports=zu(Qc);va.exports.by=zu});var qu=At((Jd,Fu)=>{"use strict";function Jc(e,r,f){for(var o=0,b=r.length,i=f?JSON.parse(JSON.stringify(e)):new Array(b);o<b;++o)i[o]=e[r[o]];return i}Fu.exports=Jc});var Uu=At((eh,pa)=>{var el=ur(),tl=ma();function Bu(e){var r=tl.by(e);function f(b,i,te){return(te-i<nl?r:o)(b,i,te)}function o(b,i,te){var re=(te-i)/6|0,t=i+re,k=te-1-re,n=i+te-1>>1,O=n-re,c=n+re,_=b[t],W=e(_),V=b[O],fe=e(V),j=b[n],ve=e(j),P=b[c],s=e(P),A=b[k],C=e(A),a;W>fe&&(a=_,_=V,V=a,a=W,W=fe,fe=a),s>C&&(a=P,P=A,A=a,a=s,s=C,C=a),W>ve&&(a=_,_=j,j=a,a=W,W=ve,ve=a),fe>ve&&(a=V,V=j,j=a,a=fe,fe=ve,ve=a),W>s&&(a=_,_=P,P=a,a=W,W=s,s=a),ve>s&&(a=j,j=P,P=a,a=ve,ve=s,s=a),fe>C&&(a=V,V=A,A=a,a=fe,fe=C,C=a),fe>ve&&(a=V,V=j,j=a,a=fe,fe=ve,ve=a),s>C&&(a=P,P=A,A=a,a=s,s=C,C=a);var v=V,g=fe,h=P,u=s;b[t]=_,b[O]=b[i],b[n]=j,b[c]=b[te-1],b[k]=A;var p=i+1,y=te-2,m=g<=u&&g>=u;if(m)for(var x=p;x<=y;++x){var L=b[x],X=e(L);if(X<g)x!==p&&(b[x]=b[p],b[p]=L),++p;else if(X>g)for(;;){var R=e(b[y]);if(R>g){y--;continue}else if(R<g){b[x]=b[p],b[p++]=b[y],b[y--]=L;break}else{b[x]=b[y],b[y--]=L;break}}}else(function(){for(var I=p;I<=y;I++){var D=b[I],B=e(D);if(B<g)I!==p&&(b[I]=b[p],b[p]=D),++p;else if(B>u)for(;;){var Q=e(b[y]);if(Q>u){if(y--,y<I)break;continue}else{Q<g?(b[I]=b[p],b[p++]=b[y],b[y--]=D):(b[I]=b[y],b[y--]=D);break}}}})();return b[i]=b[p-1],b[p-1]=v,b[te-1]=b[y+1],b[y+1]=h,f(b,i,p-1),f(b,y+2,te),m?b:(p<t&&y>k&&function(){for(var I,D;(I=e(b[p]))<=g&&I>=g;)++p;for(;(D=e(b[y]))<=u&&D>=u;)--y;for(var B=p;B<=y;B++){var Q=b[B],U=e(Q);if(U<=g&&U>=g)B!==p&&(b[B]=b[p],b[p]=Q),p++;else if(U<=u&&U>=u)for(;;)if(D=e(b[y]),D<=u&&D>=u){if(y--,y<B)break;continue}else{D<g?(b[B]=b[p],b[p++]=b[y],b[y--]=Q):(b[B]=b[y],b[y--]=Q);break}}}(),f(b,p,y+1))}return f}var nl=32;pa.exports=Bu(el);pa.exports.by=Bu});var Yu=At((th,Hu)=>{"use strict";function rl(e){return e+1}function il(e){return e-1}function al(e){return function(r,f){return r+ +e(f)}}function ul(e){return function(r,f){return r-e(f)}}Hu.exports={reduceIncrement:rl,reduceDecrement:il,reduceAdd:al,reduceSubtract:ul}});var Vu=At((nh,Gu)=>{Gu.exports={name:"crossfilter2",version:"1.4.6",description:"Fast multidimensional filtering for coordinated views.",license:"Apache-2.0",keywords:["analytics","visualization","crossfilter"],author:{name:"Mike Bostock",url:"http://bost.ocks.org/mike"},contributors:[{name:"Jason Davies",url:"http://www.jasondavies.com/"}],maintainers:[{name:"Gordon Woodhull",url:"https://github.com/gordonwoodhull"},{name:"Tanner Linsley",url:"https://github.com/tannerlinsley"},{name:"Ethan Jewett",url:"https://github.com/esjewett"}],homepage:"https://crossfilter.github.io/crossfilter/",main:"./index.js",types:"./index.d.ts",unpkg:"./crossfilter.min.js",repository:{type:"git",url:"http://github.com/crossfilter/crossfilter.git"},dependencies:{"lodash.result":"^4.4.0"},devDependencies:{browserify:"^13.0.0",d3:"3.5",eslint:"2.10.2","package-json-versionify":"1.0.2",semver:"^5.3.0",sinon:"^4.0.2","uglify-js":"2.4.0",vows:"0.7.0"},scripts:{benchmark:"node test/benchmark.js",build:"browserify index.js -t package-json-versionify --standalone crossfilter -o crossfilter.js && uglifyjs --compress --mangle --screw-ie8 crossfilter.js -o crossfilter.min.js",clean:"rm -f crossfilter.js crossfilter.min.js",test:"./node_modules/.bin/vows --verbose && eslint src/"},files:["src","index.js","index.d.ts","crossfilter.js","crossfilter.min.js"],eslintConfig:{env:{browser:!0,node:!0},globals:{Uint8Array:!0,Uint16Array:!0,Uint32Array:!0},extends:"eslint:recommended"}}});var uo=At((rh,$u)=>{var ol="Expected a function",Xu="__lodash_hash_undefined__",Wu=1/0,fl="[object Function]",sl="[object GeneratorFunction]",cl="[object Symbol]",ll=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dl=/^\w*$/,hl=/^\./,gl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vl=/[\\^$.*+?()[\]{}|]/g,ml=/\\(\\)?/g,pl=/^\[object .+?Constructor\]$/,yl=typeof global=="object"&&global&&global.Object===Object&&global,bl=typeof self=="object"&&self&&self.Object===Object&&self,ya=yl||bl||Function("return this")();function wl(e,r){return e==null?void 0:e[r]}function _l(e){var r=!1;if(e!=null&&typeof e.toString!="function")try{r=!!(e+"")}catch(f){}return r}var xl=Array.prototype,Al=Function.prototype,ju=Object.prototype,ba=ya["__core-js_shared__"],Ku=function(){var e=/[^.]+$/.exec(ba&&ba.keys&&ba.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Zu=Al.toString,wa=ju.hasOwnProperty,Qu=ju.toString,Ml=RegExp("^"+Zu.call(wa).replace(vl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ju=ya.Symbol,El=xl.splice,Sl=eo(ya,"Map"),Or=eo(Object,"create"),to=Ju?Ju.prototype:void 0,no=to?to.toString:void 0;function or(e){var r=-1,f=e?e.length:0;for(this.clear();++r<f;){var o=e[r];this.set(o[0],o[1])}}function Cl(){this.__data__=Or?Or(null):{}}function kl(e){return this.has(e)&&delete this.__data__[e]}function Rl(e){var r=this.__data__;if(Or){var f=r[e];return f===Xu?void 0:f}return wa.call(r,e)?r[e]:void 0}function Ll(e){var r=this.__data__;return Or?r[e]!==void 0:wa.call(r,e)}function Tl(e,r){var f=this.__data__;return f[e]=Or&&r===void 0?Xu:r,this}or.prototype.clear=Cl;or.prototype.delete=kl;or.prototype.get=Rl;or.prototype.has=Ll;or.prototype.set=Tl;function br(e){var r=-1,f=e?e.length:0;for(this.clear();++r<f;){var o=e[r];this.set(o[0],o[1])}}function Pl(){this.__data__=[]}function Nl(e){var r=this.__data__,f=jr(r,e);if(f<0)return!1;var o=r.length-1;return f==o?r.pop():El.call(r,f,1),!0}function Ol(e){var r=this.__data__,f=jr(r,e);return f<0?void 0:r[f][1]}function Dl(e){return jr(this.__data__,e)>-1}function Il(e,r){var f=this.__data__,o=jr(f,e);return o<0?f.push([e,r]):f[o][1]=r,this}br.prototype.clear=Pl;br.prototype.delete=Nl;br.prototype.get=Ol;br.prototype.has=Dl;br.prototype.set=Il;function fr(e){var r=-1,f=e?e.length:0;for(this.clear();++r<f;){var o=e[r];this.set(o[0],o[1])}}function zl(){this.__data__={hash:new or,map:new(Sl||br),string:new or}}function Fl(e){return Kr(this,e).delete(e)}function ql(e){return Kr(this,e).get(e)}function Bl(e){return Kr(this,e).has(e)}function Ul(e,r){return Kr(this,e).set(e,r),this}fr.prototype.clear=zl;fr.prototype.delete=Fl;fr.prototype.get=ql;fr.prototype.has=Bl;fr.prototype.set=Ul;function jr(e,r){for(var f=e.length;f--;)if(Hl(e[f][0],r))return f;return-1}function Vl(e){if(!io(e)||Yl(e))return!1;var r=ro(e)||_l(e)?Ml:pl;return r.test(Gl(e))}function $l(e){if(typeof e=="string")return e;if(_a(e))return no?no.call(e):"";var r=e+"";return r=="0"&&1/e==-Wu?"-0":r}function Wl(e){return ao(e)?e:Xl(e)}function Kr(e,r){var f=e.__data__;return jl(r)?f[typeof r=="string"?"string":"hash"]:f.map}function eo(e,r){var f=wl(e,r);return Vl(f)?f:void 0}function Kl(e,r){if(ao(e))return!1;var f=typeof e;return f=="number"||f=="symbol"||f=="boolean"||e==null||_a(e)?!0:dl.test(e)||!ll.test(e)||r!=null&&e in Object(r)}function jl(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function Yl(e){return!!Ku&&Ku in e}var Xl=xa(function(e){e=Zl(e);var r=[];return hl.test(e)&&r.push(""),e.replace(gl,function(f,o,b,i){r.push(b?i.replace(ml,"$1"):o||f)}),r});function Ql(e){if(typeof e=="string"||_a(e))return e;var r=e+"";return r=="0"&&1/e==-Wu?"-0":r}function Gl(e){if(e!=null){try{return Zu.call(e)}catch(r){}try{return e+""}catch(r){}}return""}function xa(e,r){if(typeof e!="function"||r&&typeof r!="function")throw new TypeError(ol);var f=function(){var o=arguments,b=r?r.apply(this,o):o[0],i=f.cache;if(i.has(b))return i.get(b);var te=e.apply(this,o);return f.cache=i.set(b,te),te};return f.cache=new(xa.Cache||fr),f}xa.Cache=fr;function Hl(e,r){return e===r||e!==e&&r!==r}var ao=Array.isArray;function ro(e){var r=io(e)?Qu.call(e):"";return r==fl||r==sl}function io(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function Jl(e){return!!e&&typeof e=="object"}function _a(e){return typeof e=="symbol"||Jl(e)&&Qu.call(e)==cl}function Zl(e){return e==null?"":$l(e)}function ed(e,r,f){r=Kl(r,e)?[r]:Wl(r);var o=-1,b=r.length;for(b||(e=void 0,b=1);++o<b;){var i=e==null?void 0:e[Ql(r[o])];i===void 0&&(o=b,i=f),e=ro(i)?i.call(e):i}return e}$u.exports=ed});var ho=At(Vn=>{"use strict";var Wn=Mu(),Dr=Su(),oo=ur(),qn=Ru(),Zr=Tu(),fo=Ou(),so=da(),Aa=Iu(),td=ma(),Qr=qu(),co=Uu(),jn=Yu(),nd=Vu(),rd=uo(),Kn=-1;Vn.crossfilter=id;Vn.crossfilter.heap=so;Vn.crossfilter.heapselect=fo;Vn.crossfilter.bisect=Aa;Vn.crossfilter.insertionsort=td;Vn.crossfilter.permute=Qr;Vn.crossfilter.quicksort=co;Vn.crossfilter.version=nd.version;function id(){var e={add:t,remove:k,dimension:c,groupAll:_,size:W,all:V,allFiltered:fe,onChange:j,isElementFiltered:O},r=[],f=0,o,b=[],i=[],te=[],re=[];o=new Wn.bitarray(0);function t(P){var s=f,A=P.length;return A&&(r=r.concat(P),o.lengthen(f+=A),i.forEach(function(C){C(P,s,A)}),ve("dataAdded")),e}function k(P){for(var s=Zn(f,f),A=[],C=typeof P=="function",a=function(p){return C?P(r[p],p):o.zero(p)},v=0,g=0;v<f;++v)a(v)?(A.push(v),s[v]=Kn):s[v]=g++;b.forEach(function(p){p(-1,-1,[],A,!0)}),te.forEach(function(p){p(s)});for(var h=0,u=0;h<f;++h)s[h]!==Kn&&(h!==u&&(o.copy(u,h),r[u]=r[h]),++u);r.length=f=u,o.truncate(u),ve("dataRemoved")}function n(P){var s,A,C,a,v=Array(o.subarrays);for(s=0;s<o.subarrays;s++)v[s]=~0;for(A=0,C=P.length;A<C;A++)a=P[A].id(),v[a>>7]&=~(1<<(a&63));return v}function O(P,s){var A=n(s||[]);return o.zeroExceptMask(P,A)}function c(P,s){if(typeof P=="string"){var A=P;P=function(Re){return rd(Re,A)}}var C={filter:ge,filterExact:Se,filterRange:he,filterFunction:ye,filterAll:oe,currentFilter:Xe,hasCurrentFilter:Be,top:it,bottom:mt,group:Pt,groupAll:Z,dispose:ce,remove:ce,accessor:P,id:function(){return h}},a,v,g,h,u,p,y,m,x,L,X,R,I=[],D=co.by(function(Re){return y[Re]}),B=Dr.filterAll,Q,U,Y,pe=[],Ce=[],Pe=0,l=0,F=0,S;i.unshift(d),i.push($),te.push(le);var T=o.add();g=T.offset,a=T.one,v=~a,h=g<<7|Math.log(a)/Math.log(2),d(r,0,f),$(r,0,f);function d(Re,Fe,Me){if(s){F=0,ne=0,S=[];for(var E=0;E<Re.length;E++)for(ne=0,S=P(Re[E]);ne<S.length;ne++)F++;y=[],L=Jr(Re.length),R=Zn(F,1);for(var me=Jr(F),G=0,Ae=0;Ae<Re.length;Ae++){if(S=P(Re[Ae]),!S.length){L[Ae]=0,I.push(Ae+Fe);continue}for(L[Ae]=S.length,ne=0;ne<S.length;ne++)y.push(S[ne]),me[G]=Ae,G++}var Ue=D(Jr(F),0,F);y=Qr(y,Ue),m=Qr(me,Ue)}else y=Re.map(P),m=D(Jr(Me),0,Me),y=Qr(y,m);s&&(Me=F);var je=B(y),vt=je[0],dt=je[1];if(Q)for(var Dt=0;Dt<Me;++Dt)Q(y[Dt],Dt)||(o[g][m[Dt]+Fe]|=a,s&&(R[Dt]=1));else{for(var Le=0;Le<vt;++Le)o[g][m[Le]+Fe]|=a,s&&(R[Le]=1);for(var $e=dt;$e<Me;++$e)o[g][m[$e]+Fe]|=a,s&&(R[$e]=1)}if(!Fe){u=y,p=m,x=L,X=R,Pe=vt,l=dt;return}var tt=u,K=p,be=X,N,ie=0;if(E=0,s&&(N=Fe,Fe=tt.length,Me=F),u=s?new Array(Fe+Me):new Array(f),p=s?new Array(Fe+Me):Zn(f,f),s&&(X=Zn(Fe+Me,1)),s){var we=x.length;x=Wn.arrayLengthen(x,f);for(var ne=0;ne+we<f;ne++)x[ne+we]=L[ne]}for(var H=0;E<Fe&&ie<Me;++H)tt[E]<y[ie]?(u[H]=tt[E],s&&(X[H]=be[E]),p[H]=K[E++]):(u[H]=y[ie],s&&(X[H]=R[ie]),p[H]=m[ie++]+(s?N:Fe));for(;E<Fe;++E,++H)u[H]=tt[E],s&&(X[H]=be[E]),p[H]=K[E];for(;ie<Me;++ie,++H)u[H]=y[ie],s&&(X[H]=R[ie]),p[H]=m[ie]+(s?N:Fe);je=B(u),Pe=je[0],l=je[1]}function $(Re,Fe,Me){pe.forEach(function(E){E(y,m,Fe,Me)}),y=m=null}function le(Re){if(s){for(var Fe=0,Me=0;Fe<I.length;Fe++)Re[I[Fe]]!==Kn&&(I[Me]=Re[I[Fe]],Me++);for(I.length=Me,Fe=0,Me=0;Fe<f;Fe++)Re[Fe]!==Kn&&(Me!==Fe&&(x[Me]=x[Fe]),Me++);x.length=Me}for(var E=u.length,me=0,G=0,Ae;me<E;++me)Ae=p[me],Re[Ae]!==Kn&&(me!==G&&(u[G]=u[me]),p[G]=Re[Ae],s&&(X[G]=X[me]),++G);for(u.length=G,s&&(X.length=G);G<E;)p[G++]=0;var Ue=B(u);Pe=Ue[0],l=Ue[1]}function q(Re){var Fe=Re[0],Me=Re[1];if(Q)return Q=null,Oe(function(Le,$e){return Fe<=$e&&$e<Me},Re[0]===0&&Re[1]===u.length),Pe=Fe,l=Me,C;var E,me,G,Ae=[],Ue=[],je=[],vt=[];if(Fe<Pe)for(E=Fe,me=Math.min(Pe,Me);E<me;++E)Ae.push(p[E]),je.push(E);else if(Fe>Pe)for(E=Pe,me=Math.min(Fe,l);E<me;++E)Ue.push(p[E]),vt.push(E);if(Me>l)for(E=Math.max(Fe,l),me=Me;E<me;++E)Ae.push(p[E]),je.push(E);else if(Me<l)for(E=Math.max(Pe,Me),me=l;E<me;++E)Ue.push(p[E]),vt.push(E);if(s){var dt=[],Dt=[];for(E=0;E<Ae.length;E++)x[Ae[E]]++,X[je[E]]=0,x[Ae[E]]===1&&(o[g][Ae[E]]^=a,dt.push(Ae[E]));for(E=0;E<Ue.length;E++)x[Ue[E]]--,X[vt[E]]=1,x[Ue[E]]===0&&(o[g][Ue[E]]^=a,Dt.push(Ue[E]));if(Ae=dt,Ue=Dt,Re[0]===0&&Re[1]===u.length)for(E=0;E<I.length;E++)o[g][G=I[E]]&a&&(o[g][G]^=a,Ae.push(G));else for(E=0;E<I.length;E++)o[g][G=I[E]]&a||(o[g][G]^=a,Ue.push(G))}else{for(E=0;E<Ae.length;E++)o[g][Ae[E]]^=a;for(E=0;E<Ue.length;E++)o[g][Ue[E]]^=a}return Pe=Fe,l=Me,b.forEach(function(Le){Le(a,g,Ae,Ue)}),ve("filtered"),C}function ge(Re){return Re==null?oe():Array.isArray(Re)?he(Re):typeof Re=="function"?ye(Re):Se(Re)}function Se(Re){return U=Re,Y=!0,q((B=Dr.filterExact(Aa,Re))(u))}function he(Re){return U=Re,Y=!0,q((B=Dr.filterRange(Aa,Re))(u))}function oe(){return U=void 0,Y=!1,q((B=Dr.filterAll)(u))}function ye(Re){U=Re,Y=!0,Q=Re,B=Dr.filterAll,Oe(Re,!1);var Fe=B(u);return Pe=Fe[0],l=Fe[1],C}function Oe(Re,Fe){var Me,E,me,G=[],Ae=[],Ue=[],je=[],vt=u.length;if(!s)for(Me=0;Me<vt;++Me)!(o[g][E=p[Me]]&a)^!!(me=Re(u[Me],Me))&&(me?G.push(E):Ae.push(E));if(s)for(Me=0;Me<vt;++Me)Re(u[Me],Me)?(G.push(p[Me]),Ue.push(Me)):(Ae.push(p[Me]),je.push(Me));if(s){var dt=[],Dt=[];for(Me=0;Me<G.length;Me++)X[Ue[Me]]===1&&(x[G[Me]]++,X[Ue[Me]]=0,x[G[Me]]===1&&(o[g][G[Me]]^=a,dt.push(G[Me])));for(Me=0;Me<Ae.length;Me++)X[je[Me]]===0&&(x[Ae[Me]]--,X[je[Me]]=1,x[Ae[Me]]===0&&(o[g][Ae[Me]]^=a,Dt.push(Ae[Me])));if(G=dt,Ae=Dt,Fe)for(Me=0;Me<I.length;Me++)o[g][E=I[Me]]&a&&(o[g][E]^=a,G.push(E));else for(Me=0;Me<I.length;Me++)o[g][E=I[Me]]&a||(o[g][E]^=a,Ae.push(E))}else{for(Me=0;Me<G.length;Me++)o[g][G[Me]]&a&&(o[g][G[Me]]&=v);for(Me=0;Me<Ae.length;Me++)o[g][Ae[Me]]&a||(o[g][Ae[Me]]|=a)}b.forEach(function(Le){Le(a,g,G,Ae)}),ve("filtered")}function Xe(){return U}function Be(){return Y}function it(Re,Fe){var Me=[],E=l,me,G=0;for(Fe&&Fe>0&&(G=Fe);--E>=Pe&&Re>0;)o.zero(me=p[E])&&(G>0?--G:(Me.push(r[me]),--Re));if(s)for(E=0;E<I.length&&Re>0;E++)o.zero(me=I[E])&&(G>0?--G:(Me.push(r[me]),--Re));return Me}function mt(Re,Fe){var Me=[],E,me,G=0;if(Fe&&Fe>0&&(G=Fe),s)for(E=0;E<I.length&&Re>0;E++)o.zero(me=I[E])&&(G>0?--G:(Me.push(r[me]),--Re));for(E=Pe;E<l&&Re>0;)o.zero(me=p[E])&&(G>0?--G:(Me.push(r[me]),--Re)),E++;return Me}function Pt(Re){var Fe={top:ue,all:J,reduce:Ee,reduceCount:Ne,reduceSum:xe,order:qe,orderNatural:Ye,size:Je,dispose:ht,remove:ht};Ce.push(Fe);var Me,E,me=8,G=lo(me),Ae=0,Ue,je,vt,dt,Dt,Le=qn,$e=qn,tt=!0,K=Re===qn,be;arguments.length<1&&(Re=oo),b.push(Le),pe.push(N),te.push(ie),N(u,p,0,f);function N(We,ot,wt,Ft){s&&(be=wt,wt=u.length-We.length,Ft=We.length);var Ct=Me,Rt=s?[]:Zn(Ae,G),$t=vt,Gt=dt,St=Dt,Wt=Ae,Yt=0,nn=0,an,ln,_e,De,ut,bt;for(tt&&($t=St=qn),tt&&(Gt=St=qn),Me=new Array(Ae),Ae=0,s?E=Wt?E:[]:E=Wt>1?Wn.arrayLengthen(E,f):Zn(f,G),Wt&&(_e=(ln=Ct[0]).key);nn<Ft&&!((De=Re(We[nn]))>=De);)++nn;for(;nn<Ft;){for(ln&&_e<=De?(ut=ln,bt=_e,Rt[Yt]=Ae,ln=Ct[++Yt],ln&&(_e=ln.key)):(ut={key:De,value:St()},bt=De),Me[Ae]=ut;De<=bt&&(an=ot[nn]+(s?be:wt),s?E[an]?E[an].push(Ae):E[an]=[Ae]:E[an]=Ae,ut.value=$t(ut.value,r[an],!0),o.zeroExcept(an,g,v)||(ut.value=Gt(ut.value,r[an],!1)),!(++nn>=Ft));)De=Re(We[nn]);Lt()}for(;Yt<Wt;)Me[Rt[Yt]=Ae]=Ct[Yt++],Lt();if(s)for(var pt=0;pt<f;pt++)E[pt]||(E[pt]=[]);if(Ae>Yt)if(s)for(Yt=0;Yt<be;++Yt)for(pt=0;pt<E[Yt].length;pt++)E[Yt][pt]=Rt[E[Yt][pt]];else for(Yt=0;Yt<wt;++Yt)E[Yt]=Rt[E[Yt]];an=b.indexOf(Le),Ae>1||s?(Le=we,$e=H):(!Ae&&K&&(Ae=1,Me=[{key:null,value:St()}]),Ae===1?(Le=ne,$e=ee):(Le=qn,$e=qn),E=null),b[an]=Le;function Lt(){if(s){Ae++;return}++Ae===G&&(Rt=Wn.arrayWiden(Rt,me<<=1),E=Wn.arrayWiden(E,me),G=lo(me))}}function ie(We){if(Ae>1||s){var ot=Ae,wt=Me,Ft=Zn(ot,ot),Ct,Rt,$t;if(s){for(Ct=0,$t=0;Ct<f;++Ct)if(We[Ct]!==Kn){for(E[$t]=E[Ct],Rt=0;Rt<E[$t].length;Rt++)Ft[E[$t][Rt]]=1;++$t}}else for(Ct=0,$t=0;Ct<f;++Ct)We[Ct]!==Kn&&(Ft[E[$t]=E[Ct]]=1,++$t);for(Me=[],Ae=0,Ct=0;Ct<ot;++Ct)Ft[Ct]&&(Ft[Ct]=Ae++,Me.push(wt[Ct]));if(Ae>1||s)if(s)for(Ct=0;Ct<$t;++Ct)for(Rt=0;Rt<E[Ct].length;++Rt)E[Ct][Rt]=Ft[E[Ct][Rt]];else for(Ct=0;Ct<$t;++Ct)E[Ct]=Ft[E[Ct]];else E=null;b[b.indexOf(Le)]=Ae>1||s?($e=H,Le=we):Ae===1?($e=ee,Le=ne):$e=Le=qn}else if(Ae===1){if(K)return;for(var Gt=0;Gt<f;++Gt)if(We[Gt]!==Kn)return;Me=[],Ae=0,b[b.indexOf(Le)]=Le=$e=qn}}function we(We,ot,wt,Ft,Ct){if(!(We===a&&ot===g||tt)){var Rt,$t,Gt,St,Wt;if(s){for(Rt=0,St=wt.length;Rt<St;++Rt)if(o.zeroExcept(Gt=wt[Rt],g,v))for($t=0;$t<E[Gt].length;$t++)Wt=Me[E[Gt][$t]],Wt.value=vt(Wt.value,r[Gt],!1,$t);for(Rt=0,St=Ft.length;Rt<St;++Rt)if(o.onlyExcept(Gt=Ft[Rt],g,v,ot,We))for($t=0;$t<E[Gt].length;$t++)Wt=Me[E[Gt][$t]],Wt.value=dt(Wt.value,r[Gt],Ct,$t);return}for(Rt=0,St=wt.length;Rt<St;++Rt)o.zeroExcept(Gt=wt[Rt],g,v)&&(Wt=Me[E[Gt]],Wt.value=vt(Wt.value,r[Gt],!1));for(Rt=0,St=Ft.length;Rt<St;++Rt)o.onlyExcept(Gt=Ft[Rt],g,v,ot,We)&&(Wt=Me[E[Gt]],Wt.value=dt(Wt.value,r[Gt],Ct))}}function ne(We,ot,wt,Ft,Ct){if(!(We===a&&ot===g||tt)){var Rt,$t,Gt,St=Me[0];for(Rt=0,Gt=wt.length;Rt<Gt;++Rt)o.zeroExcept($t=wt[Rt],g,v)&&(St.value=vt(St.value,r[$t],!1));for(Rt=0,Gt=Ft.length;Rt<Gt;++Rt)o.onlyExcept($t=Ft[Rt],g,v,ot,We)&&(St.value=dt(St.value,r[$t],Ct))}}function H(){var We,ot,wt;for(We=0;We<Ae;++We)Me[We].value=Dt();if(s){for(We=0;We<f;++We)for(ot=0;ot<E[We].length;ot++)wt=Me[E[We][ot]],wt.value=vt(wt.value,r[We],!0,ot);for(We=0;We<f;++We)if(!o.zeroExcept(We,g,v))for(ot=0;ot<E[We].length;ot++)wt=Me[E[We][ot]],wt.value=dt(wt.value,r[We],!1,ot);return}for(We=0;We<f;++We)wt=Me[E[We]],wt.value=vt(wt.value,r[We],!0);for(We=0;We<f;++We)o.zeroExcept(We,g,v)||(wt=Me[E[We]],wt.value=dt(wt.value,r[We],!1))}function ee(){var We,ot=Me[0];for(ot.value=Dt(),We=0;We<f;++We)ot.value=vt(ot.value,r[We],!0);for(We=0;We<f;++We)o.zeroExcept(We,g,v)||(ot.value=dt(ot.value,r[We],!1))}function J(){return tt&&($e(),tt=!1),Me}function ue(We){var ot=Ue(J(),0,Me.length,We);return je.sort(ot,0,ot.length)}function Ee(We,ot,wt){return vt=We,dt=ot,Dt=wt,tt=!0,Fe}function Ne(){return Ee(jn.reduceIncrement,jn.reduceDecrement,Zr)}function xe(We){return Ee(jn.reduceAdd(We),jn.reduceSubtract(We),Zr)}function qe(We){Ue=fo.by(ot),je=so.by(ot);function ot(wt){return We(wt.value)}return Fe}function Ye(){return qe(oo)}function Je(){return Ae}function ht(){var We=b.indexOf(Le);return We>=0&&b.splice(We,1),We=pe.indexOf(N),We>=0&&pe.splice(We,1),We=te.indexOf(ie),We>=0&&te.splice(We,1),We=Ce.indexOf(Fe),We>=0&&Ce.splice(We,1),Fe}return Ne().orderNatural()}function Z(){var Re=Pt(qn),Fe=Re.all;return delete Re.all,delete Re.top,delete Re.order,delete Re.orderNatural,delete Re.size,Re.value=function(){return Fe()[0].value},Re}function ce(){Ce.forEach(function(Fe){Fe.dispose()});var Re=i.indexOf(d);return Re>=0&&i.splice(Re,1),Re=i.indexOf($),Re>=0&&i.splice(Re,1),Re=te.indexOf(le),Re>=0&&te.splice(Re,1),o.masks[g]&=v,oe()}return C}function _(){var P={reduce:p,reduceCount:y,reduceSum:m,value:x,dispose:L,remove:L},s,A,C,a,v=!0;b.push(h),i.push(g),g(r,0,f);function g(X,R){var I;if(!v)for(I=R;I<f;++I)s=A(s,r[I],!0),o.zero(I)||(s=C(s,r[I],!1))}function h(X,R,I,D,B){var Q,U,Y;if(!v){for(Q=0,Y=I.length;Q<Y;++Q)o.zero(U=I[Q])&&(s=A(s,r[U],B));for(Q=0,Y=D.length;Q<Y;++Q)o.only(U=D[Q],R,X)&&(s=C(s,r[U],B))}}function u(){var X;for(s=a(),X=0;X<f;++X)s=A(s,r[X],!0),o.zero(X)||(s=C(s,r[X],!1))}function p(X,R,I){return A=X,C=R,a=I,v=!0,P}function y(){return p(jn.reduceIncrement,jn.reduceDecrement,Zr)}function m(X){return p(jn.reduceAdd(X),jn.reduceSubtract(X),Zr)}function x(){return v&&(u(),v=!1),s}function L(){var X=b.indexOf(h);return X>=0&&b.splice(X,1),X=i.indexOf(g),X>=0&&i.splice(X,1),P}return y()}function W(){return f}function V(){return r}function fe(P){var s=[],A=0,C=n(P||[]);for(A=0;A<f;A++)o.zeroExceptMask(A,C)&&s.push(r[A]);return s}function j(P){if(typeof P!="function"){console.warn("onChange callback parameter must be a function!");return}return re.push(P),function(){re.splice(re.indexOf(P),1)}}function ve(P){for(var s=0;s<re.length;s++)re[s](P)}return arguments.length?t(arguments[0]):e}function Zn(e,r){return(r<257?Wn.array8:r<65537?Wn.array16:Wn.array32)(e)}function Jr(e){for(var r=Zn(e,e),f=-1;++f<e;)r[f]=f;return r}function lo(e){return e===8?256:e===16?65536:4294967296}});var Qn=At((ah,go)=>{go.exports=ho().crossfilter});var mo=At((uh,vo)=>{var ad={add:function(e,r,f){return function(o,b,i){return e(b,i)?r&&r(o,b,i):f&&f(o,b,i),o}},remove:function(e,r,f){return function(o,b,i){return e(b,i)?r&&r(o,b,i):f&&f(o,b,i),o}}};vo.exports=ad});var yo=At((oh,po)=>{var ud={add:function(e,r,f){return function(o,b,i){return e&&e(o,b,i),r(o)[f]++,o}},remove:function(e,r,f){return function(o,b,i){return e&&e(o,b,i),r(o)[f]--,o}},initial:function(e,r,f){return function(o){return e&&(o=e(o)),r(o)[f]=0,o}}};po.exports=ud});var wo=At((fh,bo)=>{var od={add:function(e,r,f){return function(o,b,i){return r&&r(o,b,i),f(o).sum=f(o).sum+e(b),o}},remove:function(e,r,f){return function(o,b,i){return r&&r(o,b,i),f(o).sum=f(o).sum-e(b),o}},initial:function(e,r){return function(f){return f=e(f),r(f).sum=0,f}}};bo.exports=od});var xo=At((sh,_o)=>{var fd={add:function(e,r,f){return function(o,b,i){return r&&r(o,b,i),f(o).count>0?f(o).avg=f(o).sum/f(o).count:f(o).avg=0,o}},remove:function(e,r,f){return function(o,b,i){return r&&r(o,b,i),f(o).count>0?f(o).avg=f(o).sum/f(o).count:f(o).avg=0,o}},initial:function(e,r){return function(f){return f=e(f),r(f).avg=0,f}}};_o.exports=fd});var Mo=At((ch,Ao)=>{var sd={add:function(e,r){var f;return function(o,b,i){return e&&e(o,b,i),f=Math.floor(r(o).valueList.length/2),r(o).valueList.length%2?r(o).median=r(o).valueList[f]:r(o).median=(r(o).valueList[f-1]+r(o).valueList[f])/2,o}},remove:function(e,r){var f;return function(o,b,i){return e&&e(o,b,i),f=Math.floor(r(o).valueList.length/2),r(o).valueList.length===0?(r(o).median=void 0,o):(r(o).valueList.length===1||r(o).valueList.length%2?r(o).median=r(o).valueList[f]:r(o).median=(r(o).valueList[f-1]+r(o).valueList[f])/2,o)}},initial:function(e,r){return function(f){return f=e(f),r(f).median=void 0,f}}};Ao.exports=sd});var So=At((lh,Eo)=>{var cd={add:function(e,r){return function(f,o,b){return e&&e(f,o,b),r(f).min=r(f).valueList[0],f}},remove:function(e,r){return function(f,o,b){return e&&e(f,o,b),r(f).valueList.length===0?(r(f).min=void 0,f):(r(f).min=r(f).valueList[0],f)}},initial:function(e,r){return function(f){return f=e(f),r(f).min=void 0,f}}};Eo.exports=cd});var ko=At((dh,Co)=>{var ld={add:function(e,r){return function(f,o,b){return e&&e(f,o,b),r(f).max=r(f).valueList[r(f).valueList.length-1],f}},remove:function(e,r){return function(f,o,b){return e&&e(f,o,b),r(f).valueList.length===0?(r(f).max=void 0,f):(r(f).max=r(f).valueList[r(f).valueList.length-1],f)}},initial:function(e,r){return function(f){return f=e(f),r(f).max=void 0,f}}};Co.exports=ld});var Lo=At((hh,Ro)=>{var dd=Qn(),hd={add:function(e,r,f){var o,b;return function(i,te,re){return r&&r(i,te,re),o=f(i).bisect(f(i).values,e(te),0,f(i).values.length),b=f(i).values[o],b&&b[0]===e(te)?b[1]++:f(i).values.splice(o,0,[e(te),1]),i}},remove:function(e,r,f){var o;return function(b,i,te){return r&&r(b,i,te),o=f(b).bisect(f(b).values,e(i),0,f(b).values.length),f(b).values[o][1]--,b}},initial:function(e,r){return function(f){return f=e(f),r(f).values=[],r(f).bisect=dd.bisect.by(function(o){return o[0]}).left,f}}};Ro.exports=hd});var No=At((gh,To)=>{var Po=Qn(),gd={add:function(e,r,f){var o,b=Po.bisect.by(function(i){return i}).left;return function(i,te,re){return r&&r(i,te,re),o=b(f(i).valueList,e(te),0,f(i).valueList.length),f(i).valueList.splice(o,0,e(te)),i}},remove:function(e,r,f){var o,b=Po.bisect.by(function(i){return i}).left;return function(i,te,re){return r&&r(i,te,re),o=b(f(i).valueList,e(te),0,f(i).valueList.length),f(i).valueList.splice(o,1),i}},initial:function(e,r){return function(f){return f=e(f),r(f).valueList=[],f}}};To.exports=gd});var Do=At((vh,Oo)=>{var vd={add:function(e,r,f){var o,b;return function(i,te,re){return r&&r(i,te,re),o=f(i).bisect(f(i).values,e(te),0,f(i).values.length),b=f(i).values[o],(!b||b[0]!==e(te)||b[1]===0)&&f(i).exceptionCount++,i}},remove:function(e,r,f){var o,b;return function(i,te,re){return r&&r(i,te,re),o=f(i).bisect(f(i).values,e(te),0,f(i).values.length),b=f(i).values[o],b&&b[0]===e(te)&&b[1]===1&&f(i).exceptionCount--,i}},initial:function(e,r){return function(f){return f=e(f),r(f).exceptionCount=0,f}}};Oo.exports=vd});var zo=At((mh,Io)=>{var md={add:function(e,r,f,o){var b,i;return function(te,re,t){return f&&f(te,re,t),b=o(te).bisect(o(te).values,e(re),0,o(te).values.length),i=o(te).values[b],(!i||i[0]!==e(re)||i[1]===0)&&(o(te).exceptionSum=o(te).exceptionSum+r(re)),te}},remove:function(e,r,f,o){var b,i;return function(te,re,t){return f&&f(te,re,t),b=o(te).bisect(o(te).values,e(re),0,o(te).values.length),i=o(te).values[b],i&&i[0]===e(re)&&i[1]===1&&(o(te).exceptionSum=o(te).exceptionSum-r(re)),te}},initial:function(e,r){return function(f){return f=e(f),r(f).exceptionSum=0,f}}};Io.exports=md});var qo=At((ph,Fo)=>{var ei=Qn(),pd={add:function(e,r,f){var o=ei.bisect.by(function(te){return te}).left,b=ei.bisect.by(function(te){return te.x}).right,i;return function(te,re,t){return r&&r(te,re,t),i=f(te).histogram[b(f(te).histogram,e(re),0,f(te).histogram.length)-1],i.y++,i.splice(o(i,e(re),0,i.length),0,e(re)),te}},remove:function(e,r,f){var o=ei.bisect.by(function(te){return te}).left,b=ei.bisect.by(function(te){return te.x}).right,i;return function(te,re,t){return r&&r(te,re,t),i=f(te).histogram[b(f(te).histogram,e(re),0,f(te).histogram.length)-1],i.y--,i.splice(o(i,e(re),0,i.length),1),te}},initial:function(e,r,f){return function(o){o=r(o),f(o).histogram=[];for(var b=[],i=1;i<e.length;i++)b=[],b.x=e[i-1],b.dx=e[i]-e[i-1],b.y=0,f(o).histogram.push(b);return o}}};Fo.exports=pd});var Uo=At((yh,Bo)=>{var yd={add:function(e,r,f){return function(o,b,i){return r&&r(o,b,i),f(o).sumOfSq=f(o).sumOfSq+e(b)*e(b),o}},remove:function(e,r,f){return function(o,b,i){return r&&r(o,b,i),f(o).sumOfSq=f(o).sumOfSq-e(b)*e(b),o}},initial:function(e,r){return function(f){return f=e(f),r(f).sumOfSq=0,f}}};Bo.exports=yd});var Yo=At((bh,Ho)=>{var bd={add:function(e,r){return function(f,o,b){if(e&&e(f,o,b),r(f).count>0){r(f).std=0;var i=r(f).sumOfSq-r(f).sum*r(f).sum/r(f).count;i>0&&(r(f).std=Math.sqrt(i/(r(f).count-1)))}else r(f).std=0;return f}},remove:function(e,r){return function(f,o,b){if(e&&e(f,o,b),r(f).count>0){r(f).std=0;var i=r(f).sumOfSq-r(f).sum*r(f).sum/r(f).count;i>0&&(r(f).std=Math.sqrt(i/(r(f).count-1)))}else r(f).std=0;return f}},initial:function(e,r){return function(f){return f=e(f),r(f).std=0,f}}};Ho.exports=bd});var Vo=At((_h,Go)=>{var wh=Qn(),wd={add:function(e,r,f){var o,b,i;return function(te,re,t){return r&&r(te,re,t),b=f(te).nest,e.forEach(function(k){i=b.filter(function(n){return n.key===k(re)})[0],i?b=i.values:(i=[],b.push({key:k(re),values:i}),b=i)}),b.push(re),te}},remove:function(e,r,f){var o,b;return function(i,te,re){return r&&r(i,te,re),o=f(i).nest,e.forEach(function(t){o=o.filter(function(k){return k.key===t(te)})[0].values}),o.splice(o.indexOf(te),1),i}},initial:function(e,r){return function(f){return f=e(f),r(f).nest=[],f}}};Go.exports=wd});var Xo=At((xh,$o)=>{var _d={initial:function(e,r,f){return function(o){e&&(o=e(o));function b(te){return function(){return f[te](r(o))}}for(var i in f)r(o)[i]=b(i);return o}}};$o.exports=_d});var jo=At((Ah,Wo)=>{var xd={add:function(e,r,f){return function(o,b,i){r&&r(o,b,i);for(var te in e)f(o)[te]=e[te](f(o),b);return o}}};Wo.exports=xd});var Zo=At((Mh,Ko)=>{var Ad={add:function(e,r,f){return function(o,b,i){return r&&r(o,b,i),f(o).dataList.push(b),o}},remove:function(e,r,f){return function(o,b,i){return r&&r(o,b,i),f(o).dataList.splice(f(o).dataList.indexOf(b),1),o}},initial:function(e,r){return function(f){return e&&(f=e(f)),r(f).dataList=[],f}}};Ko.exports=Ad});var Jo=At((Eh,Qo)=>{var Md={add:function(e,r,f){return function(o,b,i){return e&&e(o,b,i),f(o,b)}},remove:function(e,r,f){return function(o,b,i){return e&&e(o,b,i),f(o,b)}},initial:function(e,r,f){return function(o){return e&&(o=e(o)),f(o)}}};Qo.exports=Md});var af=At((Sh,ef)=>{var tf=mo(),Ma=yo(),Ea=wo(),Sa=xo(),Ca=Mo(),ka=So(),Ra=ko(),La=Lo(),Ta=No(),Pa=Do(),Na=zo(),Oa=qo(),Da=Uo(),Ia=Yo(),za=Vo(),Ed=Xo(),nf=jo(),Fa=Zo(),qa=Jo();function rf(e,r,f){f||(f=function(b){return b});var o={reduceAdd:r.reduceAdd,reduceRemove:r.reduceRemove,reduceInitial:r.reduceInitial};(e.count||e.std)&&(r.reduceAdd=Ma.add(r.reduceAdd,f,e.count),r.reduceRemove=Ma.remove(r.reduceRemove,f,e.count),r.reduceInitial=Ma.initial(r.reduceInitial,f,e.count)),e.sum&&(r.reduceAdd=Ea.add(e.sum,r.reduceAdd,f),r.reduceRemove=Ea.remove(e.sum,r.reduceRemove,f),r.reduceInitial=Ea.initial(r.reduceInitial,f)),e.avg&&(!e.count||!e.sum?console.error("You must set .count(true) and define a .sum(accessor) to use .avg(true)."):(r.reduceAdd=Sa.add(e.sum,r.reduceAdd,f),r.reduceRemove=Sa.remove(e.sum,r.reduceRemove,f),r.reduceInitial=Sa.initial(r.reduceInitial,f))),e.exceptionCount&&(e.exceptionAccessor?(r.reduceAdd=Pa.add(e.exceptionAccessor,r.reduceAdd,f),r.reduceRemove=Pa.remove(e.exceptionAccessor,r.reduceRemove,f),r.reduceInitial=Pa.initial(r.reduceInitial,f)):console.error("You must define an .exception(accessor) to use .exceptionCount(true).")),e.exceptionSum&&(e.exceptionAccessor?(r.reduceAdd=Na.add(e.exceptionAccessor,e.exceptionSum,r.reduceAdd,f),r.reduceRemove=Na.remove(e.exceptionAccessor,e.exceptionSum,r.reduceRemove,f),r.reduceInitial=Na.initial(r.reduceInitial,f)):console.error("You must define an .exception(accessor) to use .exceptionSum(accessor).")),(e.valueList||e.median||e.min||e.max)&&(r.reduceAdd=Ta.add(e.valueList,r.reduceAdd,f),r.reduceRemove=Ta.remove(e.valueList,r.reduceRemove,f),r.reduceInitial=Ta.initial(r.reduceInitial,f)),e.dataList&&(r.reduceAdd=Fa.add(e.dataList,r.reduceAdd,f),r.reduceRemove=Fa.remove(e.dataList,r.reduceRemove,f),r.reduceInitial=Fa.initial(r.reduceInitial,f)),e.median&&(r.reduceAdd=Ca.add(r.reduceAdd,f),r.reduceRemove=Ca.remove(r.reduceRemove,f),r.reduceInitial=Ca.initial(r.reduceInitial,f)),e.min&&(r.reduceAdd=ka.add(r.reduceAdd,f),r.reduceRemove=ka.remove(r.reduceRemove,f),r.reduceInitial=ka.initial(r.reduceInitial,f)),e.max&&(r.reduceAdd=Ra.add(r.reduceAdd,f),r.reduceRemove=Ra.remove(r.reduceRemove,f),r.reduceInitial=Ra.initial(r.reduceInitial,f)),e.exceptionAccessor&&(r.reduceAdd=La.add(e.exceptionAccessor,r.reduceAdd,f),r.reduceRemove=La.remove(e.exceptionAccessor,r.reduceRemove,f),r.reduceInitial=La.initial(r.reduceInitial,f)),e.histogramValue&&e.histogramThresholds&&(r.reduceAdd=Oa.add(e.histogramValue,r.reduceAdd,f),r.reduceRemove=Oa.remove(e.histogramValue,r.reduceRemove,f),r.reduceInitial=Oa.initial(e.histogramThresholds,r.reduceInitial,f)),e.sumOfSquares&&(r.reduceAdd=Da.add(e.sumOfSquares,r.reduceAdd,f),r.reduceRemove=Da.remove(e.sumOfSquares,r.reduceRemove,f),r.reduceInitial=Da.initial(r.reduceInitial,f)),e.std&&(!e.sumOfSquares||!e.sum?console.error("You must set .sumOfSq(accessor) and define a .sum(accessor) to use .std(true). Or use .std(accessor)."):(r.reduceAdd=Ia.add(r.reduceAdd,f),r.reduceRemove=Ia.remove(r.reduceRemove,f),r.reduceInitial=Ia.initial(r.reduceInitial,f))),e.custom&&(r.reduceAdd=qa.add(r.reduceAdd,f,e.custom.add),r.reduceRemove=qa.remove(r.reduceRemove,f,e.custom.remove),r.reduceInitial=qa.initial(r.reduceInitial,f,e.custom.initial)),e.nestKeys&&(r.reduceAdd=za.add(e.nestKeys,r.reduceAdd,f),r.reduceRemove=za.remove(e.nestKeys,r.reduceRemove,f),r.reduceInitial=za.initial(r.reduceInitial,f)),e.aliasKeys&&(r.reduceInitial=Ed.initial(r.reduceInitial,f,e.aliasKeys)),e.aliasPropKeys&&(r.reduceAdd=nf.add(e.aliasPropKeys,r.reduceAdd,f),r.reduceRemove=nf.add(e.aliasPropKeys,r.reduceRemove,f)),e.filter&&(r.reduceAdd=tf.add(e.filter,r.reduceAdd,o.reduceAdd,f),r.reduceRemove=tf.remove(e.filter,r.reduceRemove,o.reduceRemove,f)),e.values&&Object.getOwnPropertyNames(e.values).forEach(function(b){var i=function(te){return function(re){return re=te(re),f(re)[b]={},re}};r.reduceInitial=i(r.reduceInitial),rf(e.values[b].parameters,r,function(te){return te[b]})})}var Sd={build:rf};ef.exports=Sd});var Ba=At((Ch,uf)=>{var Cd=function(){return{order:!1,avg:!1,count:!1,sum:!1,exceptionAccessor:!1,exceptionCount:!1,exceptionSum:!1,filter:!1,valueList:!1,median:!1,histogramValue:!1,min:!1,max:!1,histogramThresholds:!1,std:!1,sumOfSquares:!1,values:!1,nestKeys:!1,aliasKeys:!1,aliasPropKeys:!1,groupAll:!1,dataList:!1,custom:!1}};uf.exports=Cd});var sf=At((kh,of)=>{var kd=Ba();_assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(r),o=1;o<arguments.length;++o){var b=arguments[o];if(b!=null)for(var i in b)b.hasOwnProperty(i)&&(f[i]=b[i])}return f};function ff(e,r){function f(b){if(typeof b=="string"){var i=b,te=function(re){return re[i]};return te}else return b}function o(b){if(typeof b=="string"){var i=b,te=function(re){return+re[i]};return te}else return b}e.fromObject=function(b){return arguments.length?(_assign(r,b),e):r},e.toObject=function(){return r},e.count=function(b,i){return arguments.length?(i||(i="count"),r.count=i,e):r.count},e.sum=function(b){return arguments.length?(b=o(b),r.sum=b,e):r.sum},e.avg=function(b){return arguments.length?(b=o(b),typeof b=="function"?(r.sum&&r.sum!==b&&console.warn("SUM aggregation is being overwritten by AVG aggregation"),r.sum=b,r.avg=!0,r.count="count"):r.avg=b,e):r.avg},e.exception=function(b){return arguments.length?(b=f(b),r.exceptionAccessor=b,e):r.exceptionAccessor},e.filter=function(b){return arguments.length?(r.filter=b,e):r.filter},e.valueList=function(b){return arguments.length?(b=f(b),r.valueList=b,e):r.valueList},e.median=function(b){return arguments.length?(b=o(b),typeof b=="function"&&(r.valueList&&r.valueList!==b&&console.warn("VALUELIST accessor is being overwritten by median aggregation"),r.valueList=b),r.median=b,e):r.median},e.min=function(b){return arguments.length?(b=o(b),typeof b=="function"&&(r.valueList&&r.valueList!==b&&console.warn("VALUELIST accessor is being overwritten by min aggregation"),r.valueList=b),r.min=b,e):r.min},e.max=function(b){return arguments.length?(b=o(b),typeof b=="function"&&(r.valueList&&r.valueList!==b&&console.warn("VALUELIST accessor is being overwritten by max aggregation"),r.valueList=b),r.max=b,e):r.max},e.exceptionCount=function(b){return arguments.length?(b=f(b),typeof b=="function"?(r.exceptionAccessor&&r.exceptionAccessor!==b&&console.warn("EXCEPTION accessor is being overwritten by exception count aggregation"),r.exceptionAccessor=b,r.exceptionCount=!0):r.exceptionCount=b,e):r.exceptionCount},e.exceptionSum=function(b){return arguments.length?(b=o(b),r.exceptionSum=b,e):r.exceptionSum},e.histogramValue=function(b){return arguments.length?(b=o(b),r.histogramValue=b,e):r.histogramValue},e.histogramBins=function(b){return arguments.length?(r.histogramThresholds=b,e):r.histogramThresholds},e.std=function(b){return arguments.length?(b=o(b),typeof b=="function"?(r.sumOfSquares=b,r.sum=b,r.count="count",r.std=!0):r.std=b,e):r.std},e.sumOfSq=function(b){return arguments.length?(b=o(b),r.sumOfSquares=b,e):r.sumOfSquares},e.value=function(b,i){if(!arguments.length||typeof b!="string")console.error("'value' requires a string argument.");else return r.values||(r.values={}),r.values[b]={},r.values[b].parameters=kd(),ff(r.values[b],r.values[b].parameters),i&&(r.values[b].accessor=i),r.values[b]},e.nest=function(b){return arguments.length?(b.map(f),r.nestKeys=b,e):r.nestKeys},e.alias=function(b){return arguments.length?(r.aliasKeys=b,e):r.aliasKeys},e.aliasProp=function(b){return arguments.length?(r.aliasPropKeys=b,e):r.aliasPropKeys},e.groupAll=function(b){return arguments.length?(r.groupAll=b,e):r.groupAll},e.dataList=function(b){return arguments.length?(r.dataList=b,e):r.dataList},e.custom=function(b){return arguments.length?(r.custom=b,e):r.custom}}var Rd={build:ff};of.exports=Rd});var lf=At((Rh,cf)=>{function Ld(e){return function(r,f,o){r.post=function(){var b=function(){return b.all()};b.all=function(){return r.all()};var i=e.postprocessors;return Object.keys(i).forEach(function(te){b[te]=function(){var re=b.all,t=[].slice.call(arguments);return b.all=function(){return i[te](re,o,f).apply(null,t)},b}}),b}}}cf.exports=Ld});var hf=At((Lh,df)=>{var Td=function(e){return function(r){return r[e]}};_grouper=function(e,r){return e||(e=function(f){return f}),function(f,o){r&&r(f,o);var b=e(f),i=e(o);return typeof i.count!="undefined"&&(b.count+=i.count),typeof i.sum!="undefined"&&(b.sum+=i.sum),typeof i.avg!="undefined"&&(b.avg=b.sum/b.count),f}};reductio_cap=function(e,r,f){var o=r.reduceInitial(),b=f.values?Object.keys(f.values):[],i=_grouper();if(b.length)for(var te=0;te<b.length;++te)i=_grouper(Td(b[te]),i);return function(re,t){if(!arguments.length||re===Infinity||!re)return e();var k=e(),n=re-1;if(k.length<=re)return k;var O=k.slice(0,n),c={key:t||"Others"};c.value=r.reduceInitial();for(var _=n;_<k.length;++_)i(c.value,k[_].value);return O.push(c),O}};df.exports=reductio_cap});var vf=At((Ph,gf)=>{var Pd=function(e){if(typeof e=="function")return e;if(~e.indexOf(".")){var r=e.split(".");return function(f){return r.reduce(function(o,b){return o[b]},f)}}return function(f){return f[e]}};function Nd(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}var Od=function(e,r){return function(f,o){return r(e(f),e(o))}},Th={}.toString;gf.exports=function(e){return function(r,f){return arguments.length===1&&(f=Nd),e().sort(Od(Pd(r),f))}}});var pf=At((Nh,mf)=>{mf.exports=function(e){e.postprocessors={},e.registerPostProcessor=function(r,f){e.postprocessors[r]=f},e.registerPostProcessor("cap",hf()),e.registerPostProcessor("sortBy",vf())}});var bf=At((Oh,yf)=>{var Dd=af(),Id=sf(),zd=Ba(),Ua=lf(),Fd=Qn();function Ha(){var e=zd(),r={};function f(o){if(r={reduceAdd:function(n){return n},reduceRemove:function(n){return n},reduceInitial:function(){return{}}},Dd.build(e,r),e.groupAll)if(o.top)console.warn("'groupAll' is defined but attempting to run on a standard dimension.group(). Must run on dimension.groupAll().");else{var b=Fd.bisect.by(function(n){return n.key}).left,i,te,re,t,k;o.reduce(function(n,O,c){for(re=e.groupAll(O),t=re.length,te=0;te<t;te++)k=re[te],i=b(n,k,0,n.length),(!n[i]||n[i].key!==k)&&n.splice(i,0,{key:k,value:r.reduceInitial()}),r.reduceAdd(n[i].value,O,c);return n},function(n,O,c){for(re=e.groupAll(O),t=re.length,te=0;te<t;te++)i=b(n,re[te],0,n.length),r.reduceRemove(n[i].value,O,c);return n},function(){return[]}),o.all||(o.all=function(){return this.value()})}else o.reduce(r.reduceAdd,r.reduceRemove,r.reduceInitial);return Ua(o,e,r),o}return Id.build(f,e),f}pf()(Ha);Ua=Ua(Ha);yf.exports=Ha});var wr=At((ti,wf)=>{(function(e,r){typeof ti=="object"&&typeof wf!="undefined"?r(ti):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(ti,function(e){"use strict";var r=function(l,F){return l<F?-1:l>F?1:l>=F?0:NaN},f=function(l){return l.length===1&&(l=o(l)),{left:function(F,S,T,d){for(T==null&&(T=0),d==null&&(d=F.length);T<d;){var $=T+d>>>1;l(F[$],S)<0?T=$+1:d=$}return T},right:function(F,S,T,d){for(T==null&&(T=0),d==null&&(d=F.length);T<d;){var $=T+d>>>1;l(F[$],S)>0?d=$:T=$+1}return T}}};function o(l){return function(F,S){return r(l(F),S)}}var b=f(r),i=b.right,te=b.left,re=function(l,F){F==null&&(F=t);for(var S=0,T=l.length-1,d=l[0],$=new Array(T<0?0:T);S<T;)$[S]=F(d,d=l[++S]);return $};function t(l,F){return[l,F]}var k=function(l,F,S){var T=l.length,d=F.length,$=new Array(T*d),le,q,ge,Se;for(S==null&&(S=t),le=ge=0;le<T;++le)for(Se=l[le],q=0;q<d;++q,++ge)$[ge]=S(Se,F[q]);return $},n=function(l,F){return F<l?-1:F>l?1:F>=l?0:NaN},O=function(l){return l===null?NaN:+l},c=function(l,F){var S=l.length,T=0,d=-1,$=0,le,q,ge=0;if(F==null)for(;++d<S;)isNaN(le=O(l[d]))||(q=le-$,$+=q/++T,ge+=q*(le-$));else for(;++d<S;)isNaN(le=O(F(l[d],d,l)))||(q=le-$,$+=q/++T,ge+=q*(le-$));if(T>1)return ge/(T-1)},_=function(l,F){var S=c(l,F);return S&&Math.sqrt(S)},W=function(l,F){var S=l.length,T=-1,d,$,le;if(F==null){for(;++T<S;)if((d=l[T])!=null&&d>=d)for($=le=d;++T<S;)(d=l[T])!=null&&($>d&&($=d),le<d&&(le=d))}else for(;++T<S;)if((d=F(l[T],T,l))!=null&&d>=d)for($=le=d;++T<S;)(d=F(l[T],T,l))!=null&&($>d&&($=d),le<d&&(le=d));return[$,le]},V=Array.prototype,fe=V.slice,j=V.map,ve=function(l){return function(){return l}},P=function(l){return l},s=function(l,F,S){l=+l,F=+F,S=(d=arguments.length)<2?(F=l,l=0,1):d<3?1:+S;for(var T=-1,d=Math.max(0,Math.ceil((F-l)/S))|0,$=new Array(d);++T<d;)$[T]=l+T*S;return $},A=Math.sqrt(50),C=Math.sqrt(10),a=Math.sqrt(2),v=function(l,F,S){var T,d=-1,$,le,q;if(F=+F,l=+l,S=+S,l===F&&S>0)return[l];if((T=F<l)&&($=l,l=F,F=$),(q=g(l,F,S))===0||!isFinite(q))return[];if(q>0)for(l=Math.ceil(l/q),F=Math.floor(F/q),le=new Array($=Math.ceil(F-l+1));++d<$;)le[d]=(l+d)*q;else for(l=Math.floor(l*q),F=Math.ceil(F*q),le=new Array($=Math.ceil(l-F+1));++d<$;)le[d]=(l-d)/q;return T&&le.reverse(),le};function g(l,F,S){var T=(F-l)/Math.max(0,S),d=Math.floor(Math.log(T)/Math.LN10),$=T/Math.pow(10,d);return d>=0?($>=A?10:$>=C?5:$>=a?2:1)*Math.pow(10,d):-Math.pow(10,-d)/($>=A?10:$>=C?5:$>=a?2:1)}function h(l,F,S){var T=Math.abs(F-l)/Math.max(0,S),d=Math.pow(10,Math.floor(Math.log(T)/Math.LN10)),$=T/d;return $>=A?d*=10:$>=C?d*=5:$>=a&&(d*=2),F<l?-d:d}var u=function(l){return Math.ceil(Math.log(l.length)/Math.LN2)+1},p=function(){var l=P,F=W,S=u;function T(d){var $,le=d.length,q,ge=new Array(le);for($=0;$<le;++$)ge[$]=l(d[$],$,d);var Se=F(ge),he=Se[0],oe=Se[1],ye=S(ge,he,oe);Array.isArray(ye)||(ye=h(he,oe,ye),ye=s(Math.ceil(he/ye)*ye,Math.floor(oe/ye)*ye,ye));for(var Oe=ye.length;ye[0]<=he;)ye.shift(),--Oe;for(;ye[Oe-1]>oe;)ye.pop(),--Oe;var Xe=new Array(Oe+1),Be;for($=0;$<=Oe;++$)Be=Xe[$]=[],Be.x0=$>0?ye[$-1]:he,Be.x1=$<Oe?ye[$]:oe;for($=0;$<le;++$)q=ge[$],he<=q&&q<=oe&&Xe[i(ye,q,0,Oe)].push(d[$]);return Xe}return T.value=function(d){return arguments.length?(l=typeof d=="function"?d:ve(d),T):l},T.domain=function(d){return arguments.length?(F=typeof d=="function"?d:ve([d[0],d[1]]),T):F},T.thresholds=function(d){return arguments.length?(S=typeof d=="function"?d:Array.isArray(d)?ve(fe.call(d)):ve(d),T):S},T},y=function(l,F,S){if(S==null&&(S=O),!!(T=l.length)){if((F=+F)<=0||T<2)return+S(l[0],0,l);if(F>=1)return+S(l[T-1],T-1,l);var T,d=(T-1)*F,$=Math.floor(d),le=+S(l[$],$,l),q=+S(l[$+1],$+1,l);return le+(q-le)*(d-$)}},m=function(l,F,S){return l=j.call(l,O).sort(r),Math.ceil((S-F)/(2*(y(l,.75)-y(l,.25))*Math.pow(l.length,-1/3)))},x=function(l,F,S){return Math.ceil((S-F)/(3.5*_(l)*Math.pow(l.length,-1/3)))},L=function(l,F){var S=l.length,T=-1,d,$;if(F==null){for(;++T<S;)if((d=l[T])!=null&&d>=d)for($=d;++T<S;)(d=l[T])!=null&&d>$&&($=d)}else for(;++T<S;)if((d=F(l[T],T,l))!=null&&d>=d)for($=d;++T<S;)(d=F(l[T],T,l))!=null&&d>$&&($=d);return $},X=function(l,F){var S=l.length,T=S,d=-1,$,le=0;if(F==null)for(;++d<S;)isNaN($=O(l[d]))?--T:le+=$;else for(;++d<S;)isNaN($=O(F(l[d],d,l)))?--T:le+=$;if(T)return le/T},R=function(l,F){var S=l.length,T=-1,d,$=[];if(F==null)for(;++T<S;)isNaN(d=O(l[T]))||$.push(d);else for(;++T<S;)isNaN(d=O(F(l[T],T,l)))||$.push(d);return y($.sort(r),.5)},I=function(l){for(var F=l.length,S,T=-1,d=0,$,le;++T<F;)d+=l[T].length;for($=new Array(d);--F>=0;)for(le=l[F],S=le.length;--S>=0;)$[--d]=le[S];return $},D=function(l,F){var S=l.length,T=-1,d,$;if(F==null){for(;++T<S;)if((d=l[T])!=null&&d>=d)for($=d;++T<S;)(d=l[T])!=null&&$>d&&($=d)}else for(;++T<S;)if((d=F(l[T],T,l))!=null&&d>=d)for($=d;++T<S;)(d=F(l[T],T,l))!=null&&$>d&&($=d);return $},B=function(l,F){for(var S=F.length,T=new Array(S);S--;)T[S]=l[F[S]];return T},Q=function(l,F){if(!!(S=l.length)){var S,T=0,d=0,$,le=l[d];for(F==null&&(F=r);++T<S;)(F($=l[T],le)<0||F(le,le)!==0)&&(le=$,d=T);if(F(le,le)===0)return d}},U=function(l,F,S){for(var T=(S??l.length)-(F=F==null?0:+F),d,$;T;)$=Math.random()*T--|0,d=l[T+F],l[T+F]=l[$+F],l[$+F]=d;return l},Y=function(l,F){var S=l.length,T=-1,d,$=0;if(F==null)for(;++T<S;)(d=+l[T])&&($+=d);else for(;++T<S;)(d=+F(l[T],T,l))&&($+=d);return $},pe=function(l){if(!($=l.length))return[];for(var F=-1,S=D(l,Ce),T=new Array(S);++F<S;)for(var d=-1,$,le=T[F]=new Array($);++d<$;)le[d]=l[d][F];return T};function Ce(l){return l.length}var Pe=function(){return pe(arguments)};e.bisect=i,e.bisectRight=i,e.bisectLeft=te,e.ascending=r,e.bisector=f,e.cross=k,e.descending=n,e.deviation=_,e.extent=W,e.histogram=p,e.thresholdFreedmanDiaconis=m,e.thresholdScott=x,e.thresholdSturges=u,e.max=L,e.mean=X,e.median=R,e.merge=I,e.min=D,e.pairs=re,e.permute=B,e.quantile=y,e.range=s,e.scan=Q,e.shuffle=U,e.sum=Y,e.ticks=v,e.tickIncrement=g,e.tickStep=h,e.transpose=pe,e.variance=c,e.zip=Pe,Object.defineProperty(e,"__esModule",{value:!0})})});var xf=At((ni,_f)=>{(function(e,r){typeof ni=="object"&&typeof _f!="undefined"?r(ni):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(ni,function(e){"use strict";var r=Array.prototype.slice;function f(ve){return ve}var o=1,b=2,i=3,te=4,re=1e-6;function t(ve){return"translate("+(ve+.5)+",0)"}function k(ve){return"translate(0,"+(ve+.5)+")"}function n(ve){return function(P){return+ve(P)}}function O(ve){var P=Math.max(0,ve.bandwidth()-1)/2;return ve.round()&&(P=Math.round(P)),function(s){return+ve(s)+P}}function c(){return!this.__axis}function _(ve,P){var s=[],A=null,C=null,a=6,v=6,g=3,h=ve===o||ve===te?-1:1,u=ve===te||ve===b?"x":"y",p=ve===o||ve===i?t:k;function y(m){var x=A??(P.ticks?P.ticks.apply(P,s):P.domain()),L=C??(P.tickFormat?P.tickFormat.apply(P,s):f),X=Math.max(a,0)+g,R=P.range(),I=+R[0]+.5,D=+R[R.length-1]+.5,B=(P.bandwidth?O:n)(P.copy()),Q=m.selection?m.selection():m,U=Q.selectAll(".domain").data([null]),Y=Q.selectAll(".tick").data(x,P).order(),pe=Y.exit(),Ce=Y.enter().append("g").attr("class","tick"),Pe=Y.select("line"),l=Y.select("text");U=U.merge(U.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Y=Y.merge(Ce),Pe=Pe.merge(Ce.append("line").attr("stroke","currentColor").attr(u+"2",h*a)),l=l.merge(Ce.append("text").attr("fill","currentColor").attr(u,h*X).attr("dy",ve===o?"0em":ve===i?"0.71em":"0.32em")),m!==Q&&(U=U.transition(m),Y=Y.transition(m),Pe=Pe.transition(m),l=l.transition(m),pe=pe.transition(m).attr("opacity",re).attr("transform",function(F){return isFinite(F=B(F))?p(F):this.getAttribute("transform")}),Ce.attr("opacity",re).attr("transform",function(F){var S=this.parentNode.__axis;return p(S&&isFinite(S=S(F))?S:B(F))})),pe.remove(),U.attr("d",ve===te||ve==b?"M"+h*v+","+I+"H0.5V"+D+"H"+h*v:"M"+I+","+h*v+"V0.5H"+D+"V"+h*v),Y.attr("opacity",1).attr("transform",function(F){return p(B(F))}),Pe.attr(u+"2",h*a),l.attr(u,h*X).text(L),Q.filter(c).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",ve===b?"start":ve===te?"end":"middle"),Q.each(function(){this.__axis=B})}return y.scale=function(m){return arguments.length?(P=m,y):P},y.ticks=function(){return s=r.call(arguments),y},y.tickArguments=function(m){return arguments.length?(s=m==null?[]:r.call(m),y):s.slice()},y.tickValues=function(m){return arguments.length?(A=m==null?null:r.call(m),y):A&&A.slice()},y.tickFormat=function(m){return arguments.length?(C=m,y):C},y.tickSize=function(m){return arguments.length?(a=v=+m,y):a},y.tickSizeInner=function(m){return arguments.length?(a=+m,y):a},y.tickSizeOuter=function(m){return arguments.length?(v=+m,y):v},y.tickPadding=function(m){return arguments.length?(g=+m,y):g},y}function W(ve){return _(o,ve)}function V(ve){return _(b,ve)}function fe(ve){return _(i,ve)}function j(ve){return _(te,ve)}e.axisTop=W,e.axisRight=V,e.axisBottom=fe,e.axisLeft=j,Object.defineProperty(e,"__esModule",{value:!0})})});var sr=At((ri,Af)=>{(function(e,r){typeof ri=="object"&&typeof Af!="undefined"?r(ri):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(ri,function(e){"use strict";var r={value:function(){}};function f(){for(var re=0,t=arguments.length,k={},n;re<t;++re){if(!(n=arguments[re]+"")||n in k)throw new Error("illegal type: "+n);k[n]=[]}return new o(k)}function o(re){this._=re}function b(re,t){return re.trim().split(/^|\s+/).map(function(k){var n="",O=k.indexOf(".");if(O>=0&&(n=k.slice(O+1),k=k.slice(0,O)),k&&!t.hasOwnProperty(k))throw new Error("unknown type: "+k);return{type:k,name:n}})}o.prototype=f.prototype={constructor:o,on:function(re,t){var k=this._,n=b(re+"",k),O,c=-1,_=n.length;if(arguments.length<2){for(;++c<_;)if((O=(re=n[c]).type)&&(O=i(k[O],re.name)))return O;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++c<_;)if(O=(re=n[c]).type)k[O]=te(k[O],re.name,t);else if(t==null)for(O in k)k[O]=te(k[O],re.name,null);return this},copy:function(){var re={},t=this._;for(var k in t)re[k]=t[k].slice();return new o(re)},call:function(re,t){if((O=arguments.length-2)>0)for(var k=new Array(O),n=0,O,c;n<O;++n)k[n]=arguments[n+2];if(!this._.hasOwnProperty(re))throw new Error("unknown type: "+re);for(c=this._[re],n=0,O=c.length;n<O;++n)c[n].value.apply(t,k)},apply:function(re,t,k){if(!this._.hasOwnProperty(re))throw new Error("unknown type: "+re);for(var n=this._[re],O=0,c=n.length;O<c;++O)n[O].value.apply(t,k)}};function i(re,t){for(var k=0,n=re.length,O;k<n;++k)if((O=re[k]).name===t)return O.value}function te(re,t,k){for(var n=0,O=re.length;n<O;++n)if(re[n].name===t){re[n]=r,re=re.slice(0,n).concat(re.slice(n+1));break}return k!=null&&re.push({name:t,value:k}),re}e.dispatch=f,Object.defineProperty(e,"__esModule",{value:!0})})});var cr=At((ii,Mf)=>{(function(e,r){typeof ii=="object"&&typeof Mf!="undefined"?r(ii):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(ii,function(e){"use strict";var r="http://www.w3.org/1999/xhtml",f={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(_e){var De=_e+="",ut=De.indexOf(":");return ut>=0&&(De=_e.slice(0,ut))!=="xmlns"&&(_e=_e.slice(ut+1)),f.hasOwnProperty(De)?{space:f[De],local:_e}:_e}function b(_e){return function(){var De=this.ownerDocument,ut=this.namespaceURI;return ut===r&&De.documentElement.namespaceURI===r?De.createElement(_e):De.createElementNS(ut,_e)}}function i(_e){return function(){return this.ownerDocument.createElementNS(_e.space,_e.local)}}function te(_e){var De=o(_e);return(De.local?i:b)(De)}function re(){}function t(_e){return _e==null?re:function(){return this.querySelector(_e)}}function k(_e){typeof _e!="function"&&(_e=t(_e));for(var De=this._groups,ut=De.length,bt=new Array(ut),pt=0;pt<ut;++pt)for(var Lt=De[pt],qt=Lt.length,Tt=bt[pt]=new Array(qt),zt,gt,kt=0;kt<qt;++kt)(zt=Lt[kt])&&(gt=_e.call(zt,zt.__data__,kt,Lt))&&("__data__"in zt&&(gt.__data__=zt.__data__),Tt[kt]=gt);return new ot(bt,this._parents)}function n(){return[]}function O(_e){return _e==null?n:function(){return this.querySelectorAll(_e)}}function c(_e){typeof _e!="function"&&(_e=O(_e));for(var De=this._groups,ut=De.length,bt=[],pt=[],Lt=0;Lt<ut;++Lt)for(var qt=De[Lt],Tt=qt.length,zt,gt=0;gt<Tt;++gt)(zt=qt[gt])&&(bt.push(_e.call(zt,zt.__data__,gt,qt)),pt.push(zt));return new ot(bt,pt)}var _=function(_e){return function(){return this.matches(_e)}};if(typeof document!="undefined"){var W=document.documentElement;if(!W.matches){var V=W.webkitMatchesSelector||W.msMatchesSelector||W.mozMatchesSelector||W.oMatchesSelector;_=function(_e){return function(){return V.call(this,_e)}}}}var fe=_;function j(_e){typeof _e!="function"&&(_e=fe(_e));for(var De=this._groups,ut=De.length,bt=new Array(ut),pt=0;pt<ut;++pt)for(var Lt=De[pt],qt=Lt.length,Tt=bt[pt]=[],zt,gt=0;gt<qt;++gt)(zt=Lt[gt])&&_e.call(zt,zt.__data__,gt,Lt)&&Tt.push(zt);return new ot(bt,this._parents)}function ve(_e){return new Array(_e.length)}function P(){return new ot(this._enter||this._groups.map(ve),this._parents)}function s(_e,De){this.ownerDocument=_e.ownerDocument,this.namespaceURI=_e.namespaceURI,this._next=null,this._parent=_e,this.__data__=De}s.prototype={constructor:s,appendChild:function(_e){return this._parent.insertBefore(_e,this._next)},insertBefore:function(_e,De){return this._parent.insertBefore(_e,De)},querySelector:function(_e){return this._parent.querySelector(_e)},querySelectorAll:function(_e){return this._parent.querySelectorAll(_e)}};function A(_e){return function(){return _e}}var C="$";function a(_e,De,ut,bt,pt,Lt){for(var qt=0,Tt,zt=De.length,gt=Lt.length;qt<gt;++qt)(Tt=De[qt])?(Tt.__data__=Lt[qt],bt[qt]=Tt):ut[qt]=new s(_e,Lt[qt]);for(;qt<zt;++qt)(Tt=De[qt])&&(pt[qt]=Tt)}function v(_e,De,ut,bt,pt,Lt,qt){var Tt,zt,gt={},kt=De.length,Vt=Lt.length,yt=new Array(kt),en;for(Tt=0;Tt<kt;++Tt)(zt=De[Tt])&&(yt[Tt]=en=C+qt.call(zt,zt.__data__,Tt,De),en in gt?pt[Tt]=zt:gt[en]=zt);for(Tt=0;Tt<Vt;++Tt)en=C+qt.call(_e,Lt[Tt],Tt,Lt),(zt=gt[en])?(bt[Tt]=zt,zt.__data__=Lt[Tt],gt[en]=null):ut[Tt]=new s(_e,Lt[Tt]);for(Tt=0;Tt<kt;++Tt)(zt=De[Tt])&&gt[yt[Tt]]===zt&&(pt[Tt]=zt)}function g(_e,De){if(!_e)return en=new Array(this.size()),gt=-1,this.each(function(ct){en[++gt]=ct}),en;var ut=De?v:a,bt=this._parents,pt=this._groups;typeof _e!="function"&&(_e=A(_e));for(var Lt=pt.length,qt=new Array(Lt),Tt=new Array(Lt),zt=new Array(Lt),gt=0;gt<Lt;++gt){var kt=bt[gt],Vt=pt[gt],yt=Vt.length,en=_e.call(kt,kt&&kt.__data__,gt,bt),M=en.length,de=Tt[gt]=new Array(M),Te=qt[gt]=new Array(M),Ie=zt[gt]=new Array(yt);ut(kt,Vt,de,Te,Ie,en,De);for(var Ke=0,rt=0,ft,He;Ke<M;++Ke)if(ft=de[Ke]){for(Ke>=rt&&(rt=Ke+1);!(He=Te[rt])&&++rt<M;);ft._next=He||null}}return qt=new ot(qt,bt),qt._enter=Tt,qt._exit=zt,qt}function h(){return new ot(this._exit||this._groups.map(ve),this._parents)}function u(_e){for(var De=this._groups,ut=_e._groups,bt=De.length,pt=ut.length,Lt=Math.min(bt,pt),qt=new Array(bt),Tt=0;Tt<Lt;++Tt)for(var zt=De[Tt],gt=ut[Tt],kt=zt.length,Vt=qt[Tt]=new Array(kt),yt,en=0;en<kt;++en)(yt=zt[en]||gt[en])&&(Vt[en]=yt);for(;Tt<bt;++Tt)qt[Tt]=De[Tt];return new ot(qt,this._parents)}function p(){for(var _e=this._groups,De=-1,ut=_e.length;++De<ut;)for(var bt=_e[De],pt=bt.length-1,Lt=bt[pt],qt;--pt>=0;)(qt=bt[pt])&&(Lt&&Lt!==qt.nextSibling&&Lt.parentNode.insertBefore(qt,Lt),Lt=qt);return this}function y(_e){_e||(_e=m);function De(Vt,yt){return Vt&&yt?_e(Vt.__data__,yt.__data__):!Vt-!yt}for(var ut=this._groups,bt=ut.length,pt=new Array(bt),Lt=0;Lt<bt;++Lt){for(var qt=ut[Lt],Tt=qt.length,zt=pt[Lt]=new Array(Tt),gt,kt=0;kt<Tt;++kt)(gt=qt[kt])&&(zt[kt]=gt);zt.sort(De)}return new ot(pt,this._parents).order()}function m(_e,De){return _e<De?-1:_e>De?1:_e>=De?0:NaN}function x(){var _e=arguments[0];return arguments[0]=this,_e.apply(null,arguments),this}function L(){var _e=new Array(this.size()),De=-1;return this.each(function(){_e[++De]=this}),_e}function X(){for(var _e=this._groups,De=0,ut=_e.length;De<ut;++De)for(var bt=_e[De],pt=0,Lt=bt.length;pt<Lt;++pt){var qt=bt[pt];if(qt)return qt}return null}function R(){var _e=0;return this.each(function(){++_e}),_e}function I(){return!this.node()}function D(_e){for(var De=this._groups,ut=0,bt=De.length;ut<bt;++ut)for(var pt=De[ut],Lt=0,qt=pt.length,Tt;Lt<qt;++Lt)(Tt=pt[Lt])&&_e.call(Tt,Tt.__data__,Lt,pt);return this}function B(_e){return function(){this.removeAttribute(_e)}}function Q(_e){return function(){this.removeAttributeNS(_e.space,_e.local)}}function U(_e,De){return function(){this.setAttribute(_e,De)}}function Y(_e,De){return function(){this.setAttributeNS(_e.space,_e.local,De)}}function pe(_e,De){return function(){var ut=De.apply(this,arguments);ut==null?this.removeAttribute(_e):this.setAttribute(_e,ut)}}function Ce(_e,De){return function(){var ut=De.apply(this,arguments);ut==null?this.removeAttributeNS(_e.space,_e.local):this.setAttributeNS(_e.space,_e.local,ut)}}function Pe(_e,De){var ut=o(_e);if(arguments.length<2){var bt=this.node();return ut.local?bt.getAttributeNS(ut.space,ut.local):bt.getAttribute(ut)}return this.each((De==null?ut.local?Q:B:typeof De=="function"?ut.local?Ce:pe:ut.local?Y:U)(ut,De))}function l(_e){return _e.ownerDocument&&_e.ownerDocument.defaultView||_e.document&&_e||_e.defaultView}function F(_e){return function(){this.style.removeProperty(_e)}}function S(_e,De,ut){return function(){this.style.setProperty(_e,De,ut)}}function T(_e,De,ut){return function(){var bt=De.apply(this,arguments);bt==null?this.style.removeProperty(_e):this.style.setProperty(_e,bt,ut)}}function d(_e,De,ut){return arguments.length>1?this.each((De==null?F:typeof De=="function"?T:S)(_e,De,ut??"")):$(this.node(),_e)}function $(_e,De){return _e.style.getPropertyValue(De)||l(_e).getComputedStyle(_e,null).getPropertyValue(De)}function le(_e){return function(){delete this[_e]}}function q(_e,De){return function(){this[_e]=De}}function ge(_e,De){return function(){var ut=De.apply(this,arguments);ut==null?delete this[_e]:this[_e]=ut}}function Se(_e,De){return arguments.length>1?this.each((De==null?le:typeof De=="function"?ge:q)(_e,De)):this.node()[_e]}function he(_e){return _e.trim().split(/^|\s+/)}function oe(_e){return _e.classList||new ye(_e)}function ye(_e){this._node=_e,this._names=he(_e.getAttribute("class")||"")}ye.prototype={add:function(_e){var De=this._names.indexOf(_e);De<0&&(this._names.push(_e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(_e){var De=this._names.indexOf(_e);De>=0&&(this._names.splice(De,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(_e){return this._names.indexOf(_e)>=0}};function Oe(_e,De){for(var ut=oe(_e),bt=-1,pt=De.length;++bt<pt;)ut.add(De[bt])}function Xe(_e,De){for(var ut=oe(_e),bt=-1,pt=De.length;++bt<pt;)ut.remove(De[bt])}function Be(_e){return function(){Oe(this,_e)}}function it(_e){return function(){Xe(this,_e)}}function mt(_e,De){return function(){(De.apply(this,arguments)?Oe:Xe)(this,_e)}}function Pt(_e,De){var ut=he(_e+"");if(arguments.length<2){for(var bt=oe(this.node()),pt=-1,Lt=ut.length;++pt<Lt;)if(!bt.contains(ut[pt]))return!1;return!0}return this.each((typeof De=="function"?mt:De?Be:it)(ut,De))}function Z(){this.textContent=""}function ce(_e){return function(){this.textContent=_e}}function Re(_e){return function(){var De=_e.apply(this,arguments);this.textContent=De??""}}function Fe(_e){return arguments.length?this.each(_e==null?Z:(typeof _e=="function"?Re:ce)(_e)):this.node().textContent}function Me(){this.innerHTML=""}function E(_e){return function(){this.innerHTML=_e}}function me(_e){return function(){var De=_e.apply(this,arguments);this.innerHTML=De??""}}function G(_e){return arguments.length?this.each(_e==null?Me:(typeof _e=="function"?me:E)(_e)):this.node().innerHTML}function Ae(){this.nextSibling&&this.parentNode.appendChild(this)}function Ue(){return this.each(Ae)}function je(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vt(){return this.each(je)}function dt(_e){var De=typeof _e=="function"?_e:te(_e);return this.select(function(){return this.appendChild(De.apply(this,arguments))})}function Dt(){return null}function Le(_e,De){var ut=typeof _e=="function"?_e:te(_e),bt=De==null?Dt:typeof De=="function"?De:t(De);return this.select(function(){return this.insertBefore(ut.apply(this,arguments),bt.apply(this,arguments)||null)})}function $e(){var _e=this.parentNode;_e&&_e.removeChild(this)}function tt(){return this.each($e)}function K(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function be(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function N(_e){return this.select(_e?be:K)}function ie(_e){return arguments.length?this.property("__data__",_e):this.node().__data__}var we={};if(e.event=null,typeof document!="undefined"){var ne=document.documentElement;"onmouseenter"in ne||(we={mouseenter:"mouseover",mouseleave:"mouseout"})}function H(_e,De,ut){return _e=ee(_e,De,ut),function(bt){var pt=bt.relatedTarget;(!pt||pt!==this&&!(pt.compareDocumentPosition(this)&8))&&_e.call(this,bt)}}function ee(_e,De,ut){return function(bt){var pt=e.event;e.event=bt;try{_e.call(this,this.__data__,De,ut)}finally{e.event=pt}}}function J(_e){return _e.trim().split(/^|\s+/).map(function(De){var ut="",bt=De.indexOf(".");return bt>=0&&(ut=De.slice(bt+1),De=De.slice(0,bt)),{type:De,name:ut}})}function ue(_e){return function(){var De=this.__on;if(!!De){for(var ut=0,bt=-1,pt=De.length,Lt;ut<pt;++ut)Lt=De[ut],(!_e.type||Lt.type===_e.type)&&Lt.name===_e.name?this.removeEventListener(Lt.type,Lt.listener,Lt.capture):De[++bt]=Lt;++bt?De.length=bt:delete this.__on}}}function Ee(_e,De,ut){var bt=we.hasOwnProperty(_e.type)?H:ee;return function(pt,Lt,qt){var Tt=this.__on,zt,gt=bt(De,Lt,qt);if(Tt){for(var kt=0,Vt=Tt.length;kt<Vt;++kt)if((zt=Tt[kt]).type===_e.type&&zt.name===_e.name){this.removeEventListener(zt.type,zt.listener,zt.capture),this.addEventListener(zt.type,zt.listener=gt,zt.capture=ut),zt.value=De;return}}this.addEventListener(_e.type,gt,ut),zt={type:_e.type,name:_e.name,value:De,listener:gt,capture:ut},Tt?Tt.push(zt):this.__on=[zt]}}function Ne(_e,De,ut){var bt=J(_e+""),pt,Lt=bt.length,qt;if(arguments.length<2){var Tt=this.node().__on;if(Tt){for(var zt=0,gt=Tt.length,kt;zt<gt;++zt)for(pt=0,kt=Tt[zt];pt<Lt;++pt)if((qt=bt[pt]).type===kt.type&&qt.name===kt.name)return kt.value}return}for(Tt=De?Ee:ue,ut==null&&(ut=!1),pt=0;pt<Lt;++pt)this.each(Tt(bt[pt],De,ut));return this}function xe(_e,De,ut,bt){var pt=e.event;_e.sourceEvent=e.event,e.event=_e;try{return De.apply(ut,bt)}finally{e.event=pt}}function qe(_e,De,ut){var bt=l(_e),pt=bt.CustomEvent;typeof pt=="function"?pt=new pt(De,ut):(pt=bt.document.createEvent("Event"),ut?(pt.initEvent(De,ut.bubbles,ut.cancelable),pt.detail=ut.detail):pt.initEvent(De,!1,!1)),_e.dispatchEvent(pt)}function Ye(_e,De){return function(){return qe(this,_e,De)}}function Je(_e,De){return function(){return qe(this,_e,De.apply(this,arguments))}}function ht(_e,De){return this.each((typeof De=="function"?Je:Ye)(_e,De))}var We=[null];function ot(_e,De){this._groups=_e,this._parents=De}function wt(){return new ot([[document.documentElement]],We)}ot.prototype=wt.prototype={constructor:ot,select:k,selectAll:c,filter:j,data:g,enter:P,exit:h,merge:u,order:p,sort:y,call:x,nodes:L,node:X,size:R,empty:I,each:D,attr:Pe,style:d,property:Se,classed:Pt,text:Fe,html:G,raise:Ue,lower:vt,append:dt,insert:Le,remove:tt,clone:N,datum:ie,on:Ne,dispatch:ht};function Ft(_e){return typeof _e=="string"?new ot([[document.querySelector(_e)]],[document.documentElement]):new ot([[_e]],We)}function Ct(_e){return Ft(te(_e).call(document.documentElement))}var Rt=0;function $t(){return new Gt}function Gt(){this._="@"+(++Rt).toString(36)}Gt.prototype=$t.prototype={constructor:Gt,get:function(_e){for(var De=this._;!(De in _e);)if(!(_e=_e.parentNode))return;return _e[De]},set:function(_e,De){return _e[this._]=De},remove:function(_e){return this._ in _e&&delete _e[this._]},toString:function(){return this._}};function St(){for(var _e=e.event,De;De=_e.sourceEvent;)_e=De;return _e}function Wt(_e,De){var ut=_e.ownerSVGElement||_e;if(ut.createSVGPoint){var bt=ut.createSVGPoint();return bt.x=De.clientX,bt.y=De.clientY,bt=bt.matrixTransform(_e.getScreenCTM().inverse()),[bt.x,bt.y]}var pt=_e.getBoundingClientRect();return[De.clientX-pt.left-_e.clientLeft,De.clientY-pt.top-_e.clientTop]}function Yt(_e){var De=St();return De.changedTouches&&(De=De.changedTouches[0]),Wt(_e,De)}function nn(_e){return typeof _e=="string"?new ot([document.querySelectorAll(_e)],[document.documentElement]):new ot([_e??[]],We)}function an(_e,De,ut){arguments.length<3&&(ut=De,De=St().changedTouches);for(var bt=0,pt=De?De.length:0,Lt;bt<pt;++bt)if((Lt=De[bt]).identifier===ut)return Wt(_e,Lt);return null}function ln(_e,De){De==null&&(De=St().touches);for(var ut=0,bt=De?De.length:0,pt=new Array(bt);ut<bt;++ut)pt[ut]=Wt(_e,De[ut]);return pt}e.create=Ct,e.creator=te,e.local=$t,e.matcher=fe,e.mouse=Yt,e.namespace=o,e.namespaces=f,e.clientPoint=Wt,e.select=Ft,e.selectAll=nn,e.selection=wt,e.selector=t,e.selectorAll=O,e.style=$,e.touch=an,e.touches=ln,e.window=l,e.customEvent=xe,Object.defineProperty(e,"__esModule",{value:!0})})});var ui=At((ai,Ef)=>{(function(e,r){typeof ai=="object"&&typeof Ef!="undefined"?r(ai,sr(),cr()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-selection"],r):r(e.d3=e.d3||{},e.d3,e.d3)})(ai,function(e,r,f){"use strict";function o(){f.event.stopImmediatePropagation()}var b=function(){f.event.preventDefault(),f.event.stopImmediatePropagation()},i=function(W){var V=W.document.documentElement,fe=f.select(W).on("dragstart.drag",b,!0);"onselectstart"in V?fe.on("selectstart.drag",b,!0):(V.__noselect=V.style.MozUserSelect,V.style.MozUserSelect="none")};function te(W,V){var fe=W.document.documentElement,j=f.select(W).on("dragstart.drag",null);V&&(j.on("click.drag",b,!0),setTimeout(function(){j.on("click.drag",null)},0)),"onselectstart"in fe?j.on("selectstart.drag",null):(fe.style.MozUserSelect=fe.__noselect,delete fe.__noselect)}var re=function(W){return function(){return W}};function t(W,V,fe,j,ve,P,s,A,C,a){this.target=W,this.type=V,this.subject=fe,this.identifier=j,this.active=ve,this.x=P,this.y=s,this.dx=A,this.dy=C,this._=a}t.prototype.on=function(){var W=this._.on.apply(this._,arguments);return W===this._?this:W};function k(){return!f.event.button}function n(){return this.parentNode}function O(W){return W??{x:f.event.x,y:f.event.y}}function c(){return"ontouchstart"in this}var _=function(){var W=k,V=n,fe=O,j=c,ve={},P=r.dispatch("start","drag","end"),s=0,A,C,a,v,g=0;function h(R){R.on("mousedown.drag",u).filter(j).on("touchstart.drag",m).on("touchmove.drag",x).on("touchend.drag touchcancel.drag",L).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){if(!(v||!W.apply(this,arguments))){var R=X("mouse",V.apply(this,arguments),f.mouse,this,arguments);!R||(f.select(f.event.view).on("mousemove.drag",p,!0).on("mouseup.drag",y,!0),i(f.event.view),o(),a=!1,A=f.event.clientX,C=f.event.clientY,R("start"))}}function p(){if(b(),!a){var R=f.event.clientX-A,I=f.event.clientY-C;a=R*R+I*I>g}ve.mouse("drag")}function y(){f.select(f.event.view).on("mousemove.drag mouseup.drag",null),te(f.event.view,a),b(),ve.mouse("end")}function m(){if(!!W.apply(this,arguments)){var R=f.event.changedTouches,I=V.apply(this,arguments),D=R.length,B,Q;for(B=0;B<D;++B)(Q=X(R[B].identifier,I,f.touch,this,arguments))&&(o(),Q("start"))}}function x(){var R=f.event.changedTouches,I=R.length,D,B;for(D=0;D<I;++D)(B=ve[R[D].identifier])&&(b(),B("drag"))}function L(){var R=f.event.changedTouches,I=R.length,D,B;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),D=0;D<I;++D)(B=ve[R[D].identifier])&&(o(),B("end"))}function X(R,I,D,B,Q){var U=D(I,R),Y,pe,Ce,Pe=P.copy();if(!!f.customEvent(new t(h,"beforestart",Y,R,s,U[0],U[1],0,0,Pe),function(){return(f.event.subject=Y=fe.apply(B,Q))==null?!1:(pe=Y.x-U[0]||0,Ce=Y.y-U[1]||0,!0)}))return function l(F){var S=U,T;switch(F){case"start":ve[R]=l,T=s++;break;case"end":delete ve[R],--s;case"drag":U=D(I,R),T=s;break}f.customEvent(new t(h,F,Y,R,T,U[0]+pe,U[1]+Ce,U[0]-S[0],U[1]-S[1],Pe),Pe.apply,Pe,[F,B,Q])}}return h.filter=function(R){return arguments.length?(W=typeof R=="function"?R:re(!!R),h):W},h.container=function(R){return arguments.length?(V=typeof R=="function"?R:re(R),h):V},h.subject=function(R){return arguments.length?(fe=typeof R=="function"?R:re(R),h):fe},h.touchable=function(R){return arguments.length?(j=typeof R=="function"?R:re(!!R),h):j},h.on=function(){var R=P.on.apply(P,arguments);return R===P?h:R},h.clickDistance=function(R){return arguments.length?(g=(R=+R)*R,h):Math.sqrt(g)},h};e.drag=_,e.dragDisable=i,e.dragEnable=te,Object.defineProperty(e,"__esModule",{value:!0})})});var Ir=At((oi,Sf)=>{(function(e,r){typeof oi=="object"&&typeof Sf!="undefined"?r(oi):typeof define=="function"&&define.amd?define(["exports"],r):(e=e||self,r(e.d3=e.d3||{}))})(oi,function(e){"use strict";function r(E,me,G){E.prototype=me.prototype=G,G.constructor=E}function f(E,me){var G=Object.create(E.prototype);for(var Ae in me)G[Ae]=me[Ae];return G}function o(){}var b=.7,i=1/b,te="\\s*([+-]?\\d+)\\s*",re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k=/^#([0-9a-f]{3,8})$/,n=new RegExp("^rgb\\("+[te,te,te]+"\\)$"),O=new RegExp("^rgb\\("+[t,t,t]+"\\)$"),c=new RegExp("^rgba\\("+[te,te,te,re]+"\\)$"),_=new RegExp("^rgba\\("+[t,t,t,re]+"\\)$"),W=new RegExp("^hsl\\("+[re,t,t]+"\\)$"),V=new RegExp("^hsla\\("+[re,t,t,re]+"\\)$"),fe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r(o,s,{copy:function(E){return Object.assign(new this.constructor,this,E)},displayable:function(){return this.rgb().displayable()},hex:j,formatHex:j,formatHsl:ve,formatRgb:P,toString:P});function j(){return this.rgb().formatHex()}function ve(){return m(this).formatHsl()}function P(){return this.rgb().formatRgb()}function s(E){var me,G;return E=(E+"").trim().toLowerCase(),(me=k.exec(E))?(G=me[1].length,me=parseInt(me[1],16),G===6?A(me):G===3?new g(me>>8&15|me>>4&240,me>>4&15|me&240,(me&15)<<4|me&15,1):G===8?C(me>>24&255,me>>16&255,me>>8&255,(me&255)/255):G===4?C(me>>12&15|me>>8&240,me>>8&15|me>>4&240,me>>4&15|me&240,((me&15)<<4|me&15)/255):null):(me=n.exec(E))?new g(me[1],me[2],me[3],1):(me=O.exec(E))?new g(me[1]*255/100,me[2]*255/100,me[3]*255/100,1):(me=c.exec(E))?C(me[1],me[2],me[3],me[4]):(me=_.exec(E))?C(me[1]*255/100,me[2]*255/100,me[3]*255/100,me[4]):(me=W.exec(E))?y(me[1],me[2]/100,me[3]/100,1):(me=V.exec(E))?y(me[1],me[2]/100,me[3]/100,me[4]):fe.hasOwnProperty(E)?A(fe[E]):E==="transparent"?new g(NaN,NaN,NaN,0):null}function A(E){return new g(E>>16&255,E>>8&255,E&255,1)}function C(E,me,G,Ae){return Ae<=0&&(E=me=G=NaN),new g(E,me,G,Ae)}function a(E){return E instanceof o||(E=s(E)),E?(E=E.rgb(),new g(E.r,E.g,E.b,E.opacity)):new g}function v(E,me,G,Ae){return arguments.length===1?a(E):new g(E,me,G,Ae??1)}function g(E,me,G,Ae){this.r=+E,this.g=+me,this.b=+G,this.opacity=+Ae}r(g,v,f(o,{brighter:function(E){return E=E==null?i:Math.pow(i,E),new g(this.r*E,this.g*E,this.b*E,this.opacity)},darker:function(E){return E=E==null?b:Math.pow(b,E),new g(this.r*E,this.g*E,this.b*E,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h,formatHex:h,formatRgb:u,toString:u}));function h(){return"#"+p(this.r)+p(this.g)+p(this.b)}function u(){var E=this.opacity;return E=isNaN(E)?1:Math.max(0,Math.min(1,E)),(E===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(E===1?")":", "+E+")")}function p(E){return E=Math.max(0,Math.min(255,Math.round(E)||0)),(E<16?"0":"")+E.toString(16)}function y(E,me,G,Ae){return Ae<=0?E=me=G=NaN:G<=0||G>=1?E=me=NaN:me<=0&&(E=NaN),new L(E,me,G,Ae)}function m(E){if(E instanceof L)return new L(E.h,E.s,E.l,E.opacity);if(E instanceof o||(E=s(E)),!E)return new L;if(E instanceof L)return E;E=E.rgb();var me=E.r/255,G=E.g/255,Ae=E.b/255,Ue=Math.min(me,G,Ae),je=Math.max(me,G,Ae),vt=NaN,dt=je-Ue,Dt=(je+Ue)/2;return dt?(me===je?vt=(G-Ae)/dt+(G<Ae)*6:G===je?vt=(Ae-me)/dt+2:vt=(me-G)/dt+4,dt/=Dt<.5?je+Ue:2-je-Ue,vt*=60):dt=Dt>0&&Dt<1?0:vt,new L(vt,dt,Dt,E.opacity)}function x(E,me,G,Ae){return arguments.length===1?m(E):new L(E,me,G,Ae??1)}function L(E,me,G,Ae){this.h=+E,this.s=+me,this.l=+G,this.opacity=+Ae}r(L,x,f(o,{brighter:function(E){return E=E==null?i:Math.pow(i,E),new L(this.h,this.s,this.l*E,this.opacity)},darker:function(E){return E=E==null?b:Math.pow(b,E),new L(this.h,this.s,this.l*E,this.opacity)},rgb:function(){var E=this.h%360+(this.h<0)*360,me=isNaN(E)||isNaN(this.s)?0:this.s,G=this.l,Ae=G+(G<.5?G:1-G)*me,Ue=2*G-Ae;return new g(X(E>=240?E-240:E+120,Ue,Ae),X(E,Ue,Ae),X(E<120?E+240:E-120,Ue,Ae),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var E=this.opacity;return E=isNaN(E)?1:Math.max(0,Math.min(1,E)),(E===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(E===1?")":", "+E+")")}}));function X(E,me,G){return(E<60?me+(G-me)*E/60:E<180?G:E<240?me+(G-me)*(240-E)/60:me)*255}var R=Math.PI/180,I=180/Math.PI,D=18,B=.96422,Q=1,U=.82521,Y=4/29,pe=6/29,Ce=3*pe*pe,Pe=pe*pe*pe;function l(E){if(E instanceof T)return new T(E.l,E.a,E.b,E.opacity);if(E instanceof oe)return ye(E);E instanceof g||(E=a(E));var me=q(E.r),G=q(E.g),Ae=q(E.b),Ue=d((.2225045*me+.7168786*G+.0606169*Ae)/Q),je,vt;return me===G&&G===Ae?je=vt=Ue:(je=d((.4360747*me+.3850649*G+.1430804*Ae)/B),vt=d((.0139322*me+.0971045*G+.7141733*Ae)/U)),new T(116*Ue-16,500*(je-Ue),200*(Ue-vt),E.opacity)}function F(E,me){return new T(E,0,0,me??1)}function S(E,me,G,Ae){return arguments.length===1?l(E):new T(E,me,G,Ae??1)}function T(E,me,G,Ae){this.l=+E,this.a=+me,this.b=+G,this.opacity=+Ae}r(T,S,f(o,{brighter:function(E){return new T(this.l+D*(E??1),this.a,this.b,this.opacity)},darker:function(E){return new T(this.l-D*(E??1),this.a,this.b,this.opacity)},rgb:function(){var E=(this.l+16)/116,me=isNaN(this.a)?E:E+this.a/500,G=isNaN(this.b)?E:E-this.b/200;return me=B*$(me),E=Q*$(E),G=U*$(G),new g(le(3.1338561*me-1.6168667*E-.4906146*G),le(-.9787684*me+1.9161415*E+.033454*G),le(.0719453*me-.2289914*E+1.4052427*G),this.opacity)}}));function d(E){return E>Pe?Math.pow(E,1/3):E/Ce+Y}function $(E){return E>pe?E*E*E:Ce*(E-Y)}function le(E){return 255*(E<=.0031308?12.92*E:1.055*Math.pow(E,1/2.4)-.055)}function q(E){return(E/=255)<=.04045?E/12.92:Math.pow((E+.055)/1.055,2.4)}function ge(E){if(E instanceof oe)return new oe(E.h,E.c,E.l,E.opacity);if(E instanceof T||(E=l(E)),E.a===0&&E.b===0)return new oe(NaN,0<E.l&&E.l<100?0:NaN,E.l,E.opacity);var me=Math.atan2(E.b,E.a)*I;return new oe(me<0?me+360:me,Math.sqrt(E.a*E.a+E.b*E.b),E.l,E.opacity)}function Se(E,me,G,Ae){return arguments.length===1?ge(E):new oe(G,me,E,Ae??1)}function he(E,me,G,Ae){return arguments.length===1?ge(E):new oe(E,me,G,Ae??1)}function oe(E,me,G,Ae){this.h=+E,this.c=+me,this.l=+G,this.opacity=+Ae}function ye(E){if(isNaN(E.h))return new T(E.l,0,0,E.opacity);var me=E.h*R;return new T(E.l,Math.cos(me)*E.c,Math.sin(me)*E.c,E.opacity)}r(oe,he,f(o,{brighter:function(E){return new oe(this.h,this.c,this.l+D*(E??1),this.opacity)},darker:function(E){return new oe(this.h,this.c,this.l-D*(E??1),this.opacity)},rgb:function(){return ye(this).rgb()}}));var Oe=-.14861,Xe=1.78277,Be=-.29227,it=-.90649,mt=1.97294,Pt=mt*it,Z=mt*Xe,ce=Xe*Be-it*Oe;function Re(E){if(E instanceof Me)return new Me(E.h,E.s,E.l,E.opacity);E instanceof g||(E=a(E));var me=E.r/255,G=E.g/255,Ae=E.b/255,Ue=(ce*Ae+Pt*me-Z*G)/(ce+Pt-Z),je=Ae-Ue,vt=(mt*(G-Ue)-Be*je)/it,dt=Math.sqrt(vt*vt+je*je)/(mt*Ue*(1-Ue)),Dt=dt?Math.atan2(vt,je)*I-120:NaN;return new Me(Dt<0?Dt+360:Dt,dt,Ue,E.opacity)}function Fe(E,me,G,Ae){return arguments.length===1?Re(E):new Me(E,me,G,Ae??1)}function Me(E,me,G,Ae){this.h=+E,this.s=+me,this.l=+G,this.opacity=+Ae}r(Me,Fe,f(o,{brighter:function(E){return E=E==null?i:Math.pow(i,E),new Me(this.h,this.s,this.l*E,this.opacity)},darker:function(E){return E=E==null?b:Math.pow(b,E),new Me(this.h,this.s,this.l*E,this.opacity)},rgb:function(){var E=isNaN(this.h)?0:(this.h+120)*R,me=+this.l,G=isNaN(this.s)?0:this.s*me*(1-me),Ae=Math.cos(E),Ue=Math.sin(E);return new g(255*(me+G*(Oe*Ae+Xe*Ue)),255*(me+G*(Be*Ae+it*Ue)),255*(me+G*(mt*Ae)),this.opacity)}})),e.color=s,e.cubehelix=Fe,e.gray=F,e.hcl=he,e.hsl=x,e.lab=S,e.lch=Se,e.rgb=v,Object.defineProperty(e,"__esModule",{value:!0})})});var lr=At((fi,Cf)=>{(function(e,r){typeof fi=="object"&&typeof Cf!="undefined"?r(fi,Ir()):typeof define=="function"&&define.amd?define(["exports","d3-color"],r):(e=e||self,r(e.d3=e.d3||{},e.d3))})(fi,function(e,r){"use strict";function f(Z,ce,Re,Fe,Me){var E=Z*Z,me=E*Z;return((1-3*Z+3*E-me)*ce+(4-6*E+3*me)*Re+(1+3*Z+3*E-3*me)*Fe+me*Me)/6}function o(Z){var ce=Z.length-1;return function(Re){var Fe=Re<=0?Re=0:Re>=1?(Re=1,ce-1):Math.floor(Re*ce),Me=Z[Fe],E=Z[Fe+1],me=Fe>0?Z[Fe-1]:2*Me-E,G=Fe<ce-1?Z[Fe+2]:2*E-Me;return f((Re-Fe/ce)*ce,me,Me,E,G)}}function b(Z){var ce=Z.length;return function(Re){var Fe=Math.floor(((Re%=1)<0?++Re:Re)*ce),Me=Z[(Fe+ce-1)%ce],E=Z[Fe%ce],me=Z[(Fe+1)%ce],G=Z[(Fe+2)%ce];return f((Re-Fe/ce)*ce,Me,E,me,G)}}function i(Z){return function(){return Z}}function te(Z,ce){return function(Re){return Z+Re*ce}}function re(Z,ce,Re){return Z=Math.pow(Z,Re),ce=Math.pow(ce,Re)-Z,Re=1/Re,function(Fe){return Math.pow(Z+Fe*ce,Re)}}function t(Z,ce){var Re=ce-Z;return Re?te(Z,Re>180||Re<-180?Re-360*Math.round(Re/360):Re):i(isNaN(Z)?ce:Z)}function k(Z){return(Z=+Z)==1?n:function(ce,Re){return Re-ce?re(ce,Re,Z):i(isNaN(ce)?Re:ce)}}function n(Z,ce){var Re=ce-Z;return Re?te(Z,Re):i(isNaN(Z)?ce:Z)}var O=function Z(ce){var Re=k(ce);function Fe(Me,E){var me=Re((Me=r.rgb(Me)).r,(E=r.rgb(E)).r),G=Re(Me.g,E.g),Ae=Re(Me.b,E.b),Ue=n(Me.opacity,E.opacity);return function(je){return Me.r=me(je),Me.g=G(je),Me.b=Ae(je),Me.opacity=Ue(je),Me+""}}return Fe.gamma=Z,Fe}(1);function c(Z){return function(ce){var Re=ce.length,Fe=new Array(Re),Me=new Array(Re),E=new Array(Re),me,G;for(me=0;me<Re;++me)G=r.rgb(ce[me]),Fe[me]=G.r||0,Me[me]=G.g||0,E[me]=G.b||0;return Fe=Z(Fe),Me=Z(Me),E=Z(E),G.opacity=1,function(Ae){return G.r=Fe(Ae),G.g=Me(Ae),G.b=E(Ae),G+""}}}var _=c(o),W=c(b);function V(Z,ce){ce||(ce=[]);var Re=Z?Math.min(ce.length,Z.length):0,Fe=ce.slice(),Me;return function(E){for(Me=0;Me<Re;++Me)Fe[Me]=Z[Me]*(1-E)+ce[Me]*E;return Fe}}function fe(Z){return ArrayBuffer.isView(Z)&&!(Z instanceof DataView)}function j(Z,ce){return(fe(ce)?V:ve)(Z,ce)}function ve(Z,ce){var Re=ce?ce.length:0,Fe=Z?Math.min(Re,Z.length):0,Me=new Array(Fe),E=new Array(Re),me;for(me=0;me<Fe;++me)Me[me]=u(Z[me],ce[me]);for(;me<Re;++me)E[me]=ce[me];return function(G){for(me=0;me<Fe;++me)E[me]=Me[me](G);return E}}function P(Z,ce){var Re=new Date;return Z=+Z,ce=+ce,function(Fe){return Re.setTime(Z*(1-Fe)+ce*Fe),Re}}function s(Z,ce){return Z=+Z,ce=+ce,function(Re){return Z*(1-Re)+ce*Re}}function A(Z,ce){var Re={},Fe={},Me;(Z===null||typeof Z!="object")&&(Z={}),(ce===null||typeof ce!="object")&&(ce={});for(Me in ce)Me in Z?Re[Me]=u(Z[Me],ce[Me]):Fe[Me]=ce[Me];return function(E){for(Me in Re)Fe[Me]=Re[Me](E);return Fe}}var C=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(C.source,"g");function v(Z){return function(){return Z}}function g(Z){return function(ce){return Z(ce)+""}}function h(Z,ce){var Re=C.lastIndex=a.lastIndex=0,Fe,Me,E,me=-1,G=[],Ae=[];for(Z=Z+"",ce=ce+"";(Fe=C.exec(Z))&&(Me=a.exec(ce));)(E=Me.index)>Re&&(E=ce.slice(Re,E),G[me]?G[me]+=E:G[++me]=E),(Fe=Fe[0])===(Me=Me[0])?G[me]?G[me]+=Me:G[++me]=Me:(G[++me]=null,Ae.push({i:me,x:s(Fe,Me)})),Re=a.lastIndex;return Re<ce.length&&(E=ce.slice(Re),G[me]?G[me]+=E:G[++me]=E),G.length<2?Ae[0]?g(Ae[0].x):v(ce):(ce=Ae.length,function(Ue){for(var je=0,vt;je<ce;++je)G[(vt=Ae[je]).i]=vt.x(Ue);return G.join("")})}function u(Z,ce){var Re=typeof ce,Fe;return ce==null||Re==="boolean"?i(ce):(Re==="number"?s:Re==="string"?(Fe=r.color(ce))?(ce=Fe,O):h:ce instanceof r.color?O:ce instanceof Date?P:fe(ce)?V:Array.isArray(ce)?ve:typeof ce.valueOf!="function"&&typeof ce.toString!="function"||isNaN(ce)?A:s)(Z,ce)}function p(Z){var ce=Z.length;return function(Re){return Z[Math.max(0,Math.min(ce-1,Math.floor(Re*ce)))]}}function y(Z,ce){var Re=t(+Z,+ce);return function(Fe){var Me=Re(Fe);return Me-360*Math.floor(Me/360)}}function m(Z,ce){return Z=+Z,ce=+ce,function(Re){return Math.round(Z*(1-Re)+ce*Re)}}var x=180/Math.PI,L={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function X(Z,ce,Re,Fe,Me,E){var me,G,Ae;return(me=Math.sqrt(Z*Z+ce*ce))&&(Z/=me,ce/=me),(Ae=Z*Re+ce*Fe)&&(Re-=Z*Ae,Fe-=ce*Ae),(G=Math.sqrt(Re*Re+Fe*Fe))&&(Re/=G,Fe/=G,Ae/=G),Z*Fe<ce*Re&&(Z=-Z,ce=-ce,Ae=-Ae,me=-me),{translateX:Me,translateY:E,rotate:Math.atan2(ce,Z)*x,skewX:Math.atan(Ae)*x,scaleX:me,scaleY:G}}var R,I,D,B;function Q(Z){return Z==="none"?L:(R||(R=document.createElement("DIV"),I=document.documentElement,D=document.defaultView),R.style.transform=Z,Z=D.getComputedStyle(I.appendChild(R),null).getPropertyValue("transform"),I.removeChild(R),Z=Z.slice(7,-1).split(","),X(+Z[0],+Z[1],+Z[2],+Z[3],+Z[4],+Z[5]))}function U(Z){return Z==null||(B||(B=document.createElementNS("http://www.w3.org/2000/svg","g")),B.setAttribute("transform",Z),!(Z=B.transform.baseVal.consolidate()))?L:(Z=Z.matrix,X(Z.a,Z.b,Z.c,Z.d,Z.e,Z.f))}function Y(Z,ce,Re,Fe){function Me(Ue){return Ue.length?Ue.pop()+" ":""}function E(Ue,je,vt,dt,Dt,Le){if(Ue!==vt||je!==dt){var $e=Dt.push("translate(",null,ce,null,Re);Le.push({i:$e-4,x:s(Ue,vt)},{i:$e-2,x:s(je,dt)})}else(vt||dt)&&Dt.push("translate("+vt+ce+dt+Re)}function me(Ue,je,vt,dt){Ue!==je?(Ue-je>180?je+=360:je-Ue>180&&(Ue+=360),dt.push({i:vt.push(Me(vt)+"rotate(",null,Fe)-2,x:s(Ue,je)})):je&&vt.push(Me(vt)+"rotate("+je+Fe)}function G(Ue,je,vt,dt){Ue!==je?dt.push({i:vt.push(Me(vt)+"skewX(",null,Fe)-2,x:s(Ue,je)}):je&&vt.push(Me(vt)+"skewX("+je+Fe)}function Ae(Ue,je,vt,dt,Dt,Le){if(Ue!==vt||je!==dt){var $e=Dt.push(Me(Dt)+"scale(",null,",",null,")");Le.push({i:$e-4,x:s(Ue,vt)},{i:$e-2,x:s(je,dt)})}else(vt!==1||dt!==1)&&Dt.push(Me(Dt)+"scale("+vt+","+dt+")")}return function(Ue,je){var vt=[],dt=[];return Ue=Z(Ue),je=Z(je),E(Ue.translateX,Ue.translateY,je.translateX,je.translateY,vt,dt),me(Ue.rotate,je.rotate,vt,dt),G(Ue.skewX,je.skewX,vt,dt),Ae(Ue.scaleX,Ue.scaleY,je.scaleX,je.scaleY,vt,dt),Ue=je=null,function(Dt){for(var Le=-1,$e=dt.length,tt;++Le<$e;)vt[(tt=dt[Le]).i]=tt.x(Dt);return vt.join("")}}}var pe=Y(Q,"px, ","px)","deg)"),Ce=Y(U,", ",")",")"),Pe=Math.SQRT2,l=2,F=4,S=1e-12;function T(Z){return((Z=Math.exp(Z))+1/Z)/2}function d(Z){return((Z=Math.exp(Z))-1/Z)/2}function $(Z){return((Z=Math.exp(2*Z))-1)/(Z+1)}function le(Z,ce){var Re=Z[0],Fe=Z[1],Me=Z[2],E=ce[0],me=ce[1],G=ce[2],Ae=E-Re,Ue=me-Fe,je=Ae*Ae+Ue*Ue,vt,dt;if(je<S)dt=Math.log(G/Me)/Pe,vt=function(be){return[Re+be*Ae,Fe+be*Ue,Me*Math.exp(Pe*be*dt)]};else{var Dt=Math.sqrt(je),Le=(G*G-Me*Me+F*je)/(2*Me*l*Dt),$e=(G*G-Me*Me-F*je)/(2*G*l*Dt),tt=Math.log(Math.sqrt(Le*Le+1)-Le),K=Math.log(Math.sqrt($e*$e+1)-$e);dt=(K-tt)/Pe,vt=function(be){var N=be*dt,ie=T(tt),we=Me/(l*Dt)*(ie*$(Pe*N+tt)-d(tt));return[Re+we*Ae,Fe+we*Ue,Me*ie/T(Pe*N+tt)]}}return vt.duration=dt*1e3,vt}function q(Z){return function(ce,Re){var Fe=Z((ce=r.hsl(ce)).h,(Re=r.hsl(Re)).h),Me=n(ce.s,Re.s),E=n(ce.l,Re.l),me=n(ce.opacity,Re.opacity);return function(G){return ce.h=Fe(G),ce.s=Me(G),ce.l=E(G),ce.opacity=me(G),ce+""}}}var ge=q(t),Se=q(n);function he(Z,ce){var Re=n((Z=r.lab(Z)).l,(ce=r.lab(ce)).l),Fe=n(Z.a,ce.a),Me=n(Z.b,ce.b),E=n(Z.opacity,ce.opacity);return function(me){return Z.l=Re(me),Z.a=Fe(me),Z.b=Me(me),Z.opacity=E(me),Z+""}}function oe(Z){return function(ce,Re){var Fe=Z((ce=r.hcl(ce)).h,(Re=r.hcl(Re)).h),Me=n(ce.c,Re.c),E=n(ce.l,Re.l),me=n(ce.opacity,Re.opacity);return function(G){return ce.h=Fe(G),ce.c=Me(G),ce.l=E(G),ce.opacity=me(G),ce+""}}}var ye=oe(t),Oe=oe(n);function Xe(Z){return function ce(Re){Re=+Re;function Fe(Me,E){var me=Z((Me=r.cubehelix(Me)).h,(E=r.cubehelix(E)).h),G=n(Me.s,E.s),Ae=n(Me.l,E.l),Ue=n(Me.opacity,E.opacity);return function(je){return Me.h=me(je),Me.s=G(je),Me.l=Ae(Math.pow(je,Re)),Me.opacity=Ue(je),Me+""}}return Fe.gamma=ce,Fe}(1)}var Be=Xe(t),it=Xe(n);function mt(Z,ce){for(var Re=0,Fe=ce.length-1,Me=ce[0],E=new Array(Fe<0?0:Fe);Re<Fe;)E[Re]=Z(Me,Me=ce[++Re]);return function(me){var G=Math.max(0,Math.min(Fe-1,Math.floor(me*=Fe)));return E[G](me-G)}}function Pt(Z,ce){for(var Re=new Array(ce),Fe=0;Fe<ce;++Fe)Re[Fe]=Z(Fe/(ce-1));return Re}e.interpolate=u,e.interpolateArray=j,e.interpolateBasis=o,e.interpolateBasisClosed=b,e.interpolateCubehelix=Be,e.interpolateCubehelixLong=it,e.interpolateDate=P,e.interpolateDiscrete=p,e.interpolateHcl=ye,e.interpolateHclLong=Oe,e.interpolateHsl=ge,e.interpolateHslLong=Se,e.interpolateHue=y,e.interpolateLab=he,e.interpolateNumber=s,e.interpolateNumberArray=V,e.interpolateObject=A,e.interpolateRgb=O,e.interpolateRgbBasis=_,e.interpolateRgbBasisClosed=W,e.interpolateRound=m,e.interpolateString=h,e.interpolateTransformCss=pe,e.interpolateTransformSvg=Ce,e.interpolateZoom=le,e.piecewise=mt,e.quantize=Pt,Object.defineProperty(e,"__esModule",{value:!0})})});var ci=At((si,kf)=>{(function(e,r){typeof si=="object"&&typeof kf!="undefined"?r(si):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(si,function(e){"use strict";var r=0,f=0,o=0,b=1e3,i,te,re=0,t=0,k=0,n=typeof performance=="object"&&performance.now?performance:Date,O=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function c(){return t||(O(_),t=n.now()+k)}function _(){t=0}function W(){this._call=this._time=this._next=null}W.prototype=V.prototype={constructor:W,restart:function(a,v,g){if(typeof a!="function")throw new TypeError("callback is not a function");g=(g==null?c():+g)+(v==null?0:+v),!this._next&&te!==this&&(te?te._next=this:i=this,te=this),this._call=a,this._time=g,s()},stop:function(){this._call&&(this._call=null,this._time=Infinity,s())}};function V(a,v,g){var h=new W;return h.restart(a,v,g),h}function fe(){c(),++r;for(var a=i,v;a;)(v=t-a._time)>=0&&a._call.call(null,v),a=a._next;--r}function j(){t=(re=n.now())+k,r=f=0;try{fe()}finally{r=0,P(),t=0}}function ve(){var a=n.now(),v=a-re;v>b&&(k-=v,re=a)}function P(){for(var a,v=i,g,h=Infinity;v;)v._call?(h>v._time&&(h=v._time),a=v,v=v._next):(g=v._next,v._next=null,v=a?a._next=g:i=g);te=a,s(h)}function s(a){if(!r){f&&(f=clearTimeout(f));var v=a-t;v>24?(a<Infinity&&(f=setTimeout(j,a-n.now()-k)),o&&(o=clearInterval(o))):(o||(re=n.now(),o=setInterval(ve,b)),r=1,O(j))}}var A=function(a,v,g){var h=new W;return v=v==null?0:+v,h.restart(function(u){h.stop(),a(u+v)},v,g),h},C=function(a,v,g){var h=new W,u=v;return v==null?(h.restart(a,v,g),h):(v=+v,g=g==null?c():+g,h.restart(function p(y){y+=u,h.restart(p,u+=v,g),a(y)},v,g),h)};e.now=c,e.timer=V,e.timerFlush=fe,e.timeout=A,e.interval=C,Object.defineProperty(e,"__esModule",{value:!0})})});var Ya=At((li,Rf)=>{(function(e,r){typeof li=="object"&&typeof Rf!="undefined"?r(li):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(li,function(e){"use strict";function r(S){return+S}function f(S){return S*S}function o(S){return S*(2-S)}function b(S){return((S*=2)<=1?S*S:--S*(2-S)+1)/2}function i(S){return S*S*S}function te(S){return--S*S*S+1}function re(S){return((S*=2)<=1?S*S*S:(S-=2)*S*S+2)/2}var t=3,k=function S(T){T=+T;function d($){return Math.pow($,T)}return d.exponent=S,d}(t),n=function S(T){T=+T;function d($){return 1-Math.pow(1-$,T)}return d.exponent=S,d}(t),O=function S(T){T=+T;function d($){return(($*=2)<=1?Math.pow($,T):2-Math.pow(2-$,T))/2}return d.exponent=S,d}(t),c=Math.PI,_=c/2;function W(S){return 1-Math.cos(S*_)}function V(S){return Math.sin(S*_)}function fe(S){return(1-Math.cos(c*S))/2}function j(S){return Math.pow(2,10*S-10)}function ve(S){return 1-Math.pow(2,-10*S)}function P(S){return((S*=2)<=1?Math.pow(2,10*S-10):2-Math.pow(2,10-10*S))/2}function s(S){return 1-Math.sqrt(1-S*S)}function A(S){return Math.sqrt(1- --S*S)}function C(S){return((S*=2)<=1?1-Math.sqrt(1-S*S):Math.sqrt(1-(S-=2)*S)+1)/2}var a=4/11,v=6/11,g=8/11,h=3/4,u=9/11,p=10/11,y=15/16,m=21/22,x=63/64,L=1/a/a;function X(S){return 1-R(1-S)}function R(S){return(S=+S)<a?L*S*S:S<g?L*(S-=v)*S+h:S<p?L*(S-=u)*S+y:L*(S-=m)*S+x}function I(S){return((S*=2)<=1?1-R(1-S):R(S-1)+1)/2}var D=1.70158,B=function S(T){T=+T;function d($){return $*$*((T+1)*$-T)}return d.overshoot=S,d}(D),Q=function S(T){T=+T;function d($){return--$*$*((T+1)*$+T)+1}return d.overshoot=S,d}(D),U=function S(T){T=+T;function d($){return(($*=2)<1?$*$*((T+1)*$-T):($-=2)*$*((T+1)*$+T)+2)/2}return d.overshoot=S,d}(D),Y=2*Math.PI,pe=1,Ce=.3,Pe=function S(T,d){var $=Math.asin(1/(T=Math.max(1,T)))*(d/=Y);function le(q){return T*Math.pow(2,10*--q)*Math.sin(($-q)/d)}return le.amplitude=function(q){return S(q,d*Y)},le.period=function(q){return S(T,q)},le}(pe,Ce),l=function S(T,d){var $=Math.asin(1/(T=Math.max(1,T)))*(d/=Y);function le(q){return 1-T*Math.pow(2,-10*(q=+q))*Math.sin((q+$)/d)}return le.amplitude=function(q){return S(q,d*Y)},le.period=function(q){return S(T,q)},le}(pe,Ce),F=function S(T,d){var $=Math.asin(1/(T=Math.max(1,T)))*(d/=Y);function le(q){return((q=q*2-1)<0?T*Math.pow(2,10*q)*Math.sin(($-q)/d):2-T*Math.pow(2,-10*q)*Math.sin(($+q)/d))/2}return le.amplitude=function(q){return S(q,d*Y)},le.period=function(q){return S(T,q)},le}(pe,Ce);e.easeLinear=r,e.easeQuad=b,e.easeQuadIn=f,e.easeQuadOut=o,e.easeQuadInOut=b,e.easeCubic=re,e.easeCubicIn=i,e.easeCubicOut=te,e.easeCubicInOut=re,e.easePoly=O,e.easePolyIn=k,e.easePolyOut=n,e.easePolyInOut=O,e.easeSin=fe,e.easeSinIn=W,e.easeSinOut=V,e.easeSinInOut=fe,e.easeExp=P,e.easeExpIn=j,e.easeExpOut=ve,e.easeExpInOut=P,e.easeCircle=C,e.easeCircleIn=s,e.easeCircleOut=A,e.easeCircleInOut=C,e.easeBounce=R,e.easeBounceIn=X,e.easeBounceOut=R,e.easeBounceInOut=I,e.easeBack=U,e.easeBackIn=B,e.easeBackOut=Q,e.easeBackInOut=U,e.easeElastic=l,e.easeElasticIn=Pe,e.easeElasticOut=l,e.easeElasticInOut=F,Object.defineProperty(e,"__esModule",{value:!0})})});var hi=At((di,Lf)=>{(function(e,r){typeof di=="object"&&typeof Lf!="undefined"?r(di,cr(),sr(),ci(),lr(),Ir(),Ya()):typeof define=="function"&&define.amd?define(["exports","d3-selection","d3-dispatch","d3-timer","d3-interpolate","d3-color","d3-ease"],r):(e=e||self,r(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3))})(di,function(e,r,f,o,b,i,te){"use strict";var re=f.dispatch("start","end","cancel","interrupt"),t=[],k=0,n=1,O=2,c=3,_=4,W=5,V=6;function fe(H,ee,J,ue,Ee,Ne){var xe=H.__transition;if(!xe)H.__transition={};else if(J in xe)return;s(H,J,{name:ee,index:ue,group:Ee,on:re,tween:t,time:Ne.time,delay:Ne.delay,duration:Ne.duration,ease:Ne.ease,timer:null,state:k})}function j(H,ee){var J=P(H,ee);if(J.state>k)throw new Error("too late; already scheduled");return J}function ve(H,ee){var J=P(H,ee);if(J.state>c)throw new Error("too late; already running");return J}function P(H,ee){var J=H.__transition;if(!J||!(J=J[ee]))throw new Error("transition not found");return J}function s(H,ee,J){var ue=H.__transition,Ee;ue[ee]=J,J.timer=o.timer(Ne,0,J.time);function Ne(Je){J.state=n,J.timer.restart(xe,J.delay,J.time),J.delay<=Je&&xe(Je-J.delay)}function xe(Je){var ht,We,ot,wt;if(J.state!==n)return Ye();for(ht in ue)if(wt=ue[ht],wt.name===J.name){if(wt.state===c)return o.timeout(xe);wt.state===_?(wt.state=V,wt.timer.stop(),wt.on.call("interrupt",H,H.__data__,wt.index,wt.group),delete ue[ht]):+ht<ee&&(wt.state=V,wt.timer.stop(),wt.on.call("cancel",H,H.__data__,wt.index,wt.group),delete ue[ht])}if(o.timeout(function(){J.state===c&&(J.state=_,J.timer.restart(qe,J.delay,J.time),qe(Je))}),J.state=O,J.on.call("start",H,H.__data__,J.index,J.group),J.state===O){for(J.state=c,Ee=new Array(ot=J.tween.length),ht=0,We=-1;ht<ot;++ht)(wt=J.tween[ht].value.call(H,H.__data__,J.index,J.group))&&(Ee[++We]=wt);Ee.length=We+1}}function qe(Je){for(var ht=Je<J.duration?J.ease.call(null,Je/J.duration):(J.timer.restart(Ye),J.state=W,1),We=-1,ot=Ee.length;++We<ot;)Ee[We].call(H,ht);J.state===W&&(J.on.call("end",H,H.__data__,J.index,J.group),Ye())}function Ye(){J.state=V,J.timer.stop(),delete ue[ee];for(var Je in ue)return;delete H.__transition}}function A(H,ee){var J=H.__transition,ue,Ee,Ne=!0,xe;if(!!J){ee=ee==null?null:ee+"";for(xe in J){if((ue=J[xe]).name!==ee){Ne=!1;continue}Ee=ue.state>O&&ue.state<W,ue.state=V,ue.timer.stop(),ue.on.call(Ee?"interrupt":"cancel",H,H.__data__,ue.index,ue.group),delete J[xe]}Ne&&delete H.__transition}}function C(H){return this.each(function(){A(this,H)})}function a(H,ee){var J,ue;return function(){var Ee=ve(this,H),Ne=Ee.tween;if(Ne!==J){ue=J=Ne;for(var xe=0,qe=ue.length;xe<qe;++xe)if(ue[xe].name===ee){ue=ue.slice(),ue.splice(xe,1);break}}Ee.tween=ue}}function v(H,ee,J){var ue,Ee;if(typeof J!="function")throw new Error;return function(){var Ne=ve(this,H),xe=Ne.tween;if(xe!==ue){Ee=(ue=xe).slice();for(var qe={name:ee,value:J},Ye=0,Je=Ee.length;Ye<Je;++Ye)if(Ee[Ye].name===ee){Ee[Ye]=qe;break}Ye===Je&&Ee.push(qe)}Ne.tween=Ee}}function g(H,ee){var J=this._id;if(H+="",arguments.length<2){for(var ue=P(this.node(),J).tween,Ee=0,Ne=ue.length,xe;Ee<Ne;++Ee)if((xe=ue[Ee]).name===H)return xe.value;return null}return this.each((ee==null?a:v)(J,H,ee))}function h(H,ee,J){var ue=H._id;return H.each(function(){var Ee=ve(this,ue);(Ee.value||(Ee.value={}))[ee]=J.apply(this,arguments)}),function(Ee){return P(Ee,ue).value[ee]}}function u(H,ee){var J;return(typeof ee=="number"?b.interpolateNumber:ee instanceof i.color?b.interpolateRgb:(J=i.color(ee))?(ee=J,b.interpolateRgb):b.interpolateString)(H,ee)}function p(H){return function(){this.removeAttribute(H)}}function y(H){return function(){this.removeAttributeNS(H.space,H.local)}}function m(H,ee,J){var ue,Ee=J+"",Ne;return function(){var xe=this.getAttribute(H);return xe===Ee?null:xe===ue?Ne:Ne=ee(ue=xe,J)}}function x(H,ee,J){var ue,Ee=J+"",Ne;return function(){var xe=this.getAttributeNS(H.space,H.local);return xe===Ee?null:xe===ue?Ne:Ne=ee(ue=xe,J)}}function L(H,ee,J){var ue,Ee,Ne;return function(){var xe,qe=J(this),Ye;return qe==null?void this.removeAttribute(H):(xe=this.getAttribute(H),Ye=qe+"",xe===Ye?null:xe===ue&&Ye===Ee?Ne:(Ee=Ye,Ne=ee(ue=xe,qe)))}}function X(H,ee,J){var ue,Ee,Ne;return function(){var xe,qe=J(this),Ye;return qe==null?void this.removeAttributeNS(H.space,H.local):(xe=this.getAttributeNS(H.space,H.local),Ye=qe+"",xe===Ye?null:xe===ue&&Ye===Ee?Ne:(Ee=Ye,Ne=ee(ue=xe,qe)))}}function R(H,ee){var J=r.namespace(H),ue=J==="transform"?b.interpolateTransformSvg:u;return this.attrTween(H,typeof ee=="function"?(J.local?X:L)(J,ue,h(this,"attr."+H,ee)):ee==null?(J.local?y:p)(J):(J.local?x:m)(J,ue,ee))}function I(H,ee){return function(J){this.setAttribute(H,ee.call(this,J))}}function D(H,ee){return function(J){this.setAttributeNS(H.space,H.local,ee.call(this,J))}}function B(H,ee){var J,ue;function Ee(){var Ne=ee.apply(this,arguments);return Ne!==ue&&(J=(ue=Ne)&&D(H,Ne)),J}return Ee._value=ee,Ee}function Q(H,ee){var J,ue;function Ee(){var Ne=ee.apply(this,arguments);return Ne!==ue&&(J=(ue=Ne)&&I(H,Ne)),J}return Ee._value=ee,Ee}function U(H,ee){var J="attr."+H;if(arguments.length<2)return(J=this.tween(J))&&J._value;if(ee==null)return this.tween(J,null);if(typeof ee!="function")throw new Error;var ue=r.namespace(H);return this.tween(J,(ue.local?B:Q)(ue,ee))}function Y(H,ee){return function(){j(this,H).delay=+ee.apply(this,arguments)}}function pe(H,ee){return ee=+ee,function(){j(this,H).delay=ee}}function Ce(H){var ee=this._id;return arguments.length?this.each((typeof H=="function"?Y:pe)(ee,H)):P(this.node(),ee).delay}function Pe(H,ee){return function(){ve(this,H).duration=+ee.apply(this,arguments)}}function l(H,ee){return ee=+ee,function(){ve(this,H).duration=ee}}function F(H){var ee=this._id;return arguments.length?this.each((typeof H=="function"?Pe:l)(ee,H)):P(this.node(),ee).duration}function S(H,ee){if(typeof ee!="function")throw new Error;return function(){ve(this,H).ease=ee}}function T(H){var ee=this._id;return arguments.length?this.each(S(ee,H)):P(this.node(),ee).ease}function d(H){typeof H!="function"&&(H=r.matcher(H));for(var ee=this._groups,J=ee.length,ue=new Array(J),Ee=0;Ee<J;++Ee)for(var Ne=ee[Ee],xe=Ne.length,qe=ue[Ee]=[],Ye,Je=0;Je<xe;++Je)(Ye=Ne[Je])&&H.call(Ye,Ye.__data__,Je,Ne)&&qe.push(Ye);return new Le(ue,this._parents,this._name,this._id)}function $(H){if(H._id!==this._id)throw new Error;for(var ee=this._groups,J=H._groups,ue=ee.length,Ee=J.length,Ne=Math.min(ue,Ee),xe=new Array(ue),qe=0;qe<Ne;++qe)for(var Ye=ee[qe],Je=J[qe],ht=Ye.length,We=xe[qe]=new Array(ht),ot,wt=0;wt<ht;++wt)(ot=Ye[wt]||Je[wt])&&(We[wt]=ot);for(;qe<ue;++qe)xe[qe]=ee[qe];return new Le(xe,this._parents,this._name,this._id)}function le(H){return(H+"").trim().split(/^|\s+/).every(function(ee){var J=ee.indexOf(".");return J>=0&&(ee=ee.slice(0,J)),!ee||ee==="start"})}function q(H,ee,J){var ue,Ee,Ne=le(ee)?j:ve;return function(){var xe=Ne(this,H),qe=xe.on;qe!==ue&&(Ee=(ue=qe).copy()).on(ee,J),xe.on=Ee}}function ge(H,ee){var J=this._id;return arguments.length<2?P(this.node(),J).on.on(H):this.each(q(J,H,ee))}function Se(H){return function(){var ee=this.parentNode;for(var J in this.__transition)if(+J!==H)return;ee&&ee.removeChild(this)}}function he(){return this.on("end.remove",Se(this._id))}function oe(H){var ee=this._name,J=this._id;typeof H!="function"&&(H=r.selector(H));for(var ue=this._groups,Ee=ue.length,Ne=new Array(Ee),xe=0;xe<Ee;++xe)for(var qe=ue[xe],Ye=qe.length,Je=Ne[xe]=new Array(Ye),ht,We,ot=0;ot<Ye;++ot)(ht=qe[ot])&&(We=H.call(ht,ht.__data__,ot,qe))&&("__data__"in ht&&(We.__data__=ht.__data__),Je[ot]=We,fe(Je[ot],ee,J,ot,Je,P(ht,J)));return new Le(Ne,this._parents,ee,J)}function ye(H){var ee=this._name,J=this._id;typeof H!="function"&&(H=r.selectorAll(H));for(var ue=this._groups,Ee=ue.length,Ne=[],xe=[],qe=0;qe<Ee;++qe)for(var Ye=ue[qe],Je=Ye.length,ht,We=0;We<Je;++We)if(ht=Ye[We]){for(var ot=H.call(ht,ht.__data__,We,Ye),wt,Ft=P(ht,J),Ct=0,Rt=ot.length;Ct<Rt;++Ct)(wt=ot[Ct])&&fe(wt,ee,J,Ct,ot,Ft);Ne.push(ot),xe.push(ht)}return new Le(Ne,xe,ee,J)}var Oe=r.selection.prototype.constructor;function Xe(){return new Oe(this._groups,this._parents)}function Be(H,ee){var J,ue,Ee;return function(){var Ne=r.style(this,H),xe=(this.style.removeProperty(H),r.style(this,H));return Ne===xe?null:Ne===J&&xe===ue?Ee:Ee=ee(J=Ne,ue=xe)}}function it(H){return function(){this.style.removeProperty(H)}}function mt(H,ee,J){var ue,Ee=J+"",Ne;return function(){var xe=r.style(this,H);return xe===Ee?null:xe===ue?Ne:Ne=ee(ue=xe,J)}}function Pt(H,ee,J){var ue,Ee,Ne;return function(){var xe=r.style(this,H),qe=J(this),Ye=qe+"";return qe==null&&(Ye=qe=(this.style.removeProperty(H),r.style(this,H))),xe===Ye?null:xe===ue&&Ye===Ee?Ne:(Ee=Ye,Ne=ee(ue=xe,qe))}}function Z(H,ee){var J,ue,Ee,Ne="style."+ee,xe="end."+Ne,qe;return function(){var Ye=ve(this,H),Je=Ye.on,ht=Ye.value[Ne]==null?qe||(qe=it(ee)):void 0;(Je!==J||Ee!==ht)&&(ue=(J=Je).copy()).on(xe,Ee=ht),Ye.on=ue}}function ce(H,ee,J){var ue=(H+="")==="transform"?b.interpolateTransformCss:u;return ee==null?this.styleTween(H,Be(H,ue)).on("end.style."+H,it(H)):typeof ee=="function"?this.styleTween(H,Pt(H,ue,h(this,"style."+H,ee))).each(Z(this._id,H)):this.styleTween(H,mt(H,ue,ee),J).on("end.style."+H,null)}function Re(H,ee,J){return function(ue){this.style.setProperty(H,ee.call(this,ue),J)}}function Fe(H,ee,J){var ue,Ee;function Ne(){var xe=ee.apply(this,arguments);return xe!==Ee&&(ue=(Ee=xe)&&Re(H,xe,J)),ue}return Ne._value=ee,Ne}function Me(H,ee,J){var ue="style."+(H+="");if(arguments.length<2)return(ue=this.tween(ue))&&ue._value;if(ee==null)return this.tween(ue,null);if(typeof ee!="function")throw new Error;return this.tween(ue,Fe(H,ee,J??""))}function E(H){return function(){this.textContent=H}}function me(H){return function(){var ee=H(this);this.textContent=ee??""}}function G(H){return this.tween("text",typeof H=="function"?me(h(this,"text",H)):E(H==null?"":H+""))}function Ae(H){return function(ee){this.textContent=H.call(this,ee)}}function Ue(H){var ee,J;function ue(){var Ee=H.apply(this,arguments);return Ee!==J&&(ee=(J=Ee)&&Ae(Ee)),ee}return ue._value=H,ue}function je(H){var ee="text";if(arguments.length<1)return(ee=this.tween(ee))&&ee._value;if(H==null)return this.tween(ee,null);if(typeof H!="function")throw new Error;return this.tween(ee,Ue(H))}function vt(){for(var H=this._name,ee=this._id,J=tt(),ue=this._groups,Ee=ue.length,Ne=0;Ne<Ee;++Ne)for(var xe=ue[Ne],qe=xe.length,Ye,Je=0;Je<qe;++Je)if(Ye=xe[Je]){var ht=P(Ye,ee);fe(Ye,H,J,Je,xe,{time:ht.time+ht.delay+ht.duration,delay:0,duration:ht.duration,ease:ht.ease})}return new Le(ue,this._parents,H,J)}function dt(){var H,ee,J=this,ue=J._id,Ee=J.size();return new Promise(function(Ne,xe){var qe={value:xe},Ye={value:function(){--Ee==0&&Ne()}};J.each(function(){var Je=ve(this,ue),ht=Je.on;ht!==H&&(ee=(H=ht).copy(),ee._.cancel.push(qe),ee._.interrupt.push(qe),ee._.end.push(Ye)),Je.on=ee})})}var Dt=0;function Le(H,ee,J,ue){this._groups=H,this._parents=ee,this._name=J,this._id=ue}function $e(H){return r.selection().transition(H)}function tt(){return++Dt}var K=r.selection.prototype;Le.prototype=$e.prototype={constructor:Le,select:oe,selectAll:ye,filter:d,merge:$,selection:Xe,transition:vt,call:K.call,nodes:K.nodes,node:K.node,size:K.size,empty:K.empty,each:K.each,on:ge,attr:R,attrTween:U,style:ce,styleTween:Me,text:G,textTween:je,remove:he,tween:g,delay:Ce,duration:F,ease:T,end:dt};var be={time:null,delay:0,duration:250,ease:te.easeCubicInOut};function N(H,ee){for(var J;!(J=H.__transition)||!(J=J[ee]);)if(!(H=H.parentNode))return be.time=o.now(),be;return J}function ie(H){var ee,J;H instanceof Le?(ee=H._id,H=H._name):(ee=tt(),(J=be).time=o.now(),H=H==null?null:H+"");for(var ue=this._groups,Ee=ue.length,Ne=0;Ne<Ee;++Ne)for(var xe=ue[Ne],qe=xe.length,Ye,Je=0;Je<qe;++Je)(Ye=xe[Je])&&fe(Ye,H,ee,Je,xe,J||N(Ye,ee));return new Le(ue,this._parents,H,ee)}r.selection.prototype.interrupt=C,r.selection.prototype.transition=ie;var we=[null];function ne(H,ee){var J=H.__transition,ue,Ee;if(J){ee=ee==null?null:ee+"";for(Ee in J)if((ue=J[Ee]).state>n&&ue.name===ee)return new Le([[H]],we,ee,+Ee)}return null}e.active=ne,e.interrupt=A,e.transition=$e,Object.defineProperty(e,"__esModule",{value:!0})})});var Pf=At((gi,Tf)=>{(function(e,r){typeof gi=="object"&&typeof Tf!="undefined"?r(gi,sr(),ui(),lr(),cr(),hi()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],r):(e=e||self,r(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3))})(gi,function(e,r,f,o,b,i){"use strict";function te(D){return function(){return D}}function re(D,B,Q){this.target=D,this.type=B,this.selection=Q}function t(){b.event.stopImmediatePropagation()}function k(){b.event.preventDefault(),b.event.stopImmediatePropagation()}var n={name:"drag"},O={name:"space"},c={name:"handle"},_={name:"center"};function W(D){return[+D[0],+D[1]]}function V(D){return[W(D[0]),W(D[1])]}function fe(D){return function(B){return b.touch(B,b.event.touches,D)}}var j={name:"x",handles:["w","e"].map(g),input:function(D,B){return D==null?null:[[+D[0],B[0][1]],[+D[1],B[1][1]]]},output:function(D){return D&&[D[0][0],D[1][0]]}},ve={name:"y",handles:["n","s"].map(g),input:function(D,B){return D==null?null:[[B[0][0],+D[0]],[B[1][0],+D[1]]]},output:function(D){return D&&[D[0][1],D[1][1]]}},P={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(g),input:function(D){return D==null?null:V(D)},output:function(D){return D}},s={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},A={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},C={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},a={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},v={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function g(D){return{type:D}}function h(){return!b.event.ctrlKey&&!b.event.button}function u(){var D=this.ownerSVGElement||this;return D.hasAttribute("viewBox")?(D=D.viewBox.baseVal,[[D.x,D.y],[D.x+D.width,D.y+D.height]]):[[0,0],[D.width.baseVal.value,D.height.baseVal.value]]}function p(){return navigator.maxTouchPoints||"ontouchstart"in this}function y(D){for(;!D.__brush;)if(!(D=D.parentNode))return;return D.__brush}function m(D){return D[0][0]===D[1][0]||D[0][1]===D[1][1]}function x(D){var B=D.__brush;return B?B.dim.output(B.selection):null}function L(){return I(j)}function X(){return I(ve)}function R(){return I(P)}function I(D){var B=u,Q=h,U=p,Y=!0,pe=r.dispatch("start","brush","end"),Ce=6,Pe;function l(ge){var Se=ge.property("__brush",q).selectAll(".overlay").data([g("overlay")]);Se.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",s.overlay).merge(Se).each(function(){var oe=y(this).extent;b.select(this).attr("x",oe[0][0]).attr("y",oe[0][1]).attr("width",oe[1][0]-oe[0][0]).attr("height",oe[1][1]-oe[0][1])}),ge.selectAll(".selection").data([g("selection")]).enter().append("rect").attr("class","selection").attr("cursor",s.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var he=ge.selectAll(".handle").data(D.handles,function(oe){return oe.type});he.exit().remove(),he.enter().append("rect").attr("class",function(oe){return"handle handle--"+oe.type}).attr("cursor",function(oe){return s[oe.type]}),ge.each(F).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(U).on("touchstart.brush",d).on("touchmove.brush",$).on("touchend.brush touchcancel.brush",le).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(ge,Se){ge.selection?ge.on("start.brush",function(){S(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){S(this,arguments).end()}).tween("brush",function(){var he=this,oe=he.__brush,ye=S(he,arguments),Oe=oe.selection,Xe=D.input(typeof Se=="function"?Se.apply(this,arguments):Se,oe.extent),Be=o.interpolate(Oe,Xe);function it(mt){oe.selection=mt===1&&Xe===null?null:Be(mt),F.call(he),ye.brush()}return Oe!==null&&Xe!==null?it:it(1)}):ge.each(function(){var he=this,oe=arguments,ye=he.__brush,Oe=D.input(typeof Se=="function"?Se.apply(he,oe):Se,ye.extent),Xe=S(he,oe).beforestart();i.interrupt(he),ye.selection=Oe===null?null:Oe,F.call(he),Xe.start().brush().end()})},l.clear=function(ge){l.move(ge,null)};function F(){var ge=b.select(this),Se=y(this).selection;Se?(ge.selectAll(".selection").style("display",null).attr("x",Se[0][0]).attr("y",Se[0][1]).attr("width",Se[1][0]-Se[0][0]).attr("height",Se[1][1]-Se[0][1]),ge.selectAll(".handle").style("display",null).attr("x",function(he){return he.type[he.type.length-1]==="e"?Se[1][0]-Ce/2:Se[0][0]-Ce/2}).attr("y",function(he){return he.type[0]==="s"?Se[1][1]-Ce/2:Se[0][1]-Ce/2}).attr("width",function(he){return he.type==="n"||he.type==="s"?Se[1][0]-Se[0][0]+Ce:Ce}).attr("height",function(he){return he.type==="e"||he.type==="w"?Se[1][1]-Se[0][1]+Ce:Ce})):ge.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function S(ge,Se,he){var oe=ge.__brush.emitter;return oe&&(!he||!oe.clean)?oe:new T(ge,Se,he)}function T(ge,Se,he){this.that=ge,this.args=Se,this.state=ge.__brush,this.active=0,this.clean=he}T.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active==0&&(delete this.state.emitter,this.emit("end")),this},emit:function(ge){b.customEvent(new re(l,ge,D.output(this.state.selection)),pe.apply,pe,[ge,this.that,this.args])}};function d(){if(Pe&&!b.event.touches||!Q.apply(this,arguments))return;var ge=this,Se=b.event.target.__data__.type,he=(Y&&b.event.metaKey?Se="overlay":Se)==="selection"?n:Y&&b.event.altKey?_:c,oe=D===ve?null:a[Se],ye=D===j?null:v[Se],Oe=y(ge),Xe=Oe.extent,Be=Oe.selection,it=Xe[0][0],mt,Pt,Z=Xe[0][1],ce,Re,Fe=Xe[1][0],Me,E,me=Xe[1][1],G,Ae,Ue=0,je=0,vt,dt=oe&&ye&&Y&&b.event.shiftKey,Dt,Le,$e=b.event.touches?fe(b.event.changedTouches[0].identifier):b.mouse,tt=$e(ge),K=tt,be=S(ge,arguments,!0).beforestart();Se==="overlay"?(Be&&(vt=!0),Oe.selection=Be=[[mt=D===ve?it:tt[0],ce=D===j?Z:tt[1]],[Me=D===ve?Fe:mt,G=D===j?me:ce]]):(mt=Be[0][0],ce=Be[0][1],Me=Be[1][0],G=Be[1][1]),Pt=mt,Re=ce,E=Me,Ae=G;var N=b.select(ge).attr("pointer-events","none"),ie=N.selectAll(".overlay").attr("cursor",s[Se]);if(b.event.touches)be.moved=ne,be.ended=ee;else{var we=b.select(b.event.view).on("mousemove.brush",ne,!0).on("mouseup.brush",ee,!0);Y&&we.on("keydown.brush",J,!0).on("keyup.brush",ue,!0),f.dragDisable(b.event.view)}t(),i.interrupt(ge),F.call(ge),be.start();function ne(){var Ee=$e(ge);dt&&!Dt&&!Le&&(Math.abs(Ee[0]-K[0])>Math.abs(Ee[1]-K[1])?Le=!0:Dt=!0),K=Ee,vt=!0,k(),H()}function H(){var Ee;switch(Ue=K[0]-tt[0],je=K[1]-tt[1],he){case O:case n:{oe&&(Ue=Math.max(it-mt,Math.min(Fe-Me,Ue)),Pt=mt+Ue,E=Me+Ue),ye&&(je=Math.max(Z-ce,Math.min(me-G,je)),Re=ce+je,Ae=G+je);break}case c:{oe<0?(Ue=Math.max(it-mt,Math.min(Fe-mt,Ue)),Pt=mt+Ue,E=Me):oe>0&&(Ue=Math.max(it-Me,Math.min(Fe-Me,Ue)),Pt=mt,E=Me+Ue),ye<0?(je=Math.max(Z-ce,Math.min(me-ce,je)),Re=ce+je,Ae=G):ye>0&&(je=Math.max(Z-G,Math.min(me-G,je)),Re=ce,Ae=G+je);break}case _:{oe&&(Pt=Math.max(it,Math.min(Fe,mt-Ue*oe)),E=Math.max(it,Math.min(Fe,Me+Ue*oe))),ye&&(Re=Math.max(Z,Math.min(me,ce-je*ye)),Ae=Math.max(Z,Math.min(me,G+je*ye)));break}}E<Pt&&(oe*=-1,Ee=mt,mt=Me,Me=Ee,Ee=Pt,Pt=E,E=Ee,Se in A&&ie.attr("cursor",s[Se=A[Se]])),Ae<Re&&(ye*=-1,Ee=ce,ce=G,G=Ee,Ee=Re,Re=Ae,Ae=Ee,Se in C&&ie.attr("cursor",s[Se=C[Se]])),Oe.selection&&(Be=Oe.selection),Dt&&(Pt=Be[0][0],E=Be[1][0]),Le&&(Re=Be[0][1],Ae=Be[1][1]),(Be[0][0]!==Pt||Be[0][1]!==Re||Be[1][0]!==E||Be[1][1]!==Ae)&&(Oe.selection=[[Pt,Re],[E,Ae]],F.call(ge),be.brush())}function ee(){if(t(),b.event.touches){if(b.event.touches.length)return;Pe&&clearTimeout(Pe),Pe=setTimeout(function(){Pe=null},500)}else f.dragEnable(b.event.view,vt),we.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);N.attr("pointer-events","all"),ie.attr("cursor",s.overlay),Oe.selection&&(Be=Oe.selection),m(Be)&&(Oe.selection=null,F.call(ge)),be.end()}function J(){switch(b.event.keyCode){case 16:{dt=oe&&ye;break}case 18:{he===c&&(oe&&(Me=E-Ue*oe,mt=Pt+Ue*oe),ye&&(G=Ae-je*ye,ce=Re+je*ye),he=_,H());break}case 32:{(he===c||he===_)&&(oe<0?Me=E-Ue:oe>0&&(mt=Pt-Ue),ye<0?G=Ae-je:ye>0&&(ce=Re-je),he=O,ie.attr("cursor",s.selection),H());break}default:return}k()}function ue(){switch(b.event.keyCode){case 16:{dt&&(Dt=Le=dt=!1,H());break}case 18:{he===_&&(oe<0?Me=E:oe>0&&(mt=Pt),ye<0?G=Ae:ye>0&&(ce=Re),he=c,H());break}case 32:{he===O&&(b.event.altKey?(oe&&(Me=E-Ue*oe,mt=Pt+Ue*oe),ye&&(G=Ae-je*ye,ce=Re+je*ye),he=_):(oe<0?Me=E:oe>0&&(mt=Pt),ye<0?G=Ae:ye>0&&(ce=Re),he=c),ie.attr("cursor",s[Se]),H());break}default:return}k()}}function $(){S(this,arguments).moved()}function le(){S(this,arguments).ended()}function q(){var ge=this.__brush||{selection:null};return ge.extent=V(B.apply(this,arguments)),ge.dim=D,ge}return l.extent=function(ge){return arguments.length?(B=typeof ge=="function"?ge:te(V(ge)),l):B},l.filter=function(ge){return arguments.length?(Q=typeof ge=="function"?ge:te(!!ge),l):Q},l.touchable=function(ge){return arguments.length?(U=typeof ge=="function"?ge:te(!!ge),l):U},l.handleSize=function(ge){return arguments.length?(Ce=+ge,l):Ce},l.keyModifiers=function(ge){return arguments.length?(Y=!!ge,l):Y},l.on=function(){var ge=pe.on.apply(pe,arguments);return ge===pe?l:ge},l}e.brush=R,e.brushSelection=x,e.brushX=L,e.brushY=X,Object.defineProperty(e,"__esModule",{value:!0})})});var mi=At((vi,Nf)=>{(function(e,r){typeof vi=="object"&&typeof Nf!="undefined"?r(vi):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(vi,function(e){"use strict";var r=Math.PI,f=2*r,o=1e-6,b=f-o;function i(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function te(){return new i}i.prototype=te.prototype={constructor:i,moveTo:function(re,t){this._+="M"+(this._x0=this._x1=+re)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(re,t){this._+="L"+(this._x1=+re)+","+(this._y1=+t)},quadraticCurveTo:function(re,t,k,n){this._+="Q"+ +re+","+ +t+","+(this._x1=+k)+","+(this._y1=+n)},bezierCurveTo:function(re,t,k,n,O,c){this._+="C"+ +re+","+ +t+","+ +k+","+ +n+","+(this._x1=+O)+","+(this._y1=+c)},arcTo:function(re,t,k,n,O){re=+re,t=+t,k=+k,n=+n,O=+O;var c=this._x1,_=this._y1,W=k-re,V=n-t,fe=c-re,j=_-t,ve=fe*fe+j*j;if(O<0)throw new Error("negative radius: "+O);if(this._x1===null)this._+="M"+(this._x1=re)+","+(this._y1=t);else if(ve>o)if(!(Math.abs(j*W-V*fe)>o)||!O)this._+="L"+(this._x1=re)+","+(this._y1=t);else{var P=k-c,s=n-_,A=W*W+V*V,C=P*P+s*s,a=Math.sqrt(A),v=Math.sqrt(ve),g=O*Math.tan((r-Math.acos((A+ve-C)/(2*a*v)))/2),h=g/v,u=g/a;Math.abs(h-1)>o&&(this._+="L"+(re+h*fe)+","+(t+h*j)),this._+="A"+O+","+O+",0,0,"+ +(j*P>fe*s)+","+(this._x1=re+u*W)+","+(this._y1=t+u*V)}},arc:function(re,t,k,n,O,c){re=+re,t=+t,k=+k;var _=k*Math.cos(n),W=k*Math.sin(n),V=re+_,fe=t+W,j=1^c,ve=c?n-O:O-n;if(k<0)throw new Error("negative radius: "+k);this._x1===null?this._+="M"+V+","+fe:(Math.abs(this._x1-V)>o||Math.abs(this._y1-fe)>o)&&(this._+="L"+V+","+fe),!!k&&(ve<0&&(ve=ve%f+f),ve>b?this._+="A"+k+","+k+",0,1,"+j+","+(re-_)+","+(t-W)+"A"+k+","+k+",0,1,"+j+","+(this._x1=V)+","+(this._y1=fe):ve>o&&(this._+="A"+k+","+k+",0,"+ +(ve>=r)+","+j+","+(this._x1=re+k*Math.cos(O))+","+(this._y1=t+k*Math.sin(O))))},rect:function(re,t,k,n){this._+="M"+(this._x0=this._x1=+re)+","+(this._y0=this._y1=+t)+"h"+ +k+"v"+ +n+"h"+-k+"Z"},toString:function(){return this._}},e.path=te,Object.defineProperty(e,"__esModule",{value:!0})})});var Df=At((pi,Of)=>{(function(e,r){typeof pi=="object"&&typeof Of!="undefined"?r(pi,wr(),mi()):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-path"],r):r(e.d3=e.d3||{},e.d3,e.d3)})(pi,function(e,r,f){"use strict";var o=Math.cos,b=Math.sin,i=Math.PI,te=i/2,re=i*2,t=Math.max;function k(P){return function(s,A){return P(s.source.value+s.target.value,A.source.value+A.target.value)}}var n=function(){var P=0,s=null,A=null,C=null;function a(v){var g=v.length,h=[],u=r.range(g),p=[],y=[],m=y.groups=new Array(g),x=new Array(g*g),L,X,R,I,D,B;for(L=0,D=-1;++D<g;){for(X=0,B=-1;++B<g;)X+=v[D][B];h.push(X),p.push(r.range(g)),L+=X}for(s&&u.sort(function(F,S){return s(h[F],h[S])}),A&&p.forEach(function(F,S){F.sort(function(T,d){return A(v[S][T],v[S][d])})}),L=t(0,re-P*g)/L,I=L?P:re/g,X=0,D=-1;++D<g;){for(R=X,B=-1;++B<g;){var Q=u[D],U=p[Q][B],Y=v[Q][U],pe=X,Ce=X+=Y*L;x[U*g+Q]={index:Q,subindex:U,startAngle:pe,endAngle:Ce,value:Y}}m[Q]={index:Q,startAngle:R,endAngle:X,value:h[Q]},X+=I}for(D=-1;++D<g;)for(B=D-1;++B<g;){var Pe=x[B*g+D],l=x[D*g+B];(Pe.value||l.value)&&y.push(Pe.value<l.value?{source:l,target:Pe}:{source:Pe,target:l})}return C?y.sort(C):y}return a.padAngle=function(v){return arguments.length?(P=t(0,v),a):P},a.sortGroups=function(v){return arguments.length?(s=v,a):s},a.sortSubgroups=function(v){return arguments.length?(A=v,a):A},a.sortChords=function(v){return arguments.length?(v==null?C=null:(C=k(v))._=v,a):C&&C._},a},O=Array.prototype.slice,c=function(P){return function(){return P}};function _(P){return P.source}function W(P){return P.target}function V(P){return P.radius}function fe(P){return P.startAngle}function j(P){return P.endAngle}var ve=function(){var P=_,s=W,A=V,C=fe,a=j,v=null;function g(){var h,u=O.call(arguments),p=P.apply(this,u),y=s.apply(this,u),m=+A.apply(this,(u[0]=p,u)),x=C.apply(this,u)-te,L=a.apply(this,u)-te,X=m*o(x),R=m*b(x),I=+A.apply(this,(u[0]=y,u)),D=C.apply(this,u)-te,B=a.apply(this,u)-te;if(v||(v=h=f.path()),v.moveTo(X,R),v.arc(0,0,m,x,L),(x!==D||L!==B)&&(v.quadraticCurveTo(0,0,I*o(D),I*b(D)),v.arc(0,0,I,D,B)),v.quadraticCurveTo(0,0,X,R),v.closePath(),h)return v=null,h+""||null}return g.radius=function(h){return arguments.length?(A=typeof h=="function"?h:c(+h),g):A},g.startAngle=function(h){return arguments.length?(C=typeof h=="function"?h:c(+h),g):C},g.endAngle=function(h){return arguments.length?(a=typeof h=="function"?h:c(+h),g):a},g.source=function(h){return arguments.length?(P=h,g):P},g.target=function(h){return arguments.length?(s=h,g):s},g.context=function(h){return arguments.length?(v=h??null,g):v},g};e.chord=n,e.ribbon=ve,Object.defineProperty(e,"__esModule",{value:!0})})});var zr=At((yi,If)=>{(function(e,r){typeof yi=="object"&&typeof If!="undefined"?r(yi):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(yi,function(e){"use strict";var r="$";function f(){}f.prototype=o.prototype={constructor:f,has:function(V){return r+V in this},get:function(V){return this[r+V]},set:function(V,fe){return this[r+V]=fe,this},remove:function(V){var fe=r+V;return fe in this&&delete this[fe]},clear:function(){for(var V in this)V[0]===r&&delete this[V]},keys:function(){var V=[];for(var fe in this)fe[0]===r&&V.push(fe.slice(1));return V},values:function(){var V=[];for(var fe in this)fe[0]===r&&V.push(this[fe]);return V},entries:function(){var V=[];for(var fe in this)fe[0]===r&&V.push({key:fe.slice(1),value:this[fe]});return V},size:function(){var V=0;for(var fe in this)fe[0]===r&&++V;return V},empty:function(){for(var V in this)if(V[0]===r)return!1;return!0},each:function(V){for(var fe in this)fe[0]===r&&V(this[fe],fe.slice(1),this)}};function o(V,fe){var j=new f;if(V instanceof f)V.each(function(C,a){j.set(a,C)});else if(Array.isArray(V)){var ve=-1,P=V.length,s;if(fe==null)for(;++ve<P;)j.set(ve,V[ve]);else for(;++ve<P;)j.set(fe(s=V[ve],ve,V),s)}else if(V)for(var A in V)j.set(A,V[A]);return j}var b=function(){var V=[],fe=[],j,ve,P;function s(C,a,v,g){if(a>=V.length)return j!=null&&C.sort(j),ve!=null?ve(C):C;for(var h=-1,u=C.length,p=V[a++],y,m,x=o(),L,X=v();++h<u;)(L=x.get(y=p(m=C[h])+""))?L.push(m):x.set(y,[m]);return x.each(function(R,I){g(X,I,s(R,a,v,g))}),X}function A(C,a){if(++a>V.length)return C;var v,g=fe[a-1];return ve!=null&&a>=V.length?v=C.entries():(v=[],C.each(function(h,u){v.push({key:u,values:A(h,a)})})),g!=null?v.sort(function(h,u){return g(h.key,u.key)}):v}return P={object:function(C){return s(C,0,i,te)},map:function(C){return s(C,0,re,t)},entries:function(C){return A(s(C,0,re,t),0)},key:function(C){return V.push(C),P},sortKeys:function(C){return fe[V.length-1]=C,P},sortValues:function(C){return j=C,P},rollup:function(C){return ve=C,P}}};function i(){return{}}function te(V,fe,j){V[fe]=j}function re(){return o()}function t(V,fe,j){V.set(fe,j)}function k(){}var n=o.prototype;k.prototype=O.prototype={constructor:k,has:n.has,add:function(V){return V+="",this[r+V]=V,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each};function O(V,fe){var j=new k;if(V instanceof k)V.each(function(s){j.add(s)});else if(V){var ve=-1,P=V.length;if(fe==null)for(;++ve<P;)j.add(V[ve]);else for(;++ve<P;)j.add(fe(V[ve],ve,V))}return j}var c=function(V){var fe=[];for(var j in V)fe.push(j);return fe},_=function(V){var fe=[];for(var j in V)fe.push(V[j]);return fe},W=function(V){var fe=[];for(var j in V)fe.push({key:j,value:V[j]});return fe};e.nest=b,e.set=O,e.map=o,e.keys=c,e.values=_,e.entries=W,Object.defineProperty(e,"__esModule",{value:!0})})});var Ff=At((bi,zf)=>{(function(e,r){typeof bi=="object"&&typeof zf!="undefined"?r(bi,wr()):typeof define=="function"&&define.amd?define(["exports","d3-array"],r):r(e.d3=e.d3||{},e.d3)})(bi,function(e,r){"use strict";var f=Array.prototype,o=f.slice,b=function(A,C){return A-C},i=function(A){for(var C=0,a=A.length,v=A[a-1][1]*A[0][0]-A[a-1][0]*A[0][1];++C<a;)v+=A[C-1][1]*A[C][0]-A[C-1][0]*A[C][1];return v},te=function(A){return function(){return A}},re=function(A,C){for(var a=-1,v=C.length,g;++a<v;)if(g=t(A,C[a]))return g;return 0};function t(A,C){for(var a=C[0],v=C[1],g=-1,h=0,u=A.length,p=u-1;h<u;p=h++){var y=A[h],m=y[0],x=y[1],L=A[p],X=L[0],R=L[1];if(k(y,L,C))return 0;x>v!=R>v&&a<(X-m)*(v-x)/(R-x)+m&&(g=-g)}return g}function k(A,C,a){var v;return n(A,C,a)&&O(A[v=+(A[0]===C[0])],a[v],C[v])}function n(A,C,a){return(C[0]-A[0])*(a[1]-A[1])==(a[0]-A[0])*(C[1]-A[1])}function O(A,C,a){return A<=C&&C<=a||a<=C&&C<=A}var c=function(){},_=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],W=function(){var A=1,C=1,a=r.thresholdSturges,v=y;function g(m){var x=a(m);if(Array.isArray(x))x=x.slice().sort(b);else{var L=r.extent(m),X=L[0],R=L[1];x=r.tickStep(X,R,x),x=r.range(Math.floor(X/x)*x,Math.floor(R/x)*x,x)}return x.map(function(I){return h(m,I)})}function h(m,x){var L=[],X=[];return u(m,x,function(R){v(R,m,x),i(R)>0?L.push([R]):X.push(R)}),X.forEach(function(R){for(var I=0,D=L.length,B;I<D;++I)if(re((B=L[I])[0],R)!==-1){B.push(R);return}}),{type:"MultiPolygon",value:x,coordinates:L}}function u(m,x,L){var X=new Array,R=new Array,I,D,B,Q,U,Y;for(I=D=-1,Q=m[0]>=x,_[Q<<1].forEach(pe);++I<A-1;)B=Q,Q=m[I+1]>=x,_[B|Q<<1].forEach(pe);for(_[Q<<0].forEach(pe);++D<C-1;){for(I=-1,Q=m[D*A+A]>=x,U=m[D*A]>=x,_[Q<<1|U<<2].forEach(pe);++I<A-1;)B=Q,Q=m[D*A+A+I+1]>=x,Y=U,U=m[D*A+I+1]>=x,_[B|Q<<1|U<<2|Y<<3].forEach(pe);_[Q|U<<3].forEach(pe)}for(I=-1,U=m[D*A]>=x,_[U<<2].forEach(pe);++I<A-1;)Y=U,U=m[D*A+I+1]>=x,_[U<<2|Y<<3].forEach(pe);_[U<<3].forEach(pe);function pe(Ce){var Pe=[Ce[0][0]+I,Ce[0][1]+D],l=[Ce[1][0]+I,Ce[1][1]+D],F=p(Pe),S=p(l),T,d;(T=R[F])?(d=X[S])?(delete R[T.end],delete X[d.start],T===d?(T.ring.push(l),L(T.ring)):X[T.start]=R[d.end]={start:T.start,end:d.end,ring:T.ring.concat(d.ring)}):(delete R[T.end],T.ring.push(l),R[T.end=S]=T):(T=X[S])?(d=R[F])?(delete X[T.start],delete R[d.end],T===d?(T.ring.push(l),L(T.ring)):X[d.start]=R[T.end]={start:d.start,end:T.end,ring:d.ring.concat(T.ring)}):(delete X[T.start],T.ring.unshift(Pe),X[T.start=F]=T):X[F]=R[S]={start:F,end:S,ring:[Pe,l]}}}function p(m){return m[0]*2+m[1]*(A+1)*4}function y(m,x,L){m.forEach(function(X){var R=X[0],I=X[1],D=R|0,B=I|0,Q,U=x[B*A+D];R>0&&R<A&&D===R&&(Q=x[B*A+D-1],X[0]=R+(L-Q)/(U-Q)-.5),I>0&&I<C&&B===I&&(Q=x[(B-1)*A+D],X[1]=I+(L-Q)/(U-Q)-.5)})}return g.contour=h,g.size=function(m){if(!arguments.length)return[A,C];var x=Math.ceil(m[0]),L=Math.ceil(m[1]);if(!(x>0)||!(L>0))throw new Error("invalid size");return A=x,C=L,g},g.thresholds=function(m){return arguments.length?(a=typeof m=="function"?m:Array.isArray(m)?te(o.call(m)):te(m),g):a},g.smooth=function(m){return arguments.length?(v=m?y:c,g):v===y},g};function V(A,C,a){for(var v=A.width,g=A.height,h=(a<<1)+1,u=0;u<g;++u)for(var p=0,y=0;p<v+a;++p)p<v&&(y+=A.data[p+u*v]),p>=a&&(p>=h&&(y-=A.data[p-h+u*v]),C.data[p-a+u*v]=y/Math.min(p+1,v-1+h-p,h))}function fe(A,C,a){for(var v=A.width,g=A.height,h=(a<<1)+1,u=0;u<v;++u)for(var p=0,y=0;p<g+a;++p)p<g&&(y+=A.data[u+p*v]),p>=a&&(p>=h&&(y-=A.data[u+(p-h)*v]),C.data[u+(p-a)*v]=y/Math.min(p+1,g-1+h-p,h))}function j(A){return A[0]}function ve(A){return A[1]}function P(){return 1}var s=function(){var A=j,C=ve,a=P,v=960,g=500,h=20,u=2,p=h*3,y=v+p*2>>u,m=g+p*2>>u,x=te(20);function L(Q){var U=new Float32Array(y*m),Y=new Float32Array(y*m);Q.forEach(function(Pe,l,F){var S=+A(Pe,l,F)+p>>u,T=+C(Pe,l,F)+p>>u,d=+a(Pe,l,F);S>=0&&S<y&&T>=0&&T<m&&(U[S+T*y]+=d)}),V({width:y,height:m,data:U},{width:y,height:m,data:Y},h>>u),fe({width:y,height:m,data:Y},{width:y,height:m,data:U},h>>u),V({width:y,height:m,data:U},{width:y,height:m,data:Y},h>>u),fe({width:y,height:m,data:Y},{width:y,height:m,data:U},h>>u),V({width:y,height:m,data:U},{width:y,height:m,data:Y},h>>u),fe({width:y,height:m,data:Y},{width:y,height:m,data:U},h>>u);var pe=x(U);if(!Array.isArray(pe)){var Ce=r.max(U);pe=r.tickStep(0,Ce,pe),pe=r.range(0,Math.floor(Ce/pe)*pe,pe),pe.shift()}return W().thresholds(pe).size([y,m])(U).map(X)}function X(Q){return Q.value*=Math.pow(2,-2*u),Q.coordinates.forEach(R),Q}function R(Q){Q.forEach(I)}function I(Q){Q.forEach(D)}function D(Q){Q[0]=Q[0]*Math.pow(2,u)-p,Q[1]=Q[1]*Math.pow(2,u)-p}function B(){return p=h*3,y=v+p*2>>u,m=g+p*2>>u,L}return L.x=function(Q){return arguments.length?(A=typeof Q=="function"?Q:te(+Q),L):A},L.y=function(Q){return arguments.length?(C=typeof Q=="function"?Q:te(+Q),L):C},L.weight=function(Q){return arguments.length?(a=typeof Q=="function"?Q:te(+Q),L):a},L.size=function(Q){if(!arguments.length)return[v,g];var U=Math.ceil(Q[0]),Y=Math.ceil(Q[1]);if(!(U>=0)&&!(U>=0))throw new Error("invalid size");return v=U,g=Y,B()},L.cellSize=function(Q){if(!arguments.length)return 1<<u;if(!((Q=+Q)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(Q)/Math.LN2),B()},L.thresholds=function(Q){return arguments.length?(x=typeof Q=="function"?Q:Array.isArray(Q)?te(o.call(Q)):te(Q),L):x},L.bandwidth=function(Q){if(!arguments.length)return Math.sqrt(h*(h+1));if(!((Q=+Q)>=0))throw new Error("invalid bandwidth");return h=Math.round((Math.sqrt(4*Q*Q+1)-1)/2),B()},L};e.contours=W,e.contourDensity=s,Object.defineProperty(e,"__esModule",{value:!0})})});var Ga=At((wi,qf)=>{(function(e,r){typeof wi=="object"&&typeof qf!="undefined"?r(wi):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(wi,function(e){"use strict";var r={},f={},o=34,b=10,i=13;function te(s){return new Function("d","return {"+s.map(function(A,C){return JSON.stringify(A)+": d["+C+"]"}).join(",")+"}")}function re(s,A){var C=te(s);return function(a,v){return A(C(a),v,s)}}function t(s){var A=Object.create(null),C=[];return s.forEach(function(a){for(var v in a)v in A||C.push(A[v]=v)}),C}var k=function(s){var A=new RegExp('["'+s+`
\r]`),C=s.charCodeAt(0);function a(y,m){var x,L,X=v(y,function(R,I){if(x)return x(R,I-1);L=R,x=m?re(R,m):te(R)});return X.columns=L||[],X}function v(y,m){var x=[],L=y.length,X=0,R=0,I,D=L<=0,B=!1;y.charCodeAt(L-1)===b&&--L,y.charCodeAt(L-1)===i&&--L;function Q(){if(D)return f;if(B)return B=!1,r;var Y,pe=X,Ce;if(y.charCodeAt(pe)===o){for(;X++<L&&y.charCodeAt(X)!==o||y.charCodeAt(++X)===o;);return(Y=X)>=L?D=!0:(Ce=y.charCodeAt(X++))===b?B=!0:Ce===i&&(B=!0,y.charCodeAt(X)===b&&++X),y.slice(pe+1,Y-1).replace(/""/g,'"')}for(;X<L;){if((Ce=y.charCodeAt(Y=X++))===b)B=!0;else if(Ce===i)B=!0,y.charCodeAt(X)===b&&++X;else if(Ce!==C)continue;return y.slice(pe,Y)}return D=!0,y.slice(pe,L)}for(;(I=Q())!==f;){for(var U=[];I!==r&&I!==f;)U.push(I),I=Q();m&&(U=m(U,R++))==null||x.push(U)}return x}function g(y,m){return m==null&&(m=t(y)),[m.map(p).join(s)].concat(y.map(function(x){return m.map(function(L){return p(x[L])}).join(s)})).join(`
`)}function h(y){return y.map(u).join(`
`)}function u(y){return y.map(p).join(s)}function p(y){return y==null?"":A.test(y+="")?'"'+y.replace(/"/g,'""')+'"':y}return{parse:a,parseRows:v,format:g,formatRows:h}},n=k(","),O=n.parse,c=n.parseRows,_=n.format,W=n.formatRows,V=k("	"),fe=V.parse,j=V.parseRows,ve=V.format,P=V.formatRows;e.dsvFormat=k,e.csvParse=O,e.csvParseRows=c,e.csvFormat=_,e.csvFormatRows=W,e.tsvParse=fe,e.tsvParseRows=j,e.tsvFormat=ve,e.tsvFormatRows=P,Object.defineProperty(e,"__esModule",{value:!0})})});var Uf=At((_i,Bf)=>{(function(e,r){typeof _i=="object"&&typeof Bf!="undefined"?r(_i,Ga()):typeof define=="function"&&define.amd?define(["exports","d3-dsv"],r):r(e.d3=e.d3||{},e.d3)})(_i,function(e,r){"use strict";function f(P){if(!P.ok)throw new Error(P.status+" "+P.statusText);return P.blob()}function o(P,s){return fetch(P,s).then(f)}function b(P){if(!P.ok)throw new Error(P.status+" "+P.statusText);return P.arrayBuffer()}function i(P,s){return fetch(P,s).then(b)}function te(P){if(!P.ok)throw new Error(P.status+" "+P.statusText);return P.text()}function re(P,s){return fetch(P,s).then(te)}function t(P){return function(s,A,C){return arguments.length===2&&typeof A=="function"&&(C=A,A=void 0),re(s,A).then(function(a){return P(a,C)})}}function k(P,s,A,C){arguments.length===3&&typeof A=="function"&&(C=A,A=void 0);var a=r.dsvFormat(P);return re(s,A).then(function(v){return a.parse(v,C)})}var n=t(r.csvParse),O=t(r.tsvParse);function c(P,s){return new Promise(function(A,C){var a=new Image;for(var v in s)a[v]=s[v];a.onerror=C,a.onload=function(){A(a)},a.src=P})}function _(P){if(!P.ok)throw new Error(P.status+" "+P.statusText);return P.json()}function W(P,s){return fetch(P,s).then(_)}function V(P){return function(s,A){return re(s,A).then(function(C){return new DOMParser().parseFromString(C,P)})}}var fe=V("application/xml"),j=V("text/html"),ve=V("image/svg+xml");e.blob=o,e.buffer=i,e.dsv=k,e.csv=n,e.tsv=O,e.image=c,e.json=W,e.text=re,e.xml=fe,e.html=j,e.svg=ve,Object.defineProperty(e,"__esModule",{value:!0})})});var Va=At((xi,Hf)=>{(function(e,r){typeof xi=="object"&&typeof Hf!="undefined"?r(xi):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(xi,function(e){"use strict";var r=function(a){var v=+this._x.call(null,a),g=+this._y.call(null,a);return f(this.cover(v,g),v,g,a)};function f(a,v,g,h){if(isNaN(v)||isNaN(g))return a;var u,p=a._root,y={data:h},m=a._x0,x=a._y0,L=a._x1,X=a._y1,R,I,D,B,Q,U,Y,pe;if(!p)return a._root=y,a;for(;p.length;)if((Q=v>=(R=(m+L)/2))?m=R:L=R,(U=g>=(I=(x+X)/2))?x=I:X=I,u=p,!(p=p[Y=U<<1|Q]))return u[Y]=y,a;if(D=+a._x.call(null,p.data),B=+a._y.call(null,p.data),v===D&&g===B)return y.next=p,u?u[Y]=y:a._root=y,a;do u=u?u[Y]=new Array(4):a._root=new Array(4),(Q=v>=(R=(m+L)/2))?m=R:L=R,(U=g>=(I=(x+X)/2))?x=I:X=I;while((Y=U<<1|Q)==(pe=(B>=I)<<1|D>=R));return u[pe]=p,u[Y]=y,a}function o(a){var v,g,h=a.length,u,p,y=new Array(h),m=new Array(h),x=Infinity,L=Infinity,X=-Infinity,R=-Infinity;for(g=0;g<h;++g)isNaN(u=+this._x.call(null,v=a[g]))||isNaN(p=+this._y.call(null,v))||(y[g]=u,m[g]=p,u<x&&(x=u),u>X&&(X=u),p<L&&(L=p),p>R&&(R=p));for(X<x&&(x=this._x0,X=this._x1),R<L&&(L=this._y0,R=this._y1),this.cover(x,L).cover(X,R),g=0;g<h;++g)f(this,y[g],m[g],a[g]);return this}var b=function(a,v){if(isNaN(a=+a)||isNaN(v=+v))return this;var g=this._x0,h=this._y0,u=this._x1,p=this._y1;if(isNaN(g))u=(g=Math.floor(a))+1,p=(h=Math.floor(v))+1;else if(g>a||a>u||h>v||v>p){var y=u-g,m=this._root,x,L;switch(L=(v<(h+p)/2)<<1|a<(g+u)/2){case 0:{do x=new Array(4),x[L]=m,m=x;while(y*=2,u=g+y,p=h+y,a>u||v>p);break}case 1:{do x=new Array(4),x[L]=m,m=x;while(y*=2,g=u-y,p=h+y,g>a||v>p);break}case 2:{do x=new Array(4),x[L]=m,m=x;while(y*=2,u=g+y,h=p-y,a>u||h>v);break}case 3:{do x=new Array(4),x[L]=m,m=x;while(y*=2,g=u-y,h=p-y,g>a||h>v);break}}this._root&&this._root.length&&(this._root=m)}else return this;return this._x0=g,this._y0=h,this._x1=u,this._y1=p,this},i=function(){var a=[];return this.visit(function(v){if(!v.length)do a.push(v.data);while(v=v.next)}),a},te=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},re=function(a,v,g,h,u){this.node=a,this.x0=v,this.y0=g,this.x1=h,this.y1=u},t=function(a,v,g){var h,u=this._x0,p=this._y0,y,m,x,L,X=this._x1,R=this._y1,I=[],D=this._root,B,Q;for(D&&I.push(new re(D,u,p,X,R)),g==null?g=Infinity:(u=a-g,p=v-g,X=a+g,R=v+g,g*=g);B=I.pop();)if(!(!(D=B.node)||(y=B.x0)>X||(m=B.y0)>R||(x=B.x1)<u||(L=B.y1)<p))if(D.length){var U=(y+x)/2,Y=(m+L)/2;I.push(new re(D[3],U,Y,x,L),new re(D[2],y,Y,U,L),new re(D[1],U,m,x,Y),new re(D[0],y,m,U,Y)),(Q=(v>=Y)<<1|a>=U)&&(B=I[I.length-1],I[I.length-1]=I[I.length-1-Q],I[I.length-1-Q]=B)}else{var pe=a-+this._x.call(null,D.data),Ce=v-+this._y.call(null,D.data),Pe=pe*pe+Ce*Ce;if(Pe<g){var l=Math.sqrt(g=Pe);u=a-l,p=v-l,X=a+l,R=v+l,h=D.data}}return h},k=function(a){if(isNaN(X=+this._x.call(null,a))||isNaN(R=+this._y.call(null,a)))return this;var v,g=this._root,h,u,p,y=this._x0,m=this._y0,x=this._x1,L=this._y1,X,R,I,D,B,Q,U,Y;if(!g)return this;if(g.length)for(;;){if((B=X>=(I=(y+x)/2))?y=I:x=I,(Q=R>=(D=(m+L)/2))?m=D:L=D,v=g,!(g=g[U=Q<<1|B]))return this;if(!g.length)break;(v[U+1&3]||v[U+2&3]||v[U+3&3])&&(h=v,Y=U)}for(;g.data!==a;)if(u=g,!(g=g.next))return this;return(p=g.next)&&delete g.next,u?(p?u.next=p:delete u.next,this):v?(p?v[U]=p:delete v[U],(g=v[0]||v[1]||v[2]||v[3])&&g===(v[3]||v[2]||v[1]||v[0])&&!g.length&&(h?h[Y]=g:this._root=g),this):(this._root=p,this)};function n(a){for(var v=0,g=a.length;v<g;++v)this.remove(a[v]);return this}var O=function(){return this._root},c=function(){var a=0;return this.visit(function(v){if(!v.length)do++a;while(v=v.next)}),a},_=function(a){var v=[],g,h=this._root,u,p,y,m,x;for(h&&v.push(new re(h,this._x0,this._y0,this._x1,this._y1));g=v.pop();)if(!a(h=g.node,p=g.x0,y=g.y0,m=g.x1,x=g.y1)&&h.length){var L=(p+m)/2,X=(y+x)/2;(u=h[3])&&v.push(new re(u,L,X,m,x)),(u=h[2])&&v.push(new re(u,p,X,L,x)),(u=h[1])&&v.push(new re(u,L,y,m,X)),(u=h[0])&&v.push(new re(u,p,y,L,X))}return this},W=function(a){var v=[],g=[],h;for(this._root&&v.push(new re(this._root,this._x0,this._y0,this._x1,this._y1));h=v.pop();){var u=h.node;if(u.length){var p,y=h.x0,m=h.y0,x=h.x1,L=h.y1,X=(y+x)/2,R=(m+L)/2;(p=u[0])&&v.push(new re(p,y,m,X,R)),(p=u[1])&&v.push(new re(p,X,m,x,R)),(p=u[2])&&v.push(new re(p,y,R,X,L)),(p=u[3])&&v.push(new re(p,X,R,x,L))}g.push(h)}for(;h=g.pop();)a(h.node,h.x0,h.y0,h.x1,h.y1);return this};function V(a){return a[0]}var fe=function(a){return arguments.length?(this._x=a,this):this._x};function j(a){return a[1]}var ve=function(a){return arguments.length?(this._y=a,this):this._y};function P(a,v,g){var h=new s(v??V,g??j,NaN,NaN,NaN,NaN);return a==null?h:h.addAll(a)}function s(a,v,g,h,u,p){this._x=a,this._y=v,this._x0=g,this._y0=h,this._x1=u,this._y1=p,this._root=void 0}function A(a){for(var v={data:a.data},g=v;a=a.next;)g=g.next={data:a.data};return v}var C=P.prototype=s.prototype;C.copy=function(){var a=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),v=this._root,g,h;if(!v)return a;if(!v.length)return a._root=A(v),a;for(g=[{source:v,target:a._root=new Array(4)}];v=g.pop();)for(var u=0;u<4;++u)(h=v.source[u])&&(h.length?g.push({source:h,target:v.target[u]=new Array(4)}):v.target[u]=A(h));return a},C.add=r,C.addAll=o,C.cover=b,C.data=i,C.extent=te,C.find=t,C.remove=k,C.removeAll=n,C.root=O,C.size=c,C.visit=_,C.visitAfter=W,C.x=fe,C.y=ve,e.quadtree=P,Object.defineProperty(e,"__esModule",{value:!0})})});var Gf=At((Ai,Yf)=>{(function(e,r){typeof Ai=="object"&&typeof Yf!="undefined"?r(Ai,Va(),zr(),sr(),ci()):typeof define=="function"&&define.amd?define(["exports","d3-quadtree","d3-collection","d3-dispatch","d3-timer"],r):r(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3)})(Ai,function(e,r,f,o,b){"use strict";var i=function(a,v){var g;a==null&&(a=0),v==null&&(v=0);function h(){var u,p=g.length,y,m=0,x=0;for(u=0;u<p;++u)y=g[u],m+=y.x,x+=y.y;for(m=m/p-a,x=x/p-v,u=0;u<p;++u)y=g[u],y.x-=m,y.y-=x}return h.initialize=function(u){g=u},h.x=function(u){return arguments.length?(a=+u,h):a},h.y=function(u){return arguments.length?(v=+u,h):v},h},te=function(a){return function(){return a}},re=function(){return(Math.random()-.5)*1e-6};function t(a){return a.x+a.vx}function k(a){return a.y+a.vy}var n=function(a){var v,g,h=1,u=1;typeof a!="function"&&(a=te(a==null?1:+a));function p(){for(var x,L=v.length,X,R,I,D,B,Q,U=0;U<u;++U)for(X=r.quadtree(v,t,k).visitAfter(y),x=0;x<L;++x)R=v[x],B=g[R.index],Q=B*B,I=R.x+R.vx,D=R.y+R.vy,X.visit(Y);function Y(pe,Ce,Pe,l,F){var S=pe.data,T=pe.r,d=B+T;if(S){if(S.index>R.index){var $=I-S.x-S.vx,le=D-S.y-S.vy,q=$*$+le*le;q<d*d&&($===0&&($=re(),q+=$*$),le===0&&(le=re(),q+=le*le),q=(d-(q=Math.sqrt(q)))/q*h,R.vx+=($*=q)*(d=(T*=T)/(Q+T)),R.vy+=(le*=q)*d,S.vx-=$*(d=1-d),S.vy-=le*d)}return}return Ce>I+d||l<I-d||Pe>D+d||F<D-d}}function y(x){if(x.data)return x.r=g[x.data.index];for(var L=x.r=0;L<4;++L)x[L]&&x[L].r>x.r&&(x.r=x[L].r)}function m(){if(!!v){var x,L=v.length,X;for(g=new Array(L),x=0;x<L;++x)X=v[x],g[X.index]=+a(X,x,v)}}return p.initialize=function(x){v=x,m()},p.iterations=function(x){return arguments.length?(u=+x,p):u},p.strength=function(x){return arguments.length?(h=+x,p):h},p.radius=function(x){return arguments.length?(a=typeof x=="function"?x:te(+x),m(),p):a},p};function O(a){return a.index}function c(a,v){var g=a.get(v);if(!g)throw new Error("missing: "+v);return g}var _=function(a){var v=O,g=X,h,u=te(30),p,y,m,x,L=1;a==null&&(a=[]);function X(Q){return 1/Math.min(m[Q.source.index],m[Q.target.index])}function R(Q){for(var U=0,Y=a.length;U<L;++U)for(var pe=0,Ce,Pe,l,F,S,T,d;pe<Y;++pe)Ce=a[pe],Pe=Ce.source,l=Ce.target,F=l.x+l.vx-Pe.x-Pe.vx||re(),S=l.y+l.vy-Pe.y-Pe.vy||re(),T=Math.sqrt(F*F+S*S),T=(T-p[pe])/T*Q*h[pe],F*=T,S*=T,l.vx-=F*(d=x[pe]),l.vy-=S*d,Pe.vx+=F*(d=1-d),Pe.vy+=S*d}function I(){if(!!y){var Q,U=y.length,Y=a.length,pe=f.map(y,v),Ce;for(Q=0,m=new Array(U);Q<Y;++Q)Ce=a[Q],Ce.index=Q,typeof Ce.source!="object"&&(Ce.source=c(pe,Ce.source)),typeof Ce.target!="object"&&(Ce.target=c(pe,Ce.target)),m[Ce.source.index]=(m[Ce.source.index]||0)+1,m[Ce.target.index]=(m[Ce.target.index]||0)+1;for(Q=0,x=new Array(Y);Q<Y;++Q)Ce=a[Q],x[Q]=m[Ce.source.index]/(m[Ce.source.index]+m[Ce.target.index]);h=new Array(Y),D(),p=new Array(Y),B()}}function D(){if(!!y)for(var Q=0,U=a.length;Q<U;++Q)h[Q]=+g(a[Q],Q,a)}function B(){if(!!y)for(var Q=0,U=a.length;Q<U;++Q)p[Q]=+u(a[Q],Q,a)}return R.initialize=function(Q){y=Q,I()},R.links=function(Q){return arguments.length?(a=Q,I(),R):a},R.id=function(Q){return arguments.length?(v=Q,R):v},R.iterations=function(Q){return arguments.length?(L=+Q,R):L},R.strength=function(Q){return arguments.length?(g=typeof Q=="function"?Q:te(+Q),D(),R):g},R.distance=function(Q){return arguments.length?(u=typeof Q=="function"?Q:te(+Q),B(),R):u},R};function W(a){return a.x}function V(a){return a.y}var fe=10,j=Math.PI*(3-Math.sqrt(5)),ve=function(a){var v,g=1,h=.001,u=1-Math.pow(h,1/300),p=0,y=.6,m=f.map(),x=b.timer(X),L=o.dispatch("tick","end");a==null&&(a=[]);function X(){R(),L.call("tick",v),g<h&&(x.stop(),L.call("end",v))}function R(){var B,Q=a.length,U;for(g+=(p-g)*u,m.each(function(Y){Y(g)}),B=0;B<Q;++B)U=a[B],U.fx==null?U.x+=U.vx*=y:(U.x=U.fx,U.vx=0),U.fy==null?U.y+=U.vy*=y:(U.y=U.fy,U.vy=0)}function I(){for(var B=0,Q=a.length,U;B<Q;++B){if(U=a[B],U.index=B,isNaN(U.x)||isNaN(U.y)){var Y=fe*Math.sqrt(B),pe=B*j;U.x=Y*Math.cos(pe),U.y=Y*Math.sin(pe)}(isNaN(U.vx)||isNaN(U.vy))&&(U.vx=U.vy=0)}}function D(B){return B.initialize&&B.initialize(a),B}return I(),v={tick:R,restart:function(){return x.restart(X),v},stop:function(){return x.stop(),v},nodes:function(B){return arguments.length?(a=B,I(),m.each(D),v):a},alpha:function(B){return arguments.length?(g=+B,v):g},alphaMin:function(B){return arguments.length?(h=+B,v):h},alphaDecay:function(B){return arguments.length?(u=+B,v):+u},alphaTarget:function(B){return arguments.length?(p=+B,v):p},velocityDecay:function(B){return arguments.length?(y=1-B,v):1-y},force:function(B,Q){return arguments.length>1?(Q==null?m.remove(B):m.set(B,D(Q)),v):m.get(B)},find:function(B,Q,U){var Y=0,pe=a.length,Ce,Pe,l,F,S;for(U==null?U=Infinity:U*=U,Y=0;Y<pe;++Y)F=a[Y],Ce=B-F.x,Pe=Q-F.y,l=Ce*Ce+Pe*Pe,l<U&&(S=F,U=l);return S},on:function(B,Q){return arguments.length>1?(L.on(B,Q),v):L.on(B)}}},P=function(){var a,v,g,h=te(-30),u,p=1,y=Infinity,m=.81;function x(I){var D,B=a.length,Q=r.quadtree(a,W,V).visitAfter(X);for(g=I,D=0;D<B;++D)v=a[D],Q.visit(R)}function L(){if(!!a){var I,D=a.length,B;for(u=new Array(D),I=0;I<D;++I)B=a[I],u[B.index]=+h(B,I,a)}}function X(I){var D=0,B,Q,U=0,Y,pe,Ce;if(I.length){for(Y=pe=Ce=0;Ce<4;++Ce)(B=I[Ce])&&(Q=Math.abs(B.value))&&(D+=B.value,U+=Q,Y+=Q*B.x,pe+=Q*B.y);I.x=Y/U,I.y=pe/U}else{B=I,B.x=B.data.x,B.y=B.data.y;do D+=u[B.data.index];while(B=B.next)}I.value=D}function R(I,D,B,Q){if(!I.value)return!0;var U=I.x-v.x,Y=I.y-v.y,pe=Q-D,Ce=U*U+Y*Y;if(pe*pe/m<Ce)return Ce<y&&(U===0&&(U=re(),Ce+=U*U),Y===0&&(Y=re(),Ce+=Y*Y),Ce<p&&(Ce=Math.sqrt(p*Ce)),v.vx+=U*I.value*g/Ce,v.vy+=Y*I.value*g/Ce),!0;if(I.length||Ce>=y)return;(I.data!==v||I.next)&&(U===0&&(U=re(),Ce+=U*U),Y===0&&(Y=re(),Ce+=Y*Y),Ce<p&&(Ce=Math.sqrt(p*Ce)));do I.data!==v&&(pe=u[I.data.index]*g/Ce,v.vx+=U*pe,v.vy+=Y*pe);while(I=I.next)}return x.initialize=function(I){a=I,L()},x.strength=function(I){return arguments.length?(h=typeof I=="function"?I:te(+I),L(),x):h},x.distanceMin=function(I){return arguments.length?(p=I*I,x):Math.sqrt(p)},x.distanceMax=function(I){return arguments.length?(y=I*I,x):Math.sqrt(y)},x.theta=function(I){return arguments.length?(m=I*I,x):Math.sqrt(m)},x},s=function(a,v,g){var h,u=te(.1),p,y;typeof a!="function"&&(a=te(+a)),v==null&&(v=0),g==null&&(g=0);function m(L){for(var X=0,R=h.length;X<R;++X){var I=h[X],D=I.x-v||1e-6,B=I.y-g||1e-6,Q=Math.sqrt(D*D+B*B),U=(y[X]-Q)*p[X]*L/Q;I.vx+=D*U,I.vy+=B*U}}function x(){if(!!h){var L,X=h.length;for(p=new Array(X),y=new Array(X),L=0;L<X;++L)y[L]=+a(h[L],L,h),p[L]=isNaN(y[L])?0:+u(h[L],L,h)}}return m.initialize=function(L){h=L,x()},m.strength=function(L){return arguments.length?(u=typeof L=="function"?L:te(+L),x(),m):u},m.radius=function(L){return arguments.length?(a=typeof L=="function"?L:te(+L),x(),m):a},m.x=function(L){return arguments.length?(v=+L,m):v},m.y=function(L){return arguments.length?(g=+L,m):g},m},A=function(a){var v=te(.1),g,h,u;typeof a!="function"&&(a=te(a==null?0:+a));function p(m){for(var x=0,L=g.length,X;x<L;++x)X=g[x],X.vx+=(u[x]-X.x)*h[x]*m}function y(){if(!!g){var m,x=g.length;for(h=new Array(x),u=new Array(x),m=0;m<x;++m)h[m]=isNaN(u[m]=+a(g[m],m,g))?0:+v(g[m],m,g)}}return p.initialize=function(m){g=m,y()},p.strength=function(m){return arguments.length?(v=typeof m=="function"?m:te(+m),y(),p):v},p.x=function(m){return arguments.length?(a=typeof m=="function"?m:te(+m),y(),p):a},p},C=function(a){var v=te(.1),g,h,u;typeof a!="function"&&(a=te(a==null?0:+a));function p(m){for(var x=0,L=g.length,X;x<L;++x)X=g[x],X.vy+=(u[x]-X.y)*h[x]*m}function y(){if(!!g){var m,x=g.length;for(h=new Array(x),u=new Array(x),m=0;m<x;++m)h[m]=isNaN(u[m]=+a(g[m],m,g))?0:+v(g[m],m,g)}}return p.initialize=function(m){g=m,y()},p.strength=function(m){return arguments.length?(v=typeof m=="function"?m:te(+m),y(),p):v},p.y=function(m){return arguments.length?(a=typeof m=="function"?m:te(+m),y(),p):a},p};e.forceCenter=i,e.forceCollide=n,e.forceLink=_,e.forceManyBody=P,e.forceRadial=s,e.forceSimulation=ve,e.forceX=A,e.forceY=C,Object.defineProperty(e,"__esModule",{value:!0})})});var $a=At((Mi,Vf)=>{(function(e,r){typeof Mi=="object"&&typeof Vf!="undefined"?r(Mi):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(Mi,function(e){"use strict";var r=function(A,C){if((a=(A=C?A.toExponential(C-1):A.toExponential()).indexOf("e"))<0)return null;var a,v=A.slice(0,a);return[v.length>1?v[0]+v.slice(2):v,+A.slice(a+1)]},f=function(A){return A=r(Math.abs(A)),A?A[1]:NaN},o=function(A,C){return function(a,v){for(var g=a.length,h=[],u=0,p=A[0],y=0;g>0&&p>0&&(y+p+1>v&&(p=Math.max(1,v-y)),h.push(a.substring(g-=p,g+p)),!((y+=p+1)>v));)p=A[u=(u+1)%A.length];return h.reverse().join(C)}},b=function(A){return function(C){return C.replace(/[0-9]/g,function(a){return A[+a]})}},i=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function te(A){return new re(A)}te.prototype=re.prototype;function re(A){if(!(C=i.exec(A)))throw new Error("invalid format: "+A);var C;this.fill=C[1]||" ",this.align=C[2]||">",this.sign=C[3]||"-",this.symbol=C[4]||"",this.zero=!!C[5],this.width=C[6]&&+C[6],this.comma=!!C[7],this.precision=C[8]&&+C[8].slice(1),this.trim=!!C[9],this.type=C[10]||""}re.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var t=function(A){e:for(var C=A.length,a=1,v=-1,g;a<C;++a)switch(A[a]){case".":v=g=a;break;case"0":v===0&&(v=a),g=a;break;default:if(v>0){if(!+A[a])break e;v=0}break}return v>0?A.slice(0,v)+A.slice(g+1):A},k,n=function(A,C){var a=r(A,C);if(!a)return A+"";var v=a[0],g=a[1],h=g-(k=Math.max(-8,Math.min(8,Math.floor(g/3)))*3)+1,u=v.length;return h===u?v:h>u?v+new Array(h-u+1).join("0"):h>0?v.slice(0,h)+"."+v.slice(h):"0."+new Array(1-h).join("0")+r(A,Math.max(0,C+h-1))[0]},O=function(A,C){var a=r(A,C);if(!a)return A+"";var v=a[0],g=a[1];return g<0?"0."+new Array(-g).join("0")+v:v.length>g+1?v.slice(0,g+1)+"."+v.slice(g+1):v+new Array(g-v.length+2).join("0")},c={"%":function(A,C){return(A*100).toFixed(C)},b:function(A){return Math.round(A).toString(2)},c:function(A){return A+""},d:function(A){return Math.round(A).toString(10)},e:function(A,C){return A.toExponential(C)},f:function(A,C){return A.toFixed(C)},g:function(A,C){return A.toPrecision(C)},o:function(A){return Math.round(A).toString(8)},p:function(A,C){return O(A*100,C)},r:O,s:n,X:function(A){return Math.round(A).toString(16).toUpperCase()},x:function(A){return Math.round(A).toString(16)}},_=function(A){return A},W=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],V=function(A){var C=A.grouping&&A.thousands?o(A.grouping,A.thousands):_,a=A.currency,v=A.decimal,g=A.numerals?b(A.numerals):_,h=A.percent||"%";function u(y){y=te(y);var m=y.fill,x=y.align,L=y.sign,X=y.symbol,R=y.zero,I=y.width,D=y.comma,B=y.precision,Q=y.trim,U=y.type;U==="n"?(D=!0,U="g"):c[U]||(B==null&&(B=12),Q=!0,U="g"),(R||m==="0"&&x==="=")&&(R=!0,m="0",x="=");var Y=X==="$"?a[0]:X==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",pe=X==="$"?a[1]:/[%p]/.test(U)?h:"",Ce=c[U],Pe=/[defgprs%]/.test(U);B=B==null?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function l(F){var S=Y,T=pe,d,$,le;if(U==="c")T=Ce(F)+T,F="";else{F=+F;var q=F<0;if(F=Ce(Math.abs(F),B),Q&&(F=t(F)),q&&+F==0&&(q=!1),S=(q?L==="("?L:"-":L==="-"||L==="("?"":L)+S,T=(U==="s"?W[8+k/3]:"")+T+(q&&L==="("?")":""),Pe){for(d=-1,$=F.length;++d<$;)if(le=F.charCodeAt(d),48>le||le>57){T=(le===46?v+F.slice(d+1):F.slice(d))+T,F=F.slice(0,d);break}}}D&&!R&&(F=C(F,Infinity));var ge=S.length+F.length+T.length,Se=ge<I?new Array(I-ge+1).join(m):"";switch(D&&R&&(F=C(Se+F,Se.length?I-T.length:Infinity),Se=""),x){case"<":F=S+F+T+Se;break;case"=":F=S+Se+F+T;break;case"^":F=Se.slice(0,ge=Se.length>>1)+S+F+T+Se.slice(ge);break;default:F=Se+S+F+T;break}return g(F)}return l.toString=function(){return y+""},l}function p(y,m){var x=u((y=te(y),y.type="f",y)),L=Math.max(-8,Math.min(8,Math.floor(f(m)/3)))*3,X=Math.pow(10,-L),R=W[8+L/3];return function(I){return x(X*I)+R}}return{format:u,formatPrefix:p}},fe;j({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function j(A){return fe=V(A),e.format=fe.format,e.formatPrefix=fe.formatPrefix,fe}var ve=function(A){return Math.max(0,-f(Math.abs(A)))},P=function(A,C){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(f(C)/3)))*3-f(Math.abs(A)))},s=function(A,C){return A=Math.abs(A),C=Math.abs(C)-A,Math.max(0,f(C)-f(A))+1};e.formatDefaultLocale=j,e.formatLocale=V,e.formatSpecifier=te,e.precisionFixed=ve,e.precisionPrefix=P,e.precisionRound=s,Object.defineProperty(e,"__esModule",{value:!0})})});var Xf=At((Ei,$f)=>{(function(e,r){typeof Ei=="object"&&typeof $f!="undefined"?r(Ei,wr()):typeof define=="function"&&define.amd?define(["exports","d3-array"],r):r(e.d3=e.d3||{},e.d3)})(Ei,function(e,r){"use strict";function f(){return new o}function o(){this.reset()}o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(w){i(b,w,this.t),i(this,b.s,this.s),this.s?this.t+=b.t:this.s=b.t},valueOf:function(){return this.s}};var b=new o;function i(w,z,se){var ae=w.s=z+se,ke=ae-z,ze=ae-ke;w.t=z-ze+(se-ke)}var te=1e-6,re=1e-12,t=Math.PI,k=t/2,n=t/4,O=t*2,c=180/t,_=t/180,W=Math.abs,V=Math.atan,fe=Math.atan2,j=Math.cos,ve=Math.ceil,P=Math.exp,s=Math.log,A=Math.pow,C=Math.sin,a=Math.sign||function(w){return w>0?1:w<0?-1:0},v=Math.sqrt,g=Math.tan;function h(w){return w>1?0:w<-1?t:Math.acos(w)}function u(w){return w>1?k:w<-1?-k:Math.asin(w)}function p(w){return(w=C(w/2))*w}function y(){}function m(w,z){w&&L.hasOwnProperty(w.type)&&L[w.type](w,z)}var x={Feature:function(w,z){m(w.geometry,z)},FeatureCollection:function(w,z){for(var se=w.features,ae=-1,ke=se.length;++ae<ke;)m(se[ae].geometry,z)}},L={Sphere:function(w,z){z.sphere()},Point:function(w,z){w=w.coordinates,z.point(w[0],w[1],w[2])},MultiPoint:function(w,z){for(var se=w.coordinates,ae=-1,ke=se.length;++ae<ke;)w=se[ae],z.point(w[0],w[1],w[2])},LineString:function(w,z){X(w.coordinates,z,0)},MultiLineString:function(w,z){for(var se=w.coordinates,ae=-1,ke=se.length;++ae<ke;)X(se[ae],z,0)},Polygon:function(w,z){R(w.coordinates,z)},MultiPolygon:function(w,z){for(var se=w.coordinates,ae=-1,ke=se.length;++ae<ke;)R(se[ae],z)},GeometryCollection:function(w,z){for(var se=w.geometries,ae=-1,ke=se.length;++ae<ke;)m(se[ae],z)}};function X(w,z,se){var ae=-1,ke=w.length-se,ze;for(z.lineStart();++ae<ke;)ze=w[ae],z.point(ze[0],ze[1],ze[2]);z.lineEnd()}function R(w,z){var se=-1,ae=w.length;for(z.polygonStart();++se<ae;)X(w[se],z,1);z.polygonEnd()}function I(w,z){w&&x.hasOwnProperty(w.type)?x[w.type](w,z):m(w,z)}var D=f(),B=f(),Q,U,Y,pe,Ce,Pe={point:y,lineStart:y,lineEnd:y,polygonStart:function(){D.reset(),Pe.lineStart=l,Pe.lineEnd=F},polygonEnd:function(){var w=+D;B.add(w<0?O+w:w),this.lineStart=this.lineEnd=this.point=y},sphere:function(){B.add(O)}};function l(){Pe.point=S}function F(){T(Q,U)}function S(w,z){Pe.point=T,Q=w,U=z,w*=_,z*=_,Y=w,pe=j(z=z/2+n),Ce=C(z)}function T(w,z){w*=_,z*=_,z=z/2+n;var se=w-Y,ae=se>=0?1:-1,ke=ae*se,ze=j(z),Ge=C(z),Ze=Ce*Ge,et=pe*ze+Ze*j(ke),st=Ze*ae*C(ke);D.add(fe(st,et)),Y=w,pe=ze,Ce=Ge}function d(w){return B.reset(),I(w,Pe),B*2}function $(w){return[fe(w[1],w[0]),u(w[2])]}function le(w){var z=w[0],se=w[1],ae=j(se);return[ae*j(z),ae*C(z),C(se)]}function q(w,z){return w[0]*z[0]+w[1]*z[1]+w[2]*z[2]}function ge(w,z){return[w[1]*z[2]-w[2]*z[1],w[2]*z[0]-w[0]*z[2],w[0]*z[1]-w[1]*z[0]]}function Se(w,z){w[0]+=z[0],w[1]+=z[1],w[2]+=z[2]}function he(w,z){return[w[0]*z,w[1]*z,w[2]*z]}function oe(w){var z=v(w[0]*w[0]+w[1]*w[1]+w[2]*w[2]);w[0]/=z,w[1]/=z,w[2]/=z}var ye,Oe,Xe,Be,it,mt,Pt,Z,ce=f(),Re,Fe,Me={point:E,lineStart:G,lineEnd:Ae,polygonStart:function(){Me.point=Ue,Me.lineStart=je,Me.lineEnd=vt,ce.reset(),Pe.polygonStart()},polygonEnd:function(){Pe.polygonEnd(),Me.point=E,Me.lineStart=G,Me.lineEnd=Ae,D<0?(ye=-(Xe=180),Oe=-(Be=90)):ce>te?Be=90:ce<-te&&(Oe=-90),Fe[0]=ye,Fe[1]=Xe}};function E(w,z){Re.push(Fe=[ye=w,Xe=w]),z<Oe&&(Oe=z),z>Be&&(Be=z)}function me(w,z){var se=le([w*_,z*_]);if(Z){var ae=ge(Z,se),ke=[ae[1],-ae[0],0],ze=ge(ke,ae);oe(ze),ze=$(ze);var Ge=w-it,Ze=Ge>0?1:-1,et=ze[0]*c*Ze,st,Ve=W(Ge)>180;Ve^(Ze*it<et&&et<Ze*w)?(st=ze[1]*c,st>Be&&(Be=st)):(et=(et+360)%360-180,Ve^(Ze*it<et&&et<Ze*w)?(st=-ze[1]*c,st<Oe&&(Oe=st)):(z<Oe&&(Oe=z),z>Be&&(Be=z))),Ve?w<it?dt(ye,w)>dt(ye,Xe)&&(Xe=w):dt(w,Xe)>dt(ye,Xe)&&(ye=w):Xe>=ye?(w<ye&&(ye=w),w>Xe&&(Xe=w)):w>it?dt(ye,w)>dt(ye,Xe)&&(Xe=w):dt(w,Xe)>dt(ye,Xe)&&(ye=w)}else Re.push(Fe=[ye=w,Xe=w]);z<Oe&&(Oe=z),z>Be&&(Be=z),Z=se,it=w}function G(){Me.point=me}function Ae(){Fe[0]=ye,Fe[1]=Xe,Me.point=E,Z=null}function Ue(w,z){if(Z){var se=w-it;ce.add(W(se)>180?se+(se>0?360:-360):se)}else mt=w,Pt=z;Pe.point(w,z),me(w,z)}function je(){Pe.lineStart()}function vt(){Ue(mt,Pt),Pe.lineEnd(),W(ce)>te&&(ye=-(Xe=180)),Fe[0]=ye,Fe[1]=Xe,Z=null}function dt(w,z){return(z-=w)<0?z+360:z}function Dt(w,z){return w[0]-z[0]}function Le(w,z){return w[0]<=w[1]?w[0]<=z&&z<=w[1]:z<w[0]||w[1]<z}function $e(w){var z,se,ae,ke,ze,Ge,Ze;if(Be=Xe=-(ye=Oe=Infinity),Re=[],I(w,Me),se=Re.length){for(Re.sort(Dt),z=1,ae=Re[0],ze=[ae];z<se;++z)ke=Re[z],Le(ae,ke[0])||Le(ae,ke[1])?(dt(ae[0],ke[1])>dt(ae[0],ae[1])&&(ae[1]=ke[1]),dt(ke[0],ae[1])>dt(ae[0],ae[1])&&(ae[0]=ke[0])):ze.push(ae=ke);for(Ge=-Infinity,se=ze.length-1,z=0,ae=ze[se];z<=se;ae=ke,++z)ke=ze[z],(Ze=dt(ae[1],ke[0]))>Ge&&(Ge=Ze,ye=ke[0],Xe=ae[1])}return Re=Fe=null,ye===Infinity||Oe===Infinity?[[NaN,NaN],[NaN,NaN]]:[[ye,Oe],[Xe,Be]]}var tt,K,be,N,ie,we,ne,H,ee,J,ue,Ee,Ne,xe,qe,Ye,Je={sphere:y,point:ht,lineStart:ot,lineEnd:Ct,polygonStart:function(){Je.lineStart=Rt,Je.lineEnd=$t},polygonEnd:function(){Je.lineStart=ot,Je.lineEnd=Ct}};function ht(w,z){w*=_,z*=_;var se=j(z);We(se*j(w),se*C(w),C(z))}function We(w,z,se){++tt,be+=(w-be)/tt,N+=(z-N)/tt,ie+=(se-ie)/tt}function ot(){Je.point=wt}function wt(w,z){w*=_,z*=_;var se=j(z);xe=se*j(w),qe=se*C(w),Ye=C(z),Je.point=Ft,We(xe,qe,Ye)}function Ft(w,z){w*=_,z*=_;var se=j(z),ae=se*j(w),ke=se*C(w),ze=C(z),Ge=fe(v((Ge=qe*ze-Ye*ke)*Ge+(Ge=Ye*ae-xe*ze)*Ge+(Ge=xe*ke-qe*ae)*Ge),xe*ae+qe*ke+Ye*ze);K+=Ge,we+=Ge*(xe+(xe=ae)),ne+=Ge*(qe+(qe=ke)),H+=Ge*(Ye+(Ye=ze)),We(xe,qe,Ye)}function Ct(){Je.point=ht}function Rt(){Je.point=Gt}function $t(){St(Ee,Ne),Je.point=ht}function Gt(w,z){Ee=w,Ne=z,w*=_,z*=_,Je.point=St;var se=j(z);xe=se*j(w),qe=se*C(w),Ye=C(z),We(xe,qe,Ye)}function St(w,z){w*=_,z*=_;var se=j(z),ae=se*j(w),ke=se*C(w),ze=C(z),Ge=qe*ze-Ye*ke,Ze=Ye*ae-xe*ze,et=xe*ke-qe*ae,st=v(Ge*Ge+Ze*Ze+et*et),Ve=u(st),nt=st&&-Ve/st;ee+=nt*Ge,J+=nt*Ze,ue+=nt*et,K+=Ve,we+=Ve*(xe+(xe=ae)),ne+=Ve*(qe+(qe=ke)),H+=Ve*(Ye+(Ye=ze)),We(xe,qe,Ye)}function Wt(w){tt=K=be=N=ie=we=ne=H=ee=J=ue=0,I(w,Je);var z=ee,se=J,ae=ue,ke=z*z+se*se+ae*ae;return ke<re&&(z=we,se=ne,ae=H,K<te&&(z=be,se=N,ae=ie),ke=z*z+se*se+ae*ae,ke<re)?[NaN,NaN]:[fe(se,z)*c,u(ae/v(ke))*c]}function Yt(w){return function(){return w}}function nn(w,z){function se(ae,ke){return ae=w(ae,ke),z(ae[0],ae[1])}return w.invert&&z.invert&&(se.invert=function(ae,ke){return ae=z.invert(ae,ke),ae&&w.invert(ae[0],ae[1])}),se}function an(w,z){return[w>t?w-O:w<-t?w+O:w,z]}an.invert=an;function ln(w,z,se){return(w%=O)?z||se?nn(De(w),ut(z,se)):De(w):z||se?ut(z,se):an}function _e(w){return function(z,se){return z+=w,[z>t?z-O:z<-t?z+O:z,se]}}function De(w){var z=_e(w);return z.invert=_e(-w),z}function ut(w,z){var se=j(w),ae=C(w),ke=j(z),ze=C(z);function Ge(Ze,et){var st=j(et),Ve=j(Ze)*st,nt=C(Ze)*st,Qe=C(et),at=Qe*se+Ve*ae;return[fe(nt*ke-at*ze,Ve*se-Qe*ae),u(at*ke+nt*ze)]}return Ge.invert=function(Ze,et){var st=j(et),Ve=j(Ze)*st,nt=C(Ze)*st,Qe=C(et),at=Qe*ke-nt*ze;return[fe(nt*ke+Qe*ze,Ve*se+at*ae),u(at*se-Ve*ae)]},Ge}function bt(w){w=ln(w[0]*_,w[1]*_,w.length>2?w[2]*_:0);function z(se){return se=w(se[0]*_,se[1]*_),se[0]*=c,se[1]*=c,se}return z.invert=function(se){return se=w.invert(se[0]*_,se[1]*_),se[0]*=c,se[1]*=c,se},z}function pt(w,z,se,ae,ke,ze){if(!!se){var Ge=j(z),Ze=C(z),et=ae*se;ke==null?(ke=z+ae*O,ze=z-et/2):(ke=Lt(Ge,ke),ze=Lt(Ge,ze),(ae>0?ke<ze:ke>ze)&&(ke+=ae*O));for(var st,Ve=ke;ae>0?Ve>ze:Ve<ze;Ve-=et)st=$([Ge,-Ze*j(Ve),-Ze*C(Ve)]),w.point(st[0],st[1])}}function Lt(w,z){z=le(z),z[0]-=w,oe(z);var se=h(-z[1]);return((-z[2]<0?-se:se)+O-te)%O}function qt(){var w=Yt([0,0]),z=Yt(90),se=Yt(6),ae,ke,ze={point:Ge};function Ge(et,st){ae.push(et=ke(et,st)),et[0]*=c,et[1]*=c}function Ze(){var et=w.apply(this,arguments),st=z.apply(this,arguments)*_,Ve=se.apply(this,arguments)*_;return ae=[],ke=ln(-et[0]*_,-et[1]*_,0).invert,pt(ze,st,Ve,1),et={type:"Polygon",coordinates:[ae]},ae=ke=null,et}return Ze.center=function(et){return arguments.length?(w=typeof et=="function"?et:Yt([+et[0],+et[1]]),Ze):w},Ze.radius=function(et){return arguments.length?(z=typeof et=="function"?et:Yt(+et),Ze):z},Ze.precision=function(et){return arguments.length?(se=typeof et=="function"?et:Yt(+et),Ze):se},Ze}function Tt(){var w=[],z;return{point:function(se,ae){z.push([se,ae])},lineStart:function(){w.push(z=[])},lineEnd:y,rejoin:function(){w.length>1&&w.push(w.pop().concat(w.shift()))},result:function(){var se=w;return w=[],z=null,se}}}function zt(w,z){return W(w[0]-z[0])<te&&W(w[1]-z[1])<te}function gt(w,z,se,ae){this.x=w,this.z=z,this.o=se,this.e=ae,this.v=!1,this.n=this.p=null}function kt(w,z,se,ae,ke){var ze=[],Ge=[],Ze,et;if(w.forEach(function(lt){if(!((xt=lt.length-1)<=0)){var xt,Ot=lt[0],Bt=lt[xt],Ut;if(zt(Ot,Bt)){for(ke.lineStart(),Ze=0;Ze<xt;++Ze)ke.point((Ot=lt[Ze])[0],Ot[1]);ke.lineEnd();return}ze.push(Ut=new gt(Ot,lt,null,!0)),Ge.push(Ut.o=new gt(Ot,null,Ut,!1)),ze.push(Ut=new gt(Bt,lt,null,!1)),Ge.push(Ut.o=new gt(Bt,null,Ut,!0))}}),!!ze.length){for(Ge.sort(z),Vt(ze),Vt(Ge),Ze=0,et=Ge.length;Ze<et;++Ze)Ge[Ze].e=se=!se;for(var st=ze[0],Ve,nt;;){for(var Qe=st,at=!0;Qe.v;)if((Qe=Qe.n)===st)return;Ve=Qe.z,ke.lineStart();do{if(Qe.v=Qe.o.v=!0,Qe.e){if(at)for(Ze=0,et=Ve.length;Ze<et;++Ze)ke.point((nt=Ve[Ze])[0],nt[1]);else ae(Qe.x,Qe.n.x,1,ke);Qe=Qe.n}else{if(at)for(Ve=Qe.p.z,Ze=Ve.length-1;Ze>=0;--Ze)ke.point((nt=Ve[Ze])[0],nt[1]);else ae(Qe.x,Qe.p.x,-1,ke);Qe=Qe.p}Qe=Qe.o,Ve=Qe.z,at=!at}while(!Qe.v);ke.lineEnd()}}}function Vt(w){if(!!(z=w.length)){for(var z,se=0,ae=w[0],ke;++se<z;)ae.n=ke=w[se],ke.p=ae,ae=ke;ae.n=ke=w[0],ke.p=ae}}var yt=f();function en(w,z){var se=z[0],ae=z[1],ke=C(ae),ze=[C(se),-j(se),0],Ge=0,Ze=0;yt.reset(),ke===1?ae=k+te:ke===-1&&(ae=-k-te);for(var et=0,st=w.length;et<st;++et)if(!!(nt=(Ve=w[et]).length))for(var Ve,nt,Qe=Ve[nt-1],at=Qe[0],lt=Qe[1]/2+n,xt=C(lt),Ot=j(lt),Bt=0;Bt<nt;++Bt,at=Et,xt=Zt,Ot=Jt,Qe=Ut){var Ut=Ve[Bt],Et=Ut[0],Ht=Ut[1]/2+n,Zt=C(Ht),Jt=j(Ht),fn=Et-at,hn=fn>=0?1:-1,Xt=hn*fn,mn=Xt>t,pn=xt*Zt;if(yt.add(fe(pn*hn*C(Xt),Ot*Jt+pn*j(Xt))),Ge+=mn?fn+hn*O:fn,mn^at>=se^Et>=se){var wn=ge(le(Qe),le(Ut));oe(wn);var It=ge(ze,wn);oe(It);var cn=(mn^fn>=0?-1:1)*u(It[2]);(ae>cn||ae===cn&&(wn[0]||wn[1]))&&(Ze+=mn^fn>=0?1:-1)}}return(Ge<-te||Ge<te&&yt<-te)^Ze&1}function M(w,z,se,ae){return function(ke){var ze=z(ke),Ge=Tt(),Ze=z(Ge),et=!1,st,Ve,nt,Qe={point:at,lineStart:xt,lineEnd:Ot,polygonStart:function(){Qe.point=Bt,Qe.lineStart=Ut,Qe.lineEnd=Et,Ve=[],st=[]},polygonEnd:function(){Qe.point=at,Qe.lineStart=xt,Qe.lineEnd=Ot,Ve=r.merge(Ve);var Ht=en(st,ae);Ve.length?(et||(ke.polygonStart(),et=!0),kt(Ve,Te,Ht,se,ke)):Ht&&(et||(ke.polygonStart(),et=!0),ke.lineStart(),se(null,null,1,ke),ke.lineEnd()),et&&(ke.polygonEnd(),et=!1),Ve=st=null},sphere:function(){ke.polygonStart(),ke.lineStart(),se(null,null,1,ke),ke.lineEnd(),ke.polygonEnd()}};function at(Ht,Zt){w(Ht,Zt)&&ke.point(Ht,Zt)}function lt(Ht,Zt){ze.point(Ht,Zt)}function xt(){Qe.point=lt,ze.lineStart()}function Ot(){Qe.point=at,ze.lineEnd()}function Bt(Ht,Zt){nt.push([Ht,Zt]),Ze.point(Ht,Zt)}function Ut(){Ze.lineStart(),nt=[]}function Et(){Bt(nt[0][0],nt[0][1]),Ze.lineEnd();var Ht=Ze.clean(),Zt=Ge.result(),Jt,fn=Zt.length,hn,Xt,mn;if(nt.pop(),st.push(nt),nt=null,!!fn){if(Ht&1){if(Xt=Zt[0],(hn=Xt.length-1)>0){for(et||(ke.polygonStart(),et=!0),ke.lineStart(),Jt=0;Jt<hn;++Jt)ke.point((mn=Xt[Jt])[0],mn[1]);ke.lineEnd()}return}fn>1&&Ht&2&&Zt.push(Zt.pop().concat(Zt.shift())),Ve.push(Zt.filter(de))}}return Qe}}function de(w){return w.length>1}function Te(w,z){return((w=w.x)[0]<0?w[1]-k-te:k-w[1])-((z=z.x)[0]<0?z[1]-k-te:k-z[1])}var Ie=M(function(){return!0},Ke,ft,[-t,-k]);function Ke(w){var z=NaN,se=NaN,ae=NaN,ke;return{lineStart:function(){w.lineStart(),ke=1},point:function(ze,Ge){var Ze=ze>0?t:-t,et=W(ze-z);W(et-t)<te?(w.point(z,se=(se+Ge)/2>0?k:-k),w.point(ae,se),w.lineEnd(),w.lineStart(),w.point(Ze,se),w.point(ze,se),ke=0):ae!==Ze&&et>=t&&(W(z-ae)<te&&(z-=ae*te),W(ze-Ze)<te&&(ze-=Ze*te),se=rt(z,se,ze,Ge),w.point(ae,se),w.lineEnd(),w.lineStart(),w.point(Ze,se),ke=0),w.point(z=ze,se=Ge),ae=Ze},lineEnd:function(){w.lineEnd(),z=se=NaN},clean:function(){return 2-ke}}}function rt(w,z,se,ae){var ke,ze,Ge=C(w-se);return W(Ge)>te?V((C(z)*(ze=j(ae))*C(se)-C(ae)*(ke=j(z))*C(w))/(ke*ze*Ge)):(z+ae)/2}function ft(w,z,se,ae){var ke;if(w==null)ke=se*k,ae.point(-t,ke),ae.point(0,ke),ae.point(t,ke),ae.point(t,0),ae.point(t,-ke),ae.point(0,-ke),ae.point(-t,-ke),ae.point(-t,0),ae.point(-t,ke);else if(W(w[0]-z[0])>te){var ze=w[0]<z[0]?t:-t;ke=se*ze/2,ae.point(-ze,ke),ae.point(0,ke),ae.point(ze,ke)}else ae.point(z[0],z[1])}function He(w){var z=j(w),se=6*_,ae=z>0,ke=W(z)>te;function ze(Ve,nt,Qe,at){pt(at,w,se,Qe,Ve,nt)}function Ge(Ve,nt){return j(Ve)*j(nt)>z}function Ze(Ve){var nt,Qe,at,lt,xt;return{lineStart:function(){lt=at=!1,xt=1},point:function(Ot,Bt){var Ut=[Ot,Bt],Et,Ht=Ge(Ot,Bt),Zt=ae?Ht?0:st(Ot,Bt):Ht?st(Ot+(Ot<0?t:-t),Bt):0;if(!nt&&(lt=at=Ht)&&Ve.lineStart(),Ht!==at&&(Et=et(nt,Ut),(!Et||zt(nt,Et)||zt(Ut,Et))&&(Ut[0]+=te,Ut[1]+=te,Ht=Ge(Ut[0],Ut[1]))),Ht!==at)xt=0,Ht?(Ve.lineStart(),Et=et(Ut,nt),Ve.point(Et[0],Et[1])):(Et=et(nt,Ut),Ve.point(Et[0],Et[1]),Ve.lineEnd()),nt=Et;else if(ke&&nt&&ae^Ht){var Jt;!(Zt&Qe)&&(Jt=et(Ut,nt,!0))&&(xt=0,ae?(Ve.lineStart(),Ve.point(Jt[0][0],Jt[0][1]),Ve.point(Jt[1][0],Jt[1][1]),Ve.lineEnd()):(Ve.point(Jt[1][0],Jt[1][1]),Ve.lineEnd(),Ve.lineStart(),Ve.point(Jt[0][0],Jt[0][1])))}Ht&&(!nt||!zt(nt,Ut))&&Ve.point(Ut[0],Ut[1]),nt=Ut,at=Ht,Qe=Zt},lineEnd:function(){at&&Ve.lineEnd(),nt=null},clean:function(){return xt|(lt&&at)<<1}}}function et(Ve,nt,Qe){var at=le(Ve),lt=le(nt),xt=[1,0,0],Ot=ge(at,lt),Bt=q(Ot,Ot),Ut=Ot[0],Et=Bt-Ut*Ut;if(!Et)return!Qe&&Ve;var Ht=z*Bt/Et,Zt=-z*Ut/Et,Jt=ge(xt,Ot),fn=he(xt,Ht),hn=he(Ot,Zt);Se(fn,hn);var Xt=Jt,mn=q(fn,Xt),pn=q(Xt,Xt),wn=mn*mn-pn*(q(fn,fn)-1);if(!(wn<0)){var It=v(wn),cn=he(Xt,(-mn-It)/pn);if(Se(cn,fn),cn=$(cn),!Qe)return cn;var dn=Ve[0],vn=nt[0],An=Ve[1],Rn=nt[1],Pn;vn<dn&&(Pn=dn,dn=vn,vn=Pn);var Nr=vn-dn,Yn=W(Nr-t)<te,ar=Yn||Nr<te;if(!Yn&&Rn<An&&(Pn=An,An=Rn,Rn=Pn),ar?Yn?An+Rn>0^cn[1]<(W(cn[0]-dn)<te?An:Rn):An<=cn[1]&&cn[1]<=Rn:Nr>t^(dn<=cn[0]&&cn[0]<=vn)){var Gn=he(Xt,(-mn+It)/pn);return Se(Gn,fn),[cn,$(Gn)]}}}function st(Ve,nt){var Qe=ae?w:t-w,at=0;return Ve<-Qe?at|=1:Ve>Qe&&(at|=2),nt<-Qe?at|=4:nt>Qe&&(at|=8),at}return M(Ge,Ze,ze,ae?[0,-w]:[-t,w-t])}function ct(w,z,se,ae,ke,ze){var Ge=w[0],Ze=w[1],et=z[0],st=z[1],Ve=0,nt=1,Qe=et-Ge,at=st-Ze,lt;if(lt=se-Ge,!(!Qe&&lt>0)){if(lt/=Qe,Qe<0){if(lt<Ve)return;lt<nt&&(nt=lt)}else if(Qe>0){if(lt>nt)return;lt>Ve&&(Ve=lt)}if(lt=ke-Ge,!(!Qe&&lt<0)){if(lt/=Qe,Qe<0){if(lt>nt)return;lt>Ve&&(Ve=lt)}else if(Qe>0){if(lt<Ve)return;lt<nt&&(nt=lt)}if(lt=ae-Ze,!(!at&&lt>0)){if(lt/=at,at<0){if(lt<Ve)return;lt<nt&&(nt=lt)}else if(at>0){if(lt>nt)return;lt>Ve&&(Ve=lt)}if(lt=ze-Ze,!(!at&&lt<0)){if(lt/=at,at<0){if(lt>nt)return;lt>Ve&&(Ve=lt)}else if(at>0){if(lt<Ve)return;lt<nt&&(nt=lt)}return Ve>0&&(w[0]=Ge+Ve*Qe,w[1]=Ze+Ve*at),nt<1&&(z[0]=Ge+nt*Qe,z[1]=Ze+nt*at),!0}}}}}var Mt=1e9,_t=-Mt;function Nt(w,z,se,ae){function ke(st,Ve){return w<=st&&st<=se&&z<=Ve&&Ve<=ae}function ze(st,Ve,nt,Qe){var at=0,lt=0;if(st==null||(at=Ge(st,nt))!==(lt=Ge(Ve,nt))||et(st,Ve)<0^nt>0)do Qe.point(at===0||at===3?w:se,at>1?ae:z);while((at=(at+nt+4)%4)!==lt);else Qe.point(Ve[0],Ve[1])}function Ge(st,Ve){return W(st[0]-w)<te?Ve>0?0:3:W(st[0]-se)<te?Ve>0?2:1:W(st[1]-z)<te?Ve>0?1:0:Ve>0?3:2}function Ze(st,Ve){return et(st.x,Ve.x)}function et(st,Ve){var nt=Ge(st,1),Qe=Ge(Ve,1);return nt!==Qe?nt-Qe:nt===0?Ve[1]-st[1]:nt===1?st[0]-Ve[0]:nt===2?st[1]-Ve[1]:Ve[0]-st[0]}return function(st){var Ve=st,nt=Tt(),Qe,at,lt,xt,Ot,Bt,Ut,Et,Ht,Zt,Jt,fn={point:hn,lineStart:wn,lineEnd:It,polygonStart:mn,polygonEnd:pn};function hn(dn,vn){ke(dn,vn)&&Ve.point(dn,vn)}function Xt(){for(var dn=0,vn=0,An=at.length;vn<An;++vn)for(var Rn=at[vn],Pn=1,Nr=Rn.length,Yn=Rn[0],ar,Gn,Wr=Yn[0],yr=Yn[1];Pn<Nr;++Pn)ar=Wr,Gn=yr,Yn=Rn[Pn],Wr=Yn[0],yr=Yn[1],Gn<=ae?yr>ae&&(Wr-ar)*(ae-Gn)>(yr-Gn)*(w-ar)&&++dn:yr<=ae&&(Wr-ar)*(ae-Gn)<(yr-Gn)*(w-ar)&&--dn;return dn}function mn(){Ve=nt,Qe=[],at=[],Jt=!0}function pn(){var dn=Xt(),vn=Jt&&dn,An=(Qe=r.merge(Qe)).length;(vn||An)&&(st.polygonStart(),vn&&(st.lineStart(),ze(null,null,1,st),st.lineEnd()),An&&kt(Qe,Ze,dn,ze,st),st.polygonEnd()),Ve=st,Qe=at=lt=null}function wn(){fn.point=cn,at&&at.push(lt=[]),Zt=!0,Ht=!1,Ut=Et=NaN}function It(){Qe&&(cn(xt,Ot),Bt&&Ht&&nt.rejoin(),Qe.push(nt.result())),fn.point=hn,Ht&&Ve.lineEnd()}function cn(dn,vn){var An=ke(dn,vn);if(at&&lt.push([dn,vn]),Zt)xt=dn,Ot=vn,Bt=An,Zt=!1,An&&(Ve.lineStart(),Ve.point(dn,vn));else if(An&&Ht)Ve.point(dn,vn);else{var Rn=[Ut=Math.max(_t,Math.min(Mt,Ut)),Et=Math.max(_t,Math.min(Mt,Et))],Pn=[dn=Math.max(_t,Math.min(Mt,dn)),vn=Math.max(_t,Math.min(Mt,vn))];ct(Rn,Pn,w,z,se,ae)?(Ht||(Ve.lineStart(),Ve.point(Rn[0],Rn[1])),Ve.point(Pn[0],Pn[1]),An||Ve.lineEnd(),Jt=!1):An&&(Ve.lineStart(),Ve.point(dn,vn),Jt=!1)}Ut=dn,Et=vn,Ht=An}return fn}}function Kt(){var w=0,z=0,se=960,ae=500,ke,ze,Ge;return Ge={stream:function(Ze){return ke&&ze===Ze?ke:ke=Nt(w,z,se,ae)(ze=Ze)},extent:function(Ze){return arguments.length?(w=+Ze[0][0],z=+Ze[0][1],se=+Ze[1][0],ae=+Ze[1][1],ke=ze=null,Ge):[[w,z],[se,ae]]}}}var rn=f(),Qt,sn,tn,gn={sphere:y,point:y,lineStart:bn,lineEnd:y,polygonStart:y,polygonEnd:y};function bn(){gn.point=_n,gn.lineEnd=yn}function yn(){gn.point=gn.lineEnd=y}function _n(w,z){w*=_,z*=_,Qt=w,sn=C(z),tn=j(z),gn.point=Sn}function Sn(w,z){w*=_,z*=_;var se=C(z),ae=j(z),ke=W(w-Qt),ze=j(ke),Ge=C(ke),Ze=ae*Ge,et=tn*se-sn*ae*ze,st=sn*se+tn*ae*ze;rn.add(fe(v(Ze*Ze+et*et),st)),Qt=w,sn=se,tn=ae}function Mn(w){return rn.reset(),I(w,gn),+rn}var Ln=[null,null],Nn={type:"LineString",coordinates:Ln};function xn(w,z){return Ln[0]=w,Ln[1]=z,Mn(Nn)}var Cn={Feature:function(w,z){return jt(w.geometry,z)},FeatureCollection:function(w,z){for(var se=w.features,ae=-1,ke=se.length;++ae<ke;)if(jt(se[ae].geometry,z))return!0;return!1}},kn={Sphere:function(){return!0},Point:function(w,z){return on(w.coordinates,z)},MultiPoint:function(w,z){for(var se=w.coordinates,ae=-1,ke=se.length;++ae<ke;)if(on(se[ae],z))return!0;return!1},LineString:function(w,z){return On(w.coordinates,z)},MultiLineString:function(w,z){for(var se=w.coordinates,ae=-1,ke=se.length;++ae<ke;)if(On(se[ae],z))return!0;return!1},Polygon:function(w,z){return Dn(w.coordinates,z)},MultiPolygon:function(w,z){for(var se=w.coordinates,ae=-1,ke=se.length;++ae<ke;)if(Dn(se[ae],z))return!0;return!1},GeometryCollection:function(w,z){for(var se=w.geometries,ae=-1,ke=se.length;++ae<ke;)if(jt(se[ae],z))return!0;return!1}};function jt(w,z){return w&&kn.hasOwnProperty(w.type)?kn[w.type](w,z):!1}function on(w,z){return xn(w,z)===0}function On(w,z){var se=xn(w[0],w[1]),ae=xn(w[0],z),ke=xn(z,w[1]);return ae+ke<=se+te}function Dn(w,z){return!!en(w.map($n),Bn(z))}function $n(w){return w=w.map(Bn),w.pop(),w}function Bn(w){return[w[0]*_,w[1]*_]}function Jn(w,z){return(w&&Cn.hasOwnProperty(w.type)?Cn[w.type]:jt)(w,z)}function Xn(w,z,se){var ae=r.range(w,z-te,se).concat(z);return function(ke){return ae.map(function(ze){return[ke,ze]})}}function er(w,z,se){var ae=r.range(w,z-te,se).concat(z);return function(ke){return ae.map(function(ze){return[ze,ke]})}}function tr(){var w,z,se,ae,ke,ze,Ge,Ze,et=10,st=et,Ve=90,nt=360,Qe,at,lt,xt,Ot=2.5;function Bt(){return{type:"MultiLineString",coordinates:Ut()}}function Ut(){return r.range(ve(ae/Ve)*Ve,se,Ve).map(lt).concat(r.range(ve(Ze/nt)*nt,Ge,nt).map(xt)).concat(r.range(ve(z/et)*et,w,et).filter(function(Et){return W(Et%Ve)>te}).map(Qe)).concat(r.range(ve(ze/st)*st,ke,st).filter(function(Et){return W(Et%nt)>te}).map(at))}return Bt.lines=function(){return Ut().map(function(Et){return{type:"LineString",coordinates:Et}})},Bt.outline=function(){return{type:"Polygon",coordinates:[lt(ae).concat(xt(Ge).slice(1),lt(se).reverse().slice(1),xt(Ze).reverse().slice(1))]}},Bt.extent=function(Et){return arguments.length?Bt.extentMajor(Et).extentMinor(Et):Bt.extentMinor()},Bt.extentMajor=function(Et){return arguments.length?(ae=+Et[0][0],se=+Et[1][0],Ze=+Et[0][1],Ge=+Et[1][1],ae>se&&(Et=ae,ae=se,se=Et),Ze>Ge&&(Et=Ze,Ze=Ge,Ge=Et),Bt.precision(Ot)):[[ae,Ze],[se,Ge]]},Bt.extentMinor=function(Et){return arguments.length?(z=+Et[0][0],w=+Et[1][0],ze=+Et[0][1],ke=+Et[1][1],z>w&&(Et=z,z=w,w=Et),ze>ke&&(Et=ze,ze=ke,ke=Et),Bt.precision(Ot)):[[z,ze],[w,ke]]},Bt.step=function(Et){return arguments.length?Bt.stepMajor(Et).stepMinor(Et):Bt.stepMinor()},Bt.stepMajor=function(Et){return arguments.length?(Ve=+Et[0],nt=+Et[1],Bt):[Ve,nt]},Bt.stepMinor=function(Et){return arguments.length?(et=+Et[0],st=+Et[1],Bt):[et,st]},Bt.precision=function(Et){return arguments.length?(Ot=+Et,Qe=Xn(ze,ke,90),at=er(z,w,Ot),lt=Xn(Ze,Ge,90),xt=er(ae,se,Ot),Bt):Ot},Bt.extentMajor([[-180,-90+te],[180,90-te]]).extentMinor([[-180,-80-te],[180,80+te]])}function _r(){return tr()()}function xr(w,z){var se=w[0]*_,ae=w[1]*_,ke=z[0]*_,ze=z[1]*_,Ge=j(ae),Ze=C(ae),et=j(ze),st=C(ze),Ve=Ge*j(se),nt=Ge*C(se),Qe=et*j(ke),at=et*C(ke),lt=2*u(v(p(ze-ae)+Ge*et*p(ke-se))),xt=C(lt),Ot=lt?function(Bt){var Ut=C(Bt*=lt)/xt,Et=C(lt-Bt)/xt,Ht=Et*Ve+Ut*Qe,Zt=Et*nt+Ut*at,Jt=Et*Ze+Ut*st;return[fe(Zt,Ht)*c,fe(Jt,v(Ht*Ht+Zt*Zt))*c]}:function(){return[se*c,ae*c]};return Ot.distance=lt,Ot}function En(w){return w}var nr=f(),rr=f(),dr,hr,gr,vr,Un={point:y,lineStart:y,lineEnd:y,polygonStart:function(){Un.lineStart=oc,Un.lineEnd=sc},polygonEnd:function(){Un.lineStart=Un.lineEnd=Un.point=y,nr.add(W(rr)),rr.reset()},result:function(){var w=nr/2;return nr.reset(),w}};function oc(){Un.point=fc}function fc(w,z){Un.point=Qa,dr=gr=w,hr=vr=z}function Qa(w,z){rr.add(vr*w-gr*z),gr=w,vr=z}function sc(){Qa(dr,hr)}var mr=Infinity,qr=mr,Ar=-mr,Br=Ar,Ur={point:cc,lineStart:y,lineEnd:y,polygonStart:y,polygonEnd:y,result:function(){var w=[[mr,qr],[Ar,Br]];return Ar=Br=-(qr=mr=Infinity),w}};function cc(w,z){w<mr&&(mr=w),w>Ar&&(Ar=w),z<qr&&(qr=z),z>Br&&(Br=z)}var Yi=0,Gi=0,Mr=0,Hr=0,Yr=0,pr=0,Vi=0,$i=0,Er=0,Ja,eu,In,zn,Tn={point:ir,lineStart:tu,lineEnd:nu,polygonStart:function(){Tn.lineStart=hc,Tn.lineEnd=gc},polygonEnd:function(){Tn.point=ir,Tn.lineStart=tu,Tn.lineEnd=nu},result:function(){var w=Er?[Vi/Er,$i/Er]:pr?[Hr/pr,Yr/pr]:Mr?[Yi/Mr,Gi/Mr]:[NaN,NaN];return Yi=Gi=Mr=Hr=Yr=pr=Vi=$i=Er=0,w}};function ir(w,z){Yi+=w,Gi+=z,++Mr}function tu(){Tn.point=lc}function lc(w,z){Tn.point=dc,ir(In=w,zn=z)}function dc(w,z){var se=w-In,ae=z-zn,ke=v(se*se+ae*ae);Hr+=ke*(In+w)/2,Yr+=ke*(zn+z)/2,pr+=ke,ir(In=w,zn=z)}function nu(){Tn.point=ir}function hc(){Tn.point=vc}function gc(){ru(Ja,eu)}function vc(w,z){Tn.point=ru,ir(Ja=In=w,eu=zn=z)}function ru(w,z){var se=w-In,ae=z-zn,ke=v(se*se+ae*ae);Hr+=ke*(In+w)/2,Yr+=ke*(zn+z)/2,pr+=ke,ke=zn*w-In*z,Vi+=ke*(In+w),$i+=ke*(zn+z),Er+=ke*3,ir(In=w,zn=z)}function iu(w){this._context=w}iu.prototype={_radius:4.5,pointRadius:function(w){return this._radius=w,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(w,z){switch(this._point){case 0:{this._context.moveTo(w,z),this._point=1;break}case 1:{this._context.lineTo(w,z);break}default:{this._context.moveTo(w+this._radius,z),this._context.arc(w,z,this._radius,0,O);break}}},result:y};var Xi=f(),Wi,au,uu,Sr,Cr,kr={point:y,lineStart:function(){kr.point=mc},lineEnd:function(){Wi&&ou(au,uu),kr.point=y},polygonStart:function(){Wi=!0},polygonEnd:function(){Wi=null},result:function(){var w=+Xi;return Xi.reset(),w}};function mc(w,z){kr.point=ou,au=Sr=w,uu=Cr=z}function ou(w,z){Sr-=w,Cr-=z,Xi.add(v(Sr*Sr+Cr*Cr)),Sr=w,Cr=z}function fu(){this._string=[]}fu.prototype={_radius:4.5,_circle:su(4.5),pointRadius:function(w){return(w=+w)!==this._radius&&(this._radius=w,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(w,z){switch(this._point){case 0:{this._string.push("M",w,",",z),this._point=1;break}case 1:{this._string.push("L",w,",",z);break}default:{this._circle==null&&(this._circle=su(this._radius)),this._string.push("M",w,",",z,this._circle);break}}},result:function(){if(this._string.length){var w=this._string.join("");return this._string=[],w}else return null}};function su(w){return"m0,"+w+"a"+w+","+w+" 0 1,1 0,"+-2*w+"a"+w+","+w+" 0 1,1 0,"+2*w+"z"}function pc(w,z){var se=4.5,ae,ke;function ze(Ge){return Ge&&(typeof se=="function"&&ke.pointRadius(+se.apply(this,arguments)),I(Ge,ae(ke))),ke.result()}return ze.area=function(Ge){return I(Ge,ae(Un)),Un.result()},ze.measure=function(Ge){return I(Ge,ae(kr)),kr.result()},ze.bounds=function(Ge){return I(Ge,ae(Ur)),Ur.result()},ze.centroid=function(Ge){return I(Ge,ae(Tn)),Tn.result()},ze.projection=function(Ge){return arguments.length?(ae=Ge==null?(w=null,En):(w=Ge).stream,ze):w},ze.context=function(Ge){return arguments.length?(ke=Ge==null?(z=null,new fu):new iu(z=Ge),typeof se!="function"&&ke.pointRadius(se),ze):z},ze.pointRadius=function(Ge){return arguments.length?(se=typeof Ge=="function"?Ge:(ke.pointRadius(+Ge),+Ge),ze):se},ze.projection(w).context(z)}function yc(w){return{stream:Rr(w)}}function Rr(w){return function(z){var se=new ji;for(var ae in w)se[ae]=w[ae];return se.stream=z,se}}function ji(){}ji.prototype={constructor:ji,point:function(w,z){this.stream.point(w,z)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ki(w,z,se){var ae=w.clipExtent&&w.clipExtent();return w.scale(150).translate([0,0]),ae!=null&&w.clipExtent(null),I(se,w.stream(Ur)),z(Ur.result()),ae!=null&&w.clipExtent(ae),w}function Gr(w,z,se){return Ki(w,function(ae){var ke=z[1][0]-z[0][0],ze=z[1][1]-z[0][1],Ge=Math.min(ke/(ae[1][0]-ae[0][0]),ze/(ae[1][1]-ae[0][1])),Ze=+z[0][0]+(ke-Ge*(ae[1][0]+ae[0][0]))/2,et=+z[0][1]+(ze-Ge*(ae[1][1]+ae[0][1]))/2;w.scale(150*Ge).translate([Ze,et])},se)}function Zi(w,z,se){return Gr(w,[[0,0],z],se)}function Qi(w,z,se){return Ki(w,function(ae){var ke=+z,ze=ke/(ae[1][0]-ae[0][0]),Ge=(ke-ze*(ae[1][0]+ae[0][0]))/2,Ze=-ze*ae[0][1];w.scale(150*ze).translate([Ge,Ze])},se)}function Ji(w,z,se){return Ki(w,function(ae){var ke=+z,ze=ke/(ae[1][1]-ae[0][1]),Ge=-ze*ae[0][0],Ze=(ke-ze*(ae[1][1]+ae[0][1]))/2;w.scale(150*ze).translate([Ge,Ze])},se)}var cu=16,bc=j(30*_);function lu(w,z){return+z?_c(w,z):wc(w)}function wc(w){return Rr({point:function(z,se){z=w(z,se),this.stream.point(z[0],z[1])}})}function _c(w,z){function se(ae,ke,ze,Ge,Ze,et,st,Ve,nt,Qe,at,lt,xt,Ot){var Bt=st-ae,Ut=Ve-ke,Et=Bt*Bt+Ut*Ut;if(Et>4*z&&xt--){var Ht=Ge+Qe,Zt=Ze+at,Jt=et+lt,fn=v(Ht*Ht+Zt*Zt+Jt*Jt),hn=u(Jt/=fn),Xt=W(W(Jt)-1)<te||W(ze-nt)<te?(ze+nt)/2:fe(Zt,Ht),mn=w(Xt,hn),pn=mn[0],wn=mn[1],It=pn-ae,cn=wn-ke,dn=Ut*It-Bt*cn;(dn*dn/Et>z||W((Bt*It+Ut*cn)/Et-.5)>.3||Ge*Qe+Ze*at+et*lt<bc)&&(se(ae,ke,ze,Ge,Ze,et,pn,wn,Xt,Ht/=fn,Zt/=fn,Jt,xt,Ot),Ot.point(pn,wn),se(pn,wn,Xt,Ht,Zt,Jt,st,Ve,nt,Qe,at,lt,xt,Ot))}}return function(ae){var ke,ze,Ge,Ze,et,st,Ve,nt,Qe,at,lt,xt,Ot={point:Bt,lineStart:Ut,lineEnd:Ht,polygonStart:function(){ae.polygonStart(),Ot.lineStart=Zt},polygonEnd:function(){ae.polygonEnd(),Ot.lineStart=Ut}};function Bt(hn,Xt){hn=w(hn,Xt),ae.point(hn[0],hn[1])}function Ut(){nt=NaN,Ot.point=Et,ae.lineStart()}function Et(hn,Xt){var mn=le([hn,Xt]),pn=w(hn,Xt);se(nt,Qe,Ve,at,lt,xt,nt=pn[0],Qe=pn[1],Ve=hn,at=mn[0],lt=mn[1],xt=mn[2],cu,ae),ae.point(nt,Qe)}function Ht(){Ot.point=Bt,ae.lineEnd()}function Zt(){Ut(),Ot.point=Jt,Ot.lineEnd=fn}function Jt(hn,Xt){Et(ke=hn,Xt),ze=nt,Ge=Qe,Ze=at,et=lt,st=xt,Ot.point=Et}function fn(){se(nt,Qe,Ve,at,lt,xt,ze,Ge,ke,Ze,et,st,cu,ae),Ot.lineEnd=Ht,Ht()}return Ot}}var xc=Rr({point:function(w,z){this.stream.point(w*_,z*_)}});function Ac(w){return Rr({point:function(z,se){var ae=w(z,se);return this.stream.point(ae[0],ae[1])}})}function Mc(w,z,se){function ae(ke,ze){return[z+w*ke,se-w*ze]}return ae.invert=function(ke,ze){return[(ke-z)/w,(se-ze)/w]},ae}function du(w,z,se,ae){var ke=j(ae),ze=C(ae),Ge=ke*w,Ze=ze*w,et=ke/w,st=ze/w,Ve=(ze*se-ke*z)/w,nt=(ze*z+ke*se)/w;function Qe(at,lt){return[Ge*at-Ze*lt+z,se-Ze*at-Ge*lt]}return Qe.invert=function(at,lt){return[et*at-st*lt+Ve,nt-st*at-et*lt]},Qe}function Hn(w){return ea(function(){return w})()}function ea(w){var z,se=150,ae=480,ke=250,ze=0,Ge=0,Ze=0,et=0,st=0,Ve,nt=0,Qe=null,at=Ie,lt=null,xt,Ot,Bt,Ut=En,Et=.5,Ht,Zt,Jt,fn,hn;function Xt(It){return Jt(It[0]*_,It[1]*_)}function mn(It){return It=Jt.invert(It[0],It[1]),It&&[It[0]*c,It[1]*c]}Xt.stream=function(It){return fn&&hn===It?fn:fn=xc(Ac(Ve)(at(Ht(Ut(hn=It)))))},Xt.preclip=function(It){return arguments.length?(at=It,Qe=void 0,wn()):at},Xt.postclip=function(It){return arguments.length?(Ut=It,lt=xt=Ot=Bt=null,wn()):Ut},Xt.clipAngle=function(It){return arguments.length?(at=+It?He(Qe=It*_):(Qe=null,Ie),wn()):Qe*c},Xt.clipExtent=function(It){return arguments.length?(Ut=It==null?(lt=xt=Ot=Bt=null,En):Nt(lt=+It[0][0],xt=+It[0][1],Ot=+It[1][0],Bt=+It[1][1]),wn()):lt==null?null:[[lt,xt],[Ot,Bt]]},Xt.scale=function(It){return arguments.length?(se=+It,pn()):se},Xt.translate=function(It){return arguments.length?(ae=+It[0],ke=+It[1],pn()):[ae,ke]},Xt.center=function(It){return arguments.length?(ze=It[0]%360*_,Ge=It[1]%360*_,pn()):[ze*c,Ge*c]},Xt.rotate=function(It){return arguments.length?(Ze=It[0]%360*_,et=It[1]%360*_,st=It.length>2?It[2]%360*_:0,pn()):[Ze*c,et*c,st*c]},Xt.angle=function(It){return arguments.length?(nt=It%360*_,pn()):nt*c},Xt.precision=function(It){return arguments.length?(Ht=lu(Zt,Et=It*It),wn()):v(Et)},Xt.fitExtent=function(It,cn){return Gr(Xt,It,cn)},Xt.fitSize=function(It,cn){return Zi(Xt,It,cn)},Xt.fitWidth=function(It,cn){return Qi(Xt,It,cn)},Xt.fitHeight=function(It,cn){return Ji(Xt,It,cn)};function pn(){var It=du(se,0,0,nt).apply(null,z(ze,Ge)),cn=(nt?du:Mc)(se,ae-It[0],ke-It[1],nt);return Ve=ln(Ze,et,st),Zt=nn(z,cn),Jt=nn(Ve,Zt),Ht=lu(Zt,Et),wn()}function wn(){return fn=hn=null,Xt}return function(){return z=w.apply(this,arguments),Xt.invert=z.invert&&mn,pn()}}function ta(w){var z=0,se=t/3,ae=ea(w),ke=ae(z,se);return ke.parallels=function(ze){return arguments.length?ae(z=ze[0]*_,se=ze[1]*_):[z*c,se*c]},ke}function Ec(w){var z=j(w);function se(ae,ke){return[ae*z,C(ke)/z]}return se.invert=function(ae,ke){return[ae/z,u(ke*z)]},se}function hu(w,z){var se=C(w),ae=(se+C(z))/2;if(W(ae)<te)return Ec(w);var ke=1+se*(2*ae-se),ze=v(ke)/ae;function Ge(Ze,et){var st=v(ke-2*ae*C(et))/ae;return[st*C(Ze*=ae),ze-st*j(Ze)]}return Ge.invert=function(Ze,et){var st=ze-et;return[fe(Ze,W(st))/ae*a(st),u((ke-(Ze*Ze+st*st)*ae*ae)/(2*ae))]},Ge}function Vr(){return ta(hu).scale(155.424).center([0,33.6442])}function gu(){return Vr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Sc(w){var z=w.length;return{point:function(se,ae){for(var ke=-1;++ke<z;)w[ke].point(se,ae)},sphere:function(){for(var se=-1;++se<z;)w[se].sphere()},lineStart:function(){for(var se=-1;++se<z;)w[se].lineStart()},lineEnd:function(){for(var se=-1;++se<z;)w[se].lineEnd()},polygonStart:function(){for(var se=-1;++se<z;)w[se].polygonStart()},polygonEnd:function(){for(var se=-1;++se<z;)w[se].polygonEnd()}}}function Cc(){var w,z,se=gu(),ae,ke=Vr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ze,Ge=Vr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ze,et,st={point:function(Qe,at){et=[Qe,at]}};function Ve(Qe){var at=Qe[0],lt=Qe[1];return et=null,ae.point(at,lt),et||(ze.point(at,lt),et)||(Ze.point(at,lt),et)}Ve.invert=function(Qe){var at=se.scale(),lt=se.translate(),xt=(Qe[0]-lt[0])/at,Ot=(Qe[1]-lt[1])/at;return(Ot>=.12&&Ot<.234&&xt>=-.425&&xt<-.214?ke:Ot>=.166&&Ot<.234&&xt>=-.214&&xt<-.115?Ge:se).invert(Qe)},Ve.stream=function(Qe){return w&&z===Qe?w:w=Sc([se.stream(z=Qe),ke.stream(Qe),Ge.stream(Qe)])},Ve.precision=function(Qe){return arguments.length?(se.precision(Qe),ke.precision(Qe),Ge.precision(Qe),nt()):se.precision()},Ve.scale=function(Qe){return arguments.length?(se.scale(Qe),ke.scale(Qe*.35),Ge.scale(Qe),Ve.translate(se.translate())):se.scale()},Ve.translate=function(Qe){if(!arguments.length)return se.translate();var at=se.scale(),lt=+Qe[0],xt=+Qe[1];return ae=se.translate(Qe).clipExtent([[lt-.455*at,xt-.238*at],[lt+.455*at,xt+.238*at]]).stream(st),ze=ke.translate([lt-.307*at,xt+.201*at]).clipExtent([[lt-.425*at+te,xt+.12*at+te],[lt-.214*at-te,xt+.234*at-te]]).stream(st),Ze=Ge.translate([lt-.205*at,xt+.212*at]).clipExtent([[lt-.214*at+te,xt+.166*at+te],[lt-.115*at-te,xt+.234*at-te]]).stream(st),nt()},Ve.fitExtent=function(Qe,at){return Gr(Ve,Qe,at)},Ve.fitSize=function(Qe,at){return Zi(Ve,Qe,at)},Ve.fitWidth=function(Qe,at){return Qi(Ve,Qe,at)},Ve.fitHeight=function(Qe,at){return Ji(Ve,Qe,at)};function nt(){return w=z=null,Ve}return Ve.scale(1070)}function vu(w){return function(z,se){var ae=j(z),ke=j(se),ze=w(ae*ke);return[ze*ke*C(z),ze*C(se)]}}function Lr(w){return function(z,se){var ae=v(z*z+se*se),ke=w(ae),ze=C(ke),Ge=j(ke);return[fe(z*ze,ae*Ge),u(ae&&se*ze/ae)]}}var na=vu(function(w){return v(2/(1+w))});na.invert=Lr(function(w){return 2*u(w/2)});function kc(){return Hn(na).scale(124.75).clipAngle(180-.001)}var ra=vu(function(w){return(w=h(w))&&w/C(w)});ra.invert=Lr(function(w){return w});function Rc(){return Hn(ra).scale(79.4188).clipAngle(180-.001)}function Tr(w,z){return[w,s(g((k+z)/2))]}Tr.invert=function(w,z){return[w,2*V(P(z))-k]};function Lc(){return mu(Tr).scale(961/O)}function mu(w){var z=Hn(w),se=z.center,ae=z.scale,ke=z.translate,ze=z.clipExtent,Ge=null,Ze,et,st;z.scale=function(nt){return arguments.length?(ae(nt),Ve()):ae()},z.translate=function(nt){return arguments.length?(ke(nt),Ve()):ke()},z.center=function(nt){return arguments.length?(se(nt),Ve()):se()},z.clipExtent=function(nt){return arguments.length?(nt==null?Ge=Ze=et=st=null:(Ge=+nt[0][0],Ze=+nt[0][1],et=+nt[1][0],st=+nt[1][1]),Ve()):Ge==null?null:[[Ge,Ze],[et,st]]};function Ve(){var nt=t*ae(),Qe=z(bt(z.rotate()).invert([0,0]));return ze(Ge==null?[[Qe[0]-nt,Qe[1]-nt],[Qe[0]+nt,Qe[1]+nt]]:w===Tr?[[Math.max(Qe[0]-nt,Ge),Ze],[Math.min(Qe[0]+nt,et),st]]:[[Ge,Math.max(Qe[1]-nt,Ze)],[et,Math.min(Qe[1]+nt,st)]])}return Ve()}function $r(w){return g((k+w)/2)}function pu(w,z){var se=j(w),ae=w===z?C(w):s(se/j(z))/s($r(z)/$r(w)),ke=se*A($r(w),ae)/ae;if(!ae)return Tr;function ze(Ge,Ze){ke>0?Ze<-k+te&&(Ze=-k+te):Ze>k-te&&(Ze=k-te);var et=ke/A($r(Ze),ae);return[et*C(ae*Ge),ke-et*j(ae*Ge)]}return ze.invert=function(Ge,Ze){var et=ke-Ze,st=a(ae)*v(Ge*Ge+et*et);return[fe(Ge,W(et))/ae*a(et),2*V(A(ke/st,1/ae))-k]},ze}function Tc(){return ta(pu).scale(109.5).parallels([30,30])}function Pr(w,z){return[w,z]}Pr.invert=Pr;function Pc(){return Hn(Pr).scale(152.63)}function yu(w,z){var se=j(w),ae=w===z?C(w):(se-j(z))/(z-w),ke=se/ae+w;if(W(ae)<te)return Pr;function ze(Ge,Ze){var et=ke-Ze,st=ae*Ge;return[et*C(st),ke-et*j(st)]}return ze.invert=function(Ge,Ze){var et=ke-Ze;return[fe(Ge,W(et))/ae*a(et),ke-a(ae)*v(Ge*Ge+et*et)]},ze}function Nc(){return ta(yu).scale(131.154).center([0,13.9389])}function ia(w,z){var se=j(z),ae=j(w)*se;return[se*C(w)/ae,C(z)/ae]}ia.invert=Lr(V);function Oc(){return Hn(ia).scale(144.049).clipAngle(60)}function Xr(w,z,se,ae){return w===1&&z===1&&se===0&&ae===0?En:Rr({point:function(ke,ze){this.stream.point(ke*w+se,ze*z+ae)}})}function Dc(){var w=1,z=0,se=0,ae=1,ke=1,ze=En,Ge=null,Ze,et,st,Ve=En,nt,Qe,at;function lt(){return nt=Qe=null,at}return at={stream:function(xt){return nt&&Qe===xt?nt:nt=ze(Ve(Qe=xt))},postclip:function(xt){return arguments.length?(Ve=xt,Ge=Ze=et=st=null,lt()):Ve},clipExtent:function(xt){return arguments.length?(Ve=xt==null?(Ge=Ze=et=st=null,En):Nt(Ge=+xt[0][0],Ze=+xt[0][1],et=+xt[1][0],st=+xt[1][1]),lt()):Ge==null?null:[[Ge,Ze],[et,st]]},scale:function(xt){return arguments.length?(ze=Xr((w=+xt)*ae,w*ke,z,se),lt()):w},translate:function(xt){return arguments.length?(ze=Xr(w*ae,w*ke,z=+xt[0],se=+xt[1]),lt()):[z,se]},reflectX:function(xt){return arguments.length?(ze=Xr(w*(ae=xt?-1:1),w*ke,z,se),lt()):ae<0},reflectY:function(xt){return arguments.length?(ze=Xr(w*ae,w*(ke=xt?-1:1),z,se),lt()):ke<0},fitExtent:function(xt,Ot){return Gr(at,xt,Ot)},fitSize:function(xt,Ot){return Zi(at,xt,Ot)},fitWidth:function(xt,Ot){return Qi(at,xt,Ot)},fitHeight:function(xt,Ot){return Ji(at,xt,Ot)}}}function aa(w,z){var se=z*z,ae=se*se;return[w*(.8707-.131979*se+ae*(-.013791+ae*(.003971*se-.001529*ae))),z*(1.007226+se*(.015085+ae*(-.044475+.028874*se-.005916*ae)))]}aa.invert=function(w,z){var se=z,ae=25,ke;do{var ze=se*se,Ge=ze*ze;se-=ke=(se*(1.007226+ze*(.015085+Ge*(-.044475+.028874*ze-.005916*Ge)))-z)/(1.007226+ze*(.015085*3+Ge*(-.044475*7+.028874*9*ze-.005916*11*Ge)))}while(W(ke)>te&&--ae>0);return[w/(.8707+(ze=se*se)*(-.131979+ze*(-.013791+ze*ze*ze*(.003971-.001529*ze)))),se]};function Ic(){return Hn(aa).scale(175.295)}function ua(w,z){return[j(z)*C(w),C(z)]}ua.invert=Lr(u);function zc(){return Hn(ua).scale(249.5).clipAngle(90+te)}function oa(w,z){var se=j(z),ae=1+j(w)*se;return[se*C(w)/ae,C(z)/ae]}oa.invert=Lr(function(w){return 2*V(w)});function Fc(){return Hn(oa).scale(250).clipAngle(142)}function fa(w,z){return[s(g((k+z)/2)),-w]}fa.invert=function(w,z){return[-z,2*V(P(w))-k]};function qc(){var w=mu(fa),z=w.center,se=w.rotate;return w.center=function(ae){return arguments.length?z([-ae[1],ae[0]]):(ae=z(),[ae[1],-ae[0]])},w.rotate=function(ae){return arguments.length?se([ae[0],ae[1],ae.length>2?ae[2]+90:90]):(ae=se(),[ae[0],ae[1],ae[2]-90])},se([0,0,90]).scale(159.155)}e.geoArea=d,e.geoBounds=$e,e.geoCentroid=Wt,e.geoCircle=qt,e.geoClipAntimeridian=Ie,e.geoClipCircle=He,e.geoClipExtent=Kt,e.geoClipRectangle=Nt,e.geoContains=Jn,e.geoDistance=xn,e.geoGraticule=tr,e.geoGraticule10=_r,e.geoInterpolate=xr,e.geoLength=Mn,e.geoPath=pc,e.geoAlbers=gu,e.geoAlbersUsa=Cc,e.geoAzimuthalEqualArea=kc,e.geoAzimuthalEqualAreaRaw=na,e.geoAzimuthalEquidistant=Rc,e.geoAzimuthalEquidistantRaw=ra,e.geoConicConformal=Tc,e.geoConicConformalRaw=pu,e.geoConicEqualArea=Vr,e.geoConicEqualAreaRaw=hu,e.geoConicEquidistant=Nc,e.geoConicEquidistantRaw=yu,e.geoEquirectangular=Pc,e.geoEquirectangularRaw=Pr,e.geoGnomonic=Oc,e.geoGnomonicRaw=ia,e.geoIdentity=Dc,e.geoProjection=Hn,e.geoProjectionMutator=ea,e.geoMercator=Lc,e.geoMercatorRaw=Tr,e.geoNaturalEarth1=Ic,e.geoNaturalEarth1Raw=aa,e.geoOrthographic=zc,e.geoOrthographicRaw=ua,e.geoStereographic=Fc,e.geoStereographicRaw=oa,e.geoTransverseMercator=qc,e.geoTransverseMercatorRaw=fa,e.geoRotation=bt,e.geoStream=I,e.geoTransform=yc,Object.defineProperty(e,"__esModule",{value:!0})})});var jf=At((Si,Wf)=>{(function(e,r){typeof Si=="object"&&typeof Wf!="undefined"?r(Si):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(Si,function(e){"use strict";function r(K,be){return K.parent===be.parent?1:2}function f(K){return K.reduce(o,0)/K.length}function o(K,be){return K+be.x}function b(K){return 1+K.reduce(i,0)}function i(K,be){return Math.max(K,be.y)}function te(K){for(var be;be=K.children;)K=be[0];return K}function re(K){for(var be;be=K.children;)K=be[be.length-1];return K}var t=function(){var K=r,be=1,N=1,ie=!1;function we(ne){var H,ee=0;ne.eachAfter(function(xe){var qe=xe.children;qe?(xe.x=f(qe),xe.y=b(qe)):(xe.x=H?ee+=K(xe,H):0,xe.y=0,H=xe)});var J=te(ne),ue=re(ne),Ee=J.x-K(J,ue)/2,Ne=ue.x+K(ue,J)/2;return ne.eachAfter(ie?function(xe){xe.x=(xe.x-ne.x)*be,xe.y=(ne.y-xe.y)*N}:function(xe){xe.x=(xe.x-Ee)/(Ne-Ee)*be,xe.y=(1-(ne.y?xe.y/ne.y:1))*N})}return we.separation=function(ne){return arguments.length?(K=ne,we):K},we.size=function(ne){return arguments.length?(ie=!1,be=+ne[0],N=+ne[1],we):ie?null:[be,N]},we.nodeSize=function(ne){return arguments.length?(ie=!0,be=+ne[0],N=+ne[1],we):ie?[be,N]:null},we};function k(K){var be=0,N=K.children,ie=N&&N.length;if(!ie)be=1;else for(;--ie>=0;)be+=N[ie].value;K.value=be}var n=function(){return this.eachAfter(k)},O=function(K){var be=this,N,ie=[be],we,ne,H;do for(N=ie.reverse(),ie=[];be=N.pop();)if(K(be),we=be.children,we)for(ne=0,H=we.length;ne<H;++ne)ie.push(we[ne]);while(ie.length);return this},c=function(K){for(var be=this,N=[be],ie,we;be=N.pop();)if(K(be),ie=be.children,ie)for(we=ie.length-1;we>=0;--we)N.push(ie[we]);return this},_=function(K){for(var be=this,N=[be],ie=[],we,ne,H;be=N.pop();)if(ie.push(be),we=be.children,we)for(ne=0,H=we.length;ne<H;++ne)N.push(we[ne]);for(;be=ie.pop();)K(be);return this},W=function(K){return this.eachAfter(function(be){for(var N=+K(be.data)||0,ie=be.children,we=ie&&ie.length;--we>=0;)N+=ie[we].value;be.value=N})},V=function(K){return this.eachBefore(function(be){be.children&&be.children.sort(K)})},fe=function(K){for(var be=this,N=j(be,K),ie=[be];be!==N;)be=be.parent,ie.push(be);for(var we=ie.length;K!==N;)ie.splice(we,0,K),K=K.parent;return ie};function j(K,be){if(K===be)return K;var N=K.ancestors(),ie=be.ancestors(),we=null;for(K=N.pop(),be=ie.pop();K===be;)we=K,K=N.pop(),be=ie.pop();return we}var ve=function(){for(var K=this,be=[K];K=K.parent;)be.push(K);return be},P=function(){var K=[];return this.each(function(be){K.push(be)}),K},s=function(){var K=[];return this.eachBefore(function(be){be.children||K.push(be)}),K},A=function(){var K=this,be=[];return K.each(function(N){N!==K&&be.push({source:N.parent,target:N})}),be};function C(K,be){var N=new u(K),ie=+K.value&&(N.value=K.value),we,ne=[N],H,ee,J,ue;for(be==null&&(be=v);we=ne.pop();)if(ie&&(we.value=+we.data.value),(ee=be(we.data))&&(ue=ee.length))for(we.children=new Array(ue),J=ue-1;J>=0;--J)ne.push(H=we.children[J]=new u(ee[J])),H.parent=we,H.depth=we.depth+1;return N.eachBefore(h)}function a(){return C(this).eachBefore(g)}function v(K){return K.children}function g(K){K.data=K.data.data}function h(K){var be=0;do K.height=be;while((K=K.parent)&&K.height<++be)}function u(K){this.data=K,this.depth=this.height=0,this.parent=null}u.prototype=C.prototype={constructor:u,count:n,each:O,eachAfter:_,eachBefore:c,sum:W,sort:V,path:fe,ancestors:ve,descendants:P,leaves:s,links:A,copy:a};var p=Array.prototype.slice;function y(K){for(var be=K.length,N,ie;be;)ie=Math.random()*be--|0,N=K[be],K[be]=K[ie],K[ie]=N;return K}var m=function(K){for(var be=0,N=(K=y(p.call(K))).length,ie=[],we,ne;be<N;)we=K[be],ne&&X(ne,we)?++be:(ne=I(ie=x(ie,we)),be=0);return ne};function x(K,be){var N,ie;if(R(be,K))return[be];for(N=0;N<K.length;++N)if(L(be,K[N])&&R(B(K[N],be),K))return[K[N],be];for(N=0;N<K.length-1;++N)for(ie=N+1;ie<K.length;++ie)if(L(B(K[N],K[ie]),be)&&L(B(K[N],be),K[ie])&&L(B(K[ie],be),K[N])&&R(Q(K[N],K[ie],be),K))return[K[N],K[ie],be];throw new Error}function L(K,be){var N=K.r-be.r,ie=be.x-K.x,we=be.y-K.y;return N<0||N*N<ie*ie+we*we}function X(K,be){var N=K.r-be.r+1e-6,ie=be.x-K.x,we=be.y-K.y;return N>0&&N*N>ie*ie+we*we}function R(K,be){for(var N=0;N<be.length;++N)if(!X(K,be[N]))return!1;return!0}function I(K){switch(K.length){case 1:return D(K[0]);case 2:return B(K[0],K[1]);case 3:return Q(K[0],K[1],K[2])}}function D(K){return{x:K.x,y:K.y,r:K.r}}function B(K,be){var N=K.x,ie=K.y,we=K.r,ne=be.x,H=be.y,ee=be.r,J=ne-N,ue=H-ie,Ee=ee-we,Ne=Math.sqrt(J*J+ue*ue);return{x:(N+ne+J/Ne*Ee)/2,y:(ie+H+ue/Ne*Ee)/2,r:(Ne+we+ee)/2}}function Q(K,be,N){var ie=K.x,we=K.y,ne=K.r,H=be.x,ee=be.y,J=be.r,ue=N.x,Ee=N.y,Ne=N.r,xe=ie-H,qe=ie-ue,Ye=we-ee,Je=we-Ee,ht=J-ne,We=Ne-ne,ot=ie*ie+we*we-ne*ne,wt=ot-H*H-ee*ee+J*J,Ft=ot-ue*ue-Ee*Ee+Ne*Ne,Ct=qe*Ye-xe*Je,Rt=(Ye*Ft-Je*wt)/(Ct*2)-ie,$t=(Je*ht-Ye*We)/Ct,Gt=(qe*wt-xe*Ft)/(Ct*2)-we,St=(xe*We-qe*ht)/Ct,Wt=$t*$t+St*St-1,Yt=2*(ne+Rt*$t+Gt*St),nn=Rt*Rt+Gt*Gt-ne*ne,an=-(Wt?(Yt+Math.sqrt(Yt*Yt-4*Wt*nn))/(2*Wt):nn/Yt);return{x:ie+Rt+$t*an,y:we+Gt+St*an,r:an}}function U(K,be,N){var ie=K.x-be.x,we,ne,H=K.y-be.y,ee,J,ue=ie*ie+H*H;ue?(ne=be.r+N.r,ne*=ne,J=K.r+N.r,J*=J,ne>J?(we=(ue+J-ne)/(2*ue),ee=Math.sqrt(Math.max(0,J/ue-we*we)),N.x=K.x-we*ie-ee*H,N.y=K.y-we*H+ee*ie):(we=(ue+ne-J)/(2*ue),ee=Math.sqrt(Math.max(0,ne/ue-we*we)),N.x=be.x+we*ie-ee*H,N.y=be.y+we*H+ee*ie)):(N.x=be.x+N.r,N.y=be.y)}function Y(K,be){var N=K.r+be.r-1e-6,ie=be.x-K.x,we=be.y-K.y;return N>0&&N*N>ie*ie+we*we}function pe(K){var be=K._,N=K.next._,ie=be.r+N.r,we=(be.x*N.r+N.x*be.r)/ie,ne=(be.y*N.r+N.y*be.r)/ie;return we*we+ne*ne}function Ce(K){this._=K,this.next=null,this.previous=null}function Pe(K){if(!(we=K.length))return 0;var be,N,ie,we,ne,H,ee,J,ue,Ee,Ne;if(be=K[0],be.x=0,be.y=0,!(we>1))return be.r;if(N=K[1],be.x=-N.r,N.x=be.r,N.y=0,!(we>2))return be.r+N.r;U(N,be,ie=K[2]),be=new Ce(be),N=new Ce(N),ie=new Ce(ie),be.next=ie.previous=N,N.next=be.previous=ie,ie.next=N.previous=be;e:for(ee=3;ee<we;++ee){U(be._,N._,ie=K[ee]),ie=new Ce(ie),J=N.next,ue=be.previous,Ee=N._.r,Ne=be._.r;do if(Ee<=Ne){if(Y(J._,ie._)){N=J,be.next=N,N.previous=be,--ee;continue e}Ee+=J._.r,J=J.next}else{if(Y(ue._,ie._)){be=ue,be.next=N,N.previous=be,--ee;continue e}Ne+=ue._.r,ue=ue.previous}while(J!==ue.next);for(ie.previous=be,ie.next=N,be.next=N.previous=N=ie,ne=pe(be);(ie=ie.next)!==N;)(H=pe(ie))<ne&&(be=ie,ne=H);N=be.next}for(be=[N._],ie=N;(ie=ie.next)!==N;)be.push(ie._);for(ie=m(be),ee=0;ee<we;++ee)be=K[ee],be.x-=ie.x,be.y-=ie.y;return ie.r}var l=function(K){return Pe(K),K};function F(K){return K==null?null:S(K)}function S(K){if(typeof K!="function")throw new Error;return K}function T(){return 0}var d=function(K){return function(){return K}};function $(K){return Math.sqrt(K.value)}var le=function(){var K=null,be=1,N=1,ie=T;function we(ne){return ne.x=be/2,ne.y=N/2,K?ne.eachBefore(q(K)).eachAfter(ge(ie,.5)).eachBefore(Se(1)):ne.eachBefore(q($)).eachAfter(ge(T,1)).eachAfter(ge(ie,ne.r/Math.min(be,N))).eachBefore(Se(Math.min(be,N)/(2*ne.r))),ne}return we.radius=function(ne){return arguments.length?(K=F(ne),we):K},we.size=function(ne){return arguments.length?(be=+ne[0],N=+ne[1],we):[be,N]},we.padding=function(ne){return arguments.length?(ie=typeof ne=="function"?ne:d(+ne),we):ie},we};function q(K){return function(be){be.children||(be.r=Math.max(0,+K(be)||0))}}function ge(K,be){return function(N){if(ie=N.children){var ie,we,ne=ie.length,H=K(N)*be||0,ee;if(H)for(we=0;we<ne;++we)ie[we].r+=H;if(ee=Pe(ie),H)for(we=0;we<ne;++we)ie[we].r-=H;N.r=ee+H}}}function Se(K){return function(be){var N=be.parent;be.r*=K,N&&(be.x=N.x+K*be.x,be.y=N.y+K*be.y)}}var he=function(K){K.x0=Math.round(K.x0),K.y0=Math.round(K.y0),K.x1=Math.round(K.x1),K.y1=Math.round(K.y1)},oe=function(K,be,N,ie,we){for(var ne=K.children,H,ee=-1,J=ne.length,ue=K.value&&(ie-be)/K.value;++ee<J;)H=ne[ee],H.y0=N,H.y1=we,H.x0=be,H.x1=be+=H.value*ue},ye=function(){var K=1,be=1,N=0,ie=!1;function we(H){var ee=H.height+1;return H.x0=H.y0=N,H.x1=K,H.y1=be/ee,H.eachBefore(ne(be,ee)),ie&&H.eachBefore(he),H}function ne(H,ee){return function(J){J.children&&oe(J,J.x0,H*(J.depth+1)/ee,J.x1,H*(J.depth+2)/ee);var ue=J.x0,Ee=J.y0,Ne=J.x1-N,xe=J.y1-N;Ne<ue&&(ue=Ne=(ue+Ne)/2),xe<Ee&&(Ee=xe=(Ee+xe)/2),J.x0=ue,J.y0=Ee,J.x1=Ne,J.y1=xe}}return we.round=function(H){return arguments.length?(ie=!!H,we):ie},we.size=function(H){return arguments.length?(K=+H[0],be=+H[1],we):[K,be]},we.padding=function(H){return arguments.length?(N=+H,we):N},we},Oe="$",Xe={depth:-1},Be={};function it(K){return K.id}function mt(K){return K.parentId}var Pt=function(){var K=it,be=mt;function N(ie){var we,ne,H=ie.length,ee,J,ue,Ee=new Array(H),Ne,xe,qe={};for(ne=0;ne<H;++ne)we=ie[ne],ue=Ee[ne]=new u(we),(Ne=K(we,ne,ie))!=null&&(Ne+="")&&(xe=Oe+(ue.id=Ne),qe[xe]=xe in qe?Be:ue);for(ne=0;ne<H;++ne)if(ue=Ee[ne],Ne=be(ie[ne],ne,ie),Ne==null||!(Ne+="")){if(ee)throw new Error("multiple roots");ee=ue}else{if(J=qe[Oe+Ne],!J)throw new Error("missing: "+Ne);if(J===Be)throw new Error("ambiguous: "+Ne);J.children?J.children.push(ue):J.children=[ue],ue.parent=J}if(!ee)throw new Error("no root");if(ee.parent=Xe,ee.eachBefore(function(Ye){Ye.depth=Ye.parent.depth+1,--H}).eachBefore(h),ee.parent=null,H>0)throw new Error("cycle");return ee}return N.id=function(ie){return arguments.length?(K=S(ie),N):K},N.parentId=function(ie){return arguments.length?(be=S(ie),N):be},N};function Z(K,be){return K.parent===be.parent?1:2}function ce(K){var be=K.children;return be?be[0]:K.t}function Re(K){var be=K.children;return be?be[be.length-1]:K.t}function Fe(K,be,N){var ie=N/(be.i-K.i);be.c-=ie,be.s+=N,K.c+=ie,be.z+=N,be.m+=N}function Me(K){for(var be=0,N=0,ie=K.children,we=ie.length,ne;--we>=0;)ne=ie[we],ne.z+=be,ne.m+=be,be+=ne.s+(N+=ne.c)}function E(K,be,N){return K.a.parent===be.parent?K.a:N}function me(K,be){this._=K,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=be}me.prototype=Object.create(u.prototype);function G(K){for(var be=new me(K,0),N,ie=[be],we,ne,H,ee;N=ie.pop();)if(ne=N._.children)for(N.children=new Array(ee=ne.length),H=ee-1;H>=0;--H)ie.push(we=N.children[H]=new me(ne[H],H)),we.parent=N;return(be.parent=new me(null,0)).children=[be],be}var Ae=function(){var K=Z,be=1,N=1,ie=null;function we(ue){var Ee=G(ue);if(Ee.eachAfter(ne),Ee.parent.m=-Ee.z,Ee.eachBefore(H),ie)ue.eachBefore(J);else{var Ne=ue,xe=ue,qe=ue;ue.eachBefore(function(ot){ot.x<Ne.x&&(Ne=ot),ot.x>xe.x&&(xe=ot),ot.depth>qe.depth&&(qe=ot)});var Ye=Ne===xe?1:K(Ne,xe)/2,Je=Ye-Ne.x,ht=be/(xe.x+Ye+Je),We=N/(qe.depth||1);ue.eachBefore(function(ot){ot.x=(ot.x+Je)*ht,ot.y=ot.depth*We})}return ue}function ne(ue){var Ee=ue.children,Ne=ue.parent.children,xe=ue.i?Ne[ue.i-1]:null;if(Ee){Me(ue);var qe=(Ee[0].z+Ee[Ee.length-1].z)/2;xe?(ue.z=xe.z+K(ue._,xe._),ue.m=ue.z-qe):ue.z=qe}else xe&&(ue.z=xe.z+K(ue._,xe._));ue.parent.A=ee(ue,xe,ue.parent.A||Ne[0])}function H(ue){ue._.x=ue.z+ue.parent.m,ue.m+=ue.parent.m}function ee(ue,Ee,Ne){if(Ee){for(var xe=ue,qe=ue,Ye=Ee,Je=xe.parent.children[0],ht=xe.m,We=qe.m,ot=Ye.m,wt=Je.m,Ft;Ye=Re(Ye),xe=ce(xe),Ye&&xe;)Je=ce(Je),qe=Re(qe),qe.a=ue,Ft=Ye.z+ot-xe.z-ht+K(Ye._,xe._),Ft>0&&(Fe(E(Ye,ue,Ne),ue,Ft),ht+=Ft,We+=Ft),ot+=Ye.m,ht+=xe.m,wt+=Je.m,We+=qe.m;Ye&&!Re(qe)&&(qe.t=Ye,qe.m+=ot-We),xe&&!ce(Je)&&(Je.t=xe,Je.m+=ht-wt,Ne=ue)}return Ne}function J(ue){ue.x*=be,ue.y=ue.depth*N}return we.separation=function(ue){return arguments.length?(K=ue,we):K},we.size=function(ue){return arguments.length?(ie=!1,be=+ue[0],N=+ue[1],we):ie?null:[be,N]},we.nodeSize=function(ue){return arguments.length?(ie=!0,be=+ue[0],N=+ue[1],we):ie?[be,N]:null},we},Ue=function(K,be,N,ie,we){for(var ne=K.children,H,ee=-1,J=ne.length,ue=K.value&&(we-N)/K.value;++ee<J;)H=ne[ee],H.x0=be,H.x1=ie,H.y0=N,H.y1=N+=H.value*ue},je=(1+Math.sqrt(5))/2;function vt(K,be,N,ie,we,ne){for(var H=[],ee=be.children,J,ue,Ee=0,Ne=0,xe=ee.length,qe,Ye,Je=be.value,ht,We,ot,wt,Ft,Ct,Rt;Ee<xe;){qe=we-N,Ye=ne-ie;do ht=ee[Ne++].value;while(!ht&&Ne<xe);for(We=ot=ht,Ct=Math.max(Ye/qe,qe/Ye)/(Je*K),Rt=ht*ht*Ct,Ft=Math.max(ot/Rt,Rt/We);Ne<xe;++Ne){if(ht+=ue=ee[Ne].value,ue<We&&(We=ue),ue>ot&&(ot=ue),Rt=ht*ht*Ct,wt=Math.max(ot/Rt,Rt/We),wt>Ft){ht-=ue;break}Ft=wt}H.push(J={value:ht,dice:qe<Ye,children:ee.slice(Ee,Ne)}),J.dice?oe(J,N,ie,we,Je?ie+=Ye*ht/Je:ne):Ue(J,N,ie,Je?N+=qe*ht/Je:we,ne),Je-=ht,Ee=Ne}return H}var dt=function K(be){function N(ie,we,ne,H,ee){vt(be,ie,we,ne,H,ee)}return N.ratio=function(ie){return K((ie=+ie)>1?ie:1)},N}(je),Dt=function(){var K=dt,be=!1,N=1,ie=1,we=[0],ne=T,H=T,ee=T,J=T,ue=T;function Ee(xe){return xe.x0=xe.y0=0,xe.x1=N,xe.y1=ie,xe.eachBefore(Ne),we=[0],be&&xe.eachBefore(he),xe}function Ne(xe){var qe=we[xe.depth],Ye=xe.x0+qe,Je=xe.y0+qe,ht=xe.x1-qe,We=xe.y1-qe;ht<Ye&&(Ye=ht=(Ye+ht)/2),We<Je&&(Je=We=(Je+We)/2),xe.x0=Ye,xe.y0=Je,xe.x1=ht,xe.y1=We,xe.children&&(qe=we[xe.depth+1]=ne(xe)/2,Ye+=ue(xe)-qe,Je+=H(xe)-qe,ht-=ee(xe)-qe,We-=J(xe)-qe,ht<Ye&&(Ye=ht=(Ye+ht)/2),We<Je&&(Je=We=(Je+We)/2),K(xe,Ye,Je,ht,We))}return Ee.round=function(xe){return arguments.length?(be=!!xe,Ee):be},Ee.size=function(xe){return arguments.length?(N=+xe[0],ie=+xe[1],Ee):[N,ie]},Ee.tile=function(xe){return arguments.length?(K=S(xe),Ee):K},Ee.padding=function(xe){return arguments.length?Ee.paddingInner(xe).paddingOuter(xe):Ee.paddingInner()},Ee.paddingInner=function(xe){return arguments.length?(ne=typeof xe=="function"?xe:d(+xe),Ee):ne},Ee.paddingOuter=function(xe){return arguments.length?Ee.paddingTop(xe).paddingRight(xe).paddingBottom(xe).paddingLeft(xe):Ee.paddingTop()},Ee.paddingTop=function(xe){return arguments.length?(H=typeof xe=="function"?xe:d(+xe),Ee):H},Ee.paddingRight=function(xe){return arguments.length?(ee=typeof xe=="function"?xe:d(+xe),Ee):ee},Ee.paddingBottom=function(xe){return arguments.length?(J=typeof xe=="function"?xe:d(+xe),Ee):J},Ee.paddingLeft=function(xe){return arguments.length?(ue=typeof xe=="function"?xe:d(+xe),Ee):ue},Ee},Le=function(K,be,N,ie,we){var ne=K.children,H,ee=ne.length,J,ue=new Array(ee+1);for(ue[0]=J=H=0;H<ee;++H)ue[H+1]=J+=ne[H].value;Ee(0,ee,K.value,be,N,ie,we);function Ee(Ne,xe,qe,Ye,Je,ht,We){if(Ne>=xe-1){var ot=ne[Ne];ot.x0=Ye,ot.y0=Je,ot.x1=ht,ot.y1=We;return}for(var wt=ue[Ne],Ft=qe/2+wt,Ct=Ne+1,Rt=xe-1;Ct<Rt;){var $t=Ct+Rt>>>1;ue[$t]<Ft?Ct=$t+1:Rt=$t}Ft-ue[Ct-1]<ue[Ct]-Ft&&Ne+1<Ct&&--Ct;var Gt=ue[Ct]-wt,St=qe-Gt;if(ht-Ye>We-Je){var Wt=(Ye*St+ht*Gt)/qe;Ee(Ne,Ct,Gt,Ye,Je,Wt,We),Ee(Ct,xe,St,Wt,Je,ht,We)}else{var Yt=(Je*St+We*Gt)/qe;Ee(Ne,Ct,Gt,Ye,Je,ht,Yt),Ee(Ct,xe,St,Ye,Yt,ht,We)}}},$e=function(K,be,N,ie,we){(K.depth&1?Ue:oe)(K,be,N,ie,we)},tt=function K(be){function N(ie,we,ne,H,ee){if((J=ie._squarify)&&J.ratio===be)for(var J,ue,Ee,Ne,xe=-1,qe,Ye=J.length,Je=ie.value;++xe<Ye;){for(ue=J[xe],Ee=ue.children,Ne=ue.value=0,qe=Ee.length;Ne<qe;++Ne)ue.value+=Ee[Ne].value;ue.dice?oe(ue,we,ne,H,ne+=(ee-ne)*ue.value/Je):Ue(ue,we,ne,we+=(H-we)*ue.value/Je,ee),Je-=ue.value}else ie._squarify=J=vt(be,ie,we,ne,H,ee),J.ratio=be}return N.ratio=function(ie){return K((ie=+ie)>1?ie:1)},N}(je);e.cluster=t,e.hierarchy=C,e.pack=le,e.packSiblings=l,e.packEnclose=m,e.partition=ye,e.stratify=Pt,e.tree=Ae,e.treemap=Dt,e.treemapBinary=Le,e.treemapDice=oe,e.treemapSlice=Ue,e.treemapSliceDice=$e,e.treemapSquarify=dt,e.treemapResquarify=tt,Object.defineProperty(e,"__esModule",{value:!0})})});var Zf=At((Ci,Kf)=>{(function(e,r){typeof Ci=="object"&&typeof Kf!="undefined"?r(Ci):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(Ci,function(e){"use strict";var r=function(k){for(var n=-1,O=k.length,c,_=k[O-1],W=0;++n<O;)c=_,_=k[n],W+=c[1]*_[0]-c[0]*_[1];return W/2},f=function(k){for(var n=-1,O=k.length,c=0,_=0,W,V=k[O-1],fe,j=0;++n<O;)W=V,V=k[n],j+=fe=W[0]*V[1]-V[0]*W[1],c+=(W[0]+V[0])*fe,_+=(W[1]+V[1])*fe;return j*=3,[c/j,_/j]},o=function(k,n,O){return(n[0]-k[0])*(O[1]-k[1])-(n[1]-k[1])*(O[0]-k[0])};function b(k,n){return k[0]-n[0]||k[1]-n[1]}function i(k){for(var n=k.length,O=[0,1],c=2,_=2;_<n;++_){for(;c>1&&o(k[O[c-2]],k[O[c-1]],k[_])<=0;)--c;O[c++]=_}return O.slice(0,c)}var te=function(k){if((O=k.length)<3)return null;var n,O,c=new Array(O),_=new Array(O);for(n=0;n<O;++n)c[n]=[+k[n][0],+k[n][1],n];for(c.sort(b),n=0;n<O;++n)_[n]=[c[n][0],-c[n][1]];var W=i(c),V=i(_),fe=V[0]===W[0],j=V[V.length-1]===W[W.length-1],ve=[];for(n=W.length-1;n>=0;--n)ve.push(k[c[W[n]][2]]);for(n=+fe;n<V.length-j;++n)ve.push(k[c[V[n]][2]]);return ve},re=function(k,n){for(var O=k.length,c=k[O-1],_=n[0],W=n[1],V=c[0],fe=c[1],j,ve,P=!1,s=0;s<O;++s)c=k[s],j=c[0],ve=c[1],ve>W!=fe>W&&_<(V-j)*(W-ve)/(fe-ve)+j&&(P=!P),V=j,fe=ve;return P},t=function(k){for(var n=-1,O=k.length,c=k[O-1],_,W,V=c[0],fe=c[1],j=0;++n<O;)_=V,W=fe,c=k[n],V=c[0],fe=c[1],_-=V,W-=fe,j+=Math.sqrt(_*_+W*W);return j};e.polygonArea=r,e.polygonCentroid=f,e.polygonHull=te,e.polygonContains=re,e.polygonLength=t,Object.defineProperty(e,"__esModule",{value:!0})})});var Jf=At((ki,Qf)=>{(function(e,r){typeof ki=="object"&&typeof Qf!="undefined"?r(ki):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(ki,function(e){"use strict";var r=function(){return Math.random()},f=function t(k){function n(O,c){return O=O==null?0:+O,c=c==null?1:+c,arguments.length===1?(c=O,O=0):c-=O,function(){return k()*c+O}}return n.source=t,n}(r),o=function t(k){function n(O,c){var _,W;return O=O==null?0:+O,c=c==null?1:+c,function(){var V;if(_!=null)V=_,_=null;else do _=k()*2-1,V=k()*2-1,W=_*_+V*V;while(!W||W>1);return O+c*V*Math.sqrt(-2*Math.log(W)/W)}}return n.source=t,n}(r),b=function t(k){function n(){var O=o.source(k).apply(this,arguments);return function(){return Math.exp(O())}}return n.source=t,n}(r),i=function t(k){function n(O){return function(){for(var c=0,_=0;_<O;++_)c+=k();return c}}return n.source=t,n}(r),te=function t(k){function n(O){var c=i.source(k)(O);return function(){return c()/O}}return n.source=t,n}(r),re=function t(k){function n(O){return function(){return-Math.log(1-k())/O}}return n.source=t,n}(r);e.randomUniform=f,e.randomNormal=o,e.randomLogNormal=b,e.randomBates=te,e.randomIrwinHall=i,e.randomExponential=re,Object.defineProperty(e,"__esModule",{value:!0})})});var Li=At((Ri,es)=>{(function(e,r){typeof Ri=="object"&&typeof es!="undefined"?r(Ri):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(Ri,function(e){"use strict";var r=new Date,f=new Date;function o(Z,ce,Re,Fe){function Me(E){return Z(E=new Date(+E)),E}return Me.floor=Me,Me.ceil=function(E){return Z(E=new Date(E-1)),ce(E,1),Z(E),E},Me.round=function(E){var me=Me(E),G=Me.ceil(E);return E-me<G-E?me:G},Me.offset=function(E,me){return ce(E=new Date(+E),me==null?1:Math.floor(me)),E},Me.range=function(E,me,G){var Ae=[],Ue;if(E=Me.ceil(E),G=G==null?1:Math.floor(G),!(E<me)||!(G>0))return Ae;do Ae.push(Ue=new Date(+E)),ce(E,G),Z(E);while(Ue<E&&E<me);return Ae},Me.filter=function(E){return o(function(me){if(me>=me)for(;Z(me),!E(me);)me.setTime(me-1)},function(me,G){if(me>=me)if(G<0)for(;++G<=0;)for(;ce(me,-1),!E(me););else for(;--G>=0;)for(;ce(me,1),!E(me););})},Re&&(Me.count=function(E,me){return r.setTime(+E),f.setTime(+me),Z(r),Z(f),Math.floor(Re(r,f))},Me.every=function(E){return E=Math.floor(E),!isFinite(E)||!(E>0)?null:E>1?Me.filter(Fe?function(me){return Fe(me)%E==0}:function(me){return Me.count(0,me)%E==0}):Me}),Me}var b=o(function(){},function(Z,ce){Z.setTime(+Z+ce)},function(Z,ce){return ce-Z});b.every=function(Z){return Z=Math.floor(Z),!isFinite(Z)||!(Z>0)?null:Z>1?o(function(ce){ce.setTime(Math.floor(ce/Z)*Z)},function(ce,Re){ce.setTime(+ce+Re*Z)},function(ce,Re){return(Re-ce)/Z}):b};var i=b.range,te=1e3,re=6e4,t=36e5,k=864e5,n=6048e5,O=o(function(Z){Z.setTime(Math.floor(Z/te)*te)},function(Z,ce){Z.setTime(+Z+ce*te)},function(Z,ce){return(ce-Z)/te},function(Z){return Z.getUTCSeconds()}),c=O.range,_=o(function(Z){Z.setTime(Math.floor(Z/re)*re)},function(Z,ce){Z.setTime(+Z+ce*re)},function(Z,ce){return(ce-Z)/re},function(Z){return Z.getMinutes()}),W=_.range,V=o(function(Z){var ce=Z.getTimezoneOffset()*re%t;ce<0&&(ce+=t),Z.setTime(Math.floor((+Z-ce)/t)*t+ce)},function(Z,ce){Z.setTime(+Z+ce*t)},function(Z,ce){return(ce-Z)/t},function(Z){return Z.getHours()}),fe=V.range,j=o(function(Z){Z.setHours(0,0,0,0)},function(Z,ce){Z.setDate(Z.getDate()+ce)},function(Z,ce){return(ce-Z-(ce.getTimezoneOffset()-Z.getTimezoneOffset())*re)/k},function(Z){return Z.getDate()-1}),ve=j.range;function P(Z){return o(function(ce){ce.setDate(ce.getDate()-(ce.getDay()+7-Z)%7),ce.setHours(0,0,0,0)},function(ce,Re){ce.setDate(ce.getDate()+Re*7)},function(ce,Re){return(Re-ce-(Re.getTimezoneOffset()-ce.getTimezoneOffset())*re)/n})}var s=P(0),A=P(1),C=P(2),a=P(3),v=P(4),g=P(5),h=P(6),u=s.range,p=A.range,y=C.range,m=a.range,x=v.range,L=g.range,X=h.range,R=o(function(Z){Z.setDate(1),Z.setHours(0,0,0,0)},function(Z,ce){Z.setMonth(Z.getMonth()+ce)},function(Z,ce){return ce.getMonth()-Z.getMonth()+(ce.getFullYear()-Z.getFullYear())*12},function(Z){return Z.getMonth()}),I=R.range,D=o(function(Z){Z.setMonth(0,1),Z.setHours(0,0,0,0)},function(Z,ce){Z.setFullYear(Z.getFullYear()+ce)},function(Z,ce){return ce.getFullYear()-Z.getFullYear()},function(Z){return Z.getFullYear()});D.every=function(Z){return!isFinite(Z=Math.floor(Z))||!(Z>0)?null:o(function(ce){ce.setFullYear(Math.floor(ce.getFullYear()/Z)*Z),ce.setMonth(0,1),ce.setHours(0,0,0,0)},function(ce,Re){ce.setFullYear(ce.getFullYear()+Re*Z)})};var B=D.range,Q=o(function(Z){Z.setUTCSeconds(0,0)},function(Z,ce){Z.setTime(+Z+ce*re)},function(Z,ce){return(ce-Z)/re},function(Z){return Z.getUTCMinutes()}),U=Q.range,Y=o(function(Z){Z.setUTCMinutes(0,0,0)},function(Z,ce){Z.setTime(+Z+ce*t)},function(Z,ce){return(ce-Z)/t},function(Z){return Z.getUTCHours()}),pe=Y.range,Ce=o(function(Z){Z.setUTCHours(0,0,0,0)},function(Z,ce){Z.setUTCDate(Z.getUTCDate()+ce)},function(Z,ce){return(ce-Z)/k},function(Z){return Z.getUTCDate()-1}),Pe=Ce.range;function l(Z){return o(function(ce){ce.setUTCDate(ce.getUTCDate()-(ce.getUTCDay()+7-Z)%7),ce.setUTCHours(0,0,0,0)},function(ce,Re){ce.setUTCDate(ce.getUTCDate()+Re*7)},function(ce,Re){return(Re-ce)/n})}var F=l(0),S=l(1),T=l(2),d=l(3),$=l(4),le=l(5),q=l(6),ge=F.range,Se=S.range,he=T.range,oe=d.range,ye=$.range,Oe=le.range,Xe=q.range,Be=o(function(Z){Z.setUTCDate(1),Z.setUTCHours(0,0,0,0)},function(Z,ce){Z.setUTCMonth(Z.getUTCMonth()+ce)},function(Z,ce){return ce.getUTCMonth()-Z.getUTCMonth()+(ce.getUTCFullYear()-Z.getUTCFullYear())*12},function(Z){return Z.getUTCMonth()}),it=Be.range,mt=o(function(Z){Z.setUTCMonth(0,1),Z.setUTCHours(0,0,0,0)},function(Z,ce){Z.setUTCFullYear(Z.getUTCFullYear()+ce)},function(Z,ce){return ce.getUTCFullYear()-Z.getUTCFullYear()},function(Z){return Z.getUTCFullYear()});mt.every=function(Z){return!isFinite(Z=Math.floor(Z))||!(Z>0)?null:o(function(ce){ce.setUTCFullYear(Math.floor(ce.getUTCFullYear()/Z)*Z),ce.setUTCMonth(0,1),ce.setUTCHours(0,0,0,0)},function(ce,Re){ce.setUTCFullYear(ce.getUTCFullYear()+Re*Z)})};var Pt=mt.range;e.timeInterval=o,e.timeMillisecond=b,e.timeMilliseconds=i,e.utcMillisecond=b,e.utcMilliseconds=i,e.timeSecond=O,e.timeSeconds=c,e.utcSecond=O,e.utcSeconds=c,e.timeMinute=_,e.timeMinutes=W,e.timeHour=V,e.timeHours=fe,e.timeDay=j,e.timeDays=ve,e.timeWeek=s,e.timeWeeks=u,e.timeSunday=s,e.timeSundays=u,e.timeMonday=A,e.timeMondays=p,e.timeTuesday=C,e.timeTuesdays=y,e.timeWednesday=a,e.timeWednesdays=m,e.timeThursday=v,e.timeThursdays=x,e.timeFriday=g,e.timeFridays=L,e.timeSaturday=h,e.timeSaturdays=X,e.timeMonth=R,e.timeMonths=I,e.timeYear=D,e.timeYears=B,e.utcMinute=Q,e.utcMinutes=U,e.utcHour=Y,e.utcHours=pe,e.utcDay=Ce,e.utcDays=Pe,e.utcWeek=F,e.utcWeeks=ge,e.utcSunday=F,e.utcSundays=ge,e.utcMonday=S,e.utcMondays=Se,e.utcTuesday=T,e.utcTuesdays=he,e.utcWednesday=d,e.utcWednesdays=oe,e.utcThursday=$,e.utcThursdays=ye,e.utcFriday=le,e.utcFridays=Oe,e.utcSaturday=q,e.utcSaturdays=Xe,e.utcMonth=Be,e.utcMonths=it,e.utcYear=mt,e.utcYears=Pt,Object.defineProperty(e,"__esModule",{value:!0})})});var Xa=At((Ti,ts)=>{(function(e,r){typeof Ti=="object"&&typeof ts!="undefined"?r(Ti,Li()):typeof define=="function"&&define.amd?define(["exports","d3-time"],r):r(e.d3=e.d3||{},e.d3)})(Ti,function(e,r){"use strict";function f(Le){if(0<=Le.y&&Le.y<100){var $e=new Date(-1,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L);return $e.setFullYear(Le.y),$e}return new Date(Le.y,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L)}function o(Le){if(0<=Le.y&&Le.y<100){var $e=new Date(Date.UTC(-1,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L));return $e.setUTCFullYear(Le.y),$e}return new Date(Date.UTC(Le.y,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L))}function b(Le){return{y:Le,m:0,d:1,H:0,M:0,S:0,L:0}}function i(Le){var $e=Le.dateTime,tt=Le.date,K=Le.time,be=Le.periods,N=Le.days,ie=Le.shortDays,we=Le.months,ne=Le.shortMonths,H=c(be),ee=_(be),J=c(N),ue=_(N),Ee=c(ie),Ne=_(ie),xe=c(we),qe=_(we),Ye=c(ne),Je=_(ne),ht={a:ln,A:_e,b:De,B:ut,c:null,d:X,e:X,f:Q,H:R,I,j:D,L:B,m:U,M:Y,p:bt,Q:E,s:me,S:pe,u:Ce,U:Pe,V:l,w:F,W:S,x:null,X:null,y:T,Y:d,Z:$,"%":Me},We={a:pt,A:Lt,b:qt,B:Tt,c:null,d:le,e:le,f:oe,H:q,I:ge,j:Se,L:he,m:ye,M:Oe,p:zt,Q:E,s:me,S:Xe,u:Be,U:it,V:mt,w:Pt,W:Z,x:null,X:null,y:ce,Y:Re,Z:Fe,"%":Me},ot={a:$t,A:Gt,b:St,B:Wt,c:Yt,d:a,e:a,f:y,H:g,I:g,j:v,L:p,m:C,M:h,p:Rt,Q:x,s:L,S:u,u:V,U:fe,V:j,w:W,W:ve,x:nn,X:an,y:s,Y:P,Z:A,"%":m};ht.x=wt(tt,ht),ht.X=wt(K,ht),ht.c=wt($e,ht),We.x=wt(tt,We),We.X=wt(K,We),We.c=wt($e,We);function wt(gt,kt){return function(Vt){var yt=[],en=-1,M=0,de=gt.length,Te,Ie,Ke;for(Vt instanceof Date||(Vt=new Date(+Vt));++en<de;)gt.charCodeAt(en)===37&&(yt.push(gt.slice(M,en)),(Ie=te[Te=gt.charAt(++en)])!=null?Te=gt.charAt(++en):Ie=Te==="e"?" ":"0",(Ke=kt[Te])&&(Te=Ke(Vt,Ie)),yt.push(Te),M=en+1);return yt.push(gt.slice(M,en)),yt.join("")}}function Ft(gt,kt){return function(Vt){var yt=b(1900),en=Ct(yt,gt,Vt+="",0),M,de;if(en!=Vt.length)return null;if("Q"in yt)return new Date(yt.Q);if("p"in yt&&(yt.H=yt.H%12+yt.p*12),"V"in yt){if(yt.V<1||yt.V>53)return null;"w"in yt||(yt.w=1),"Z"in yt?(M=o(b(yt.y)),de=M.getUTCDay(),M=de>4||de===0?r.utcMonday.ceil(M):r.utcMonday(M),M=r.utcDay.offset(M,(yt.V-1)*7),yt.y=M.getUTCFullYear(),yt.m=M.getUTCMonth(),yt.d=M.getUTCDate()+(yt.w+6)%7):(M=kt(b(yt.y)),de=M.getDay(),M=de>4||de===0?r.timeMonday.ceil(M):r.timeMonday(M),M=r.timeDay.offset(M,(yt.V-1)*7),yt.y=M.getFullYear(),yt.m=M.getMonth(),yt.d=M.getDate()+(yt.w+6)%7)}else("W"in yt||"U"in yt)&&("w"in yt||(yt.w="u"in yt?yt.u%7:"W"in yt?1:0),de="Z"in yt?o(b(yt.y)).getUTCDay():kt(b(yt.y)).getDay(),yt.m=0,yt.d="W"in yt?(yt.w+6)%7+yt.W*7-(de+5)%7:yt.w+yt.U*7-(de+6)%7);return"Z"in yt?(yt.H+=yt.Z/100|0,yt.M+=yt.Z%100,o(yt)):kt(yt)}}function Ct(gt,kt,Vt,yt){for(var en=0,M=kt.length,de=Vt.length,Te,Ie;en<M;){if(yt>=de)return-1;if(Te=kt.charCodeAt(en++),Te===37){if(Te=kt.charAt(en++),Ie=ot[Te in te?kt.charAt(en++):Te],!Ie||(yt=Ie(gt,Vt,yt))<0)return-1}else if(Te!=Vt.charCodeAt(yt++))return-1}return yt}function Rt(gt,kt,Vt){var yt=H.exec(kt.slice(Vt));return yt?(gt.p=ee[yt[0].toLowerCase()],Vt+yt[0].length):-1}function $t(gt,kt,Vt){var yt=Ee.exec(kt.slice(Vt));return yt?(gt.w=Ne[yt[0].toLowerCase()],Vt+yt[0].length):-1}function Gt(gt,kt,Vt){var yt=J.exec(kt.slice(Vt));return yt?(gt.w=ue[yt[0].toLowerCase()],Vt+yt[0].length):-1}function St(gt,kt,Vt){var yt=Ye.exec(kt.slice(Vt));return yt?(gt.m=Je[yt[0].toLowerCase()],Vt+yt[0].length):-1}function Wt(gt,kt,Vt){var yt=xe.exec(kt.slice(Vt));return yt?(gt.m=qe[yt[0].toLowerCase()],Vt+yt[0].length):-1}function Yt(gt,kt,Vt){return Ct(gt,$e,kt,Vt)}function nn(gt,kt,Vt){return Ct(gt,tt,kt,Vt)}function an(gt,kt,Vt){return Ct(gt,K,kt,Vt)}function ln(gt){return ie[gt.getDay()]}function _e(gt){return N[gt.getDay()]}function De(gt){return ne[gt.getMonth()]}function ut(gt){return we[gt.getMonth()]}function bt(gt){return be[+(gt.getHours()>=12)]}function pt(gt){return ie[gt.getUTCDay()]}function Lt(gt){return N[gt.getUTCDay()]}function qt(gt){return ne[gt.getUTCMonth()]}function Tt(gt){return we[gt.getUTCMonth()]}function zt(gt){return be[+(gt.getUTCHours()>=12)]}return{format:function(gt){var kt=wt(gt+="",ht);return kt.toString=function(){return gt},kt},parse:function(gt){var kt=Ft(gt+="",f);return kt.toString=function(){return gt},kt},utcFormat:function(gt){var kt=wt(gt+="",We);return kt.toString=function(){return gt},kt},utcParse:function(gt){var kt=Ft(gt,o);return kt.toString=function(){return gt},kt}}}var te={"-":"",_:" ","0":"0"},re=/^\s*\d+/,t=/^%/,k=/[\\^$*+?|[\]().{}]/g;function n(Le,$e,tt){var K=Le<0?"-":"",be=(K?-Le:Le)+"",N=be.length;return K+(N<tt?new Array(tt-N+1).join($e)+be:be)}function O(Le){return Le.replace(k,"\\$&")}function c(Le){return new RegExp("^(?:"+Le.map(O).join("|")+")","i")}function _(Le){for(var $e={},tt=-1,K=Le.length;++tt<K;)$e[Le[tt].toLowerCase()]=tt;return $e}function W(Le,$e,tt){var K=re.exec($e.slice(tt,tt+1));return K?(Le.w=+K[0],tt+K[0].length):-1}function V(Le,$e,tt){var K=re.exec($e.slice(tt,tt+1));return K?(Le.u=+K[0],tt+K[0].length):-1}function fe(Le,$e,tt){var K=re.exec($e.slice(tt,tt+2));return K?(Le.U=+K[0],tt+K[0].length):-1}function j(Le,$e,tt){var K=re.exec($e.slice(tt,tt+2));return K?(Le.V=+K[0],tt+K[0].length):-1}function ve(Le,$e,tt){var K=re.exec($e.slice(tt,tt+2));return K?(Le.W=+K[0],tt+K[0].length):-1}function P(Le,$e,tt){var K=re.exec($e.slice(tt,tt+4));return K?(Le.y=+K[0],tt+K[0].length):-1}function s(Le,$e,tt){var K=re.exec($e.slice(tt,tt+2));return K?(Le.y=+K[0]+(+K[0]>68?1900:2e3),tt+K[0].length):-1}function A(Le,$e,tt){var K=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec($e.slice(tt,tt+6));return K?(Le.Z=K[1]?0:-(K[2]+(K[3]||"00")),tt+K[0].length):-1}function C(Le,$e,tt){var K=re.exec($e.slice(tt,tt+2));return K?(Le.m=K[0]-1,tt+K[0].length):-1}function a(Le,$e,tt){var K=re.exec($e.slice(tt,tt+2));return K?(Le.d=+K[0],tt+K[0].length):-1}function v(Le,$e,tt){var K=re.exec($e.slice(tt,tt+3));return K?(Le.m=0,Le.d=+K[0],tt+K[0].length):-1}function g(Le,$e,tt){var K=re.exec($e.slice(tt,tt+2));return K?(Le.H=+K[0],tt+K[0].length):-1}function h(Le,$e,tt){var K=re.exec($e.slice(tt,tt+2));return K?(Le.M=+K[0],tt+K[0].length):-1}function u(Le,$e,tt){var K=re.exec($e.slice(tt,tt+2));return K?(Le.S=+K[0],tt+K[0].length):-1}function p(Le,$e,tt){var K=re.exec($e.slice(tt,tt+3));return K?(Le.L=+K[0],tt+K[0].length):-1}function y(Le,$e,tt){var K=re.exec($e.slice(tt,tt+6));return K?(Le.L=Math.floor(K[0]/1e3),tt+K[0].length):-1}function m(Le,$e,tt){var K=t.exec($e.slice(tt,tt+1));return K?tt+K[0].length:-1}function x(Le,$e,tt){var K=re.exec($e.slice(tt));return K?(Le.Q=+K[0],tt+K[0].length):-1}function L(Le,$e,tt){var K=re.exec($e.slice(tt));return K?(Le.Q=+K[0]*1e3,tt+K[0].length):-1}function X(Le,$e){return n(Le.getDate(),$e,2)}function R(Le,$e){return n(Le.getHours(),$e,2)}function I(Le,$e){return n(Le.getHours()%12||12,$e,2)}function D(Le,$e){return n(1+r.timeDay.count(r.timeYear(Le),Le),$e,3)}function B(Le,$e){return n(Le.getMilliseconds(),$e,3)}function Q(Le,$e){return B(Le,$e)+"000"}function U(Le,$e){return n(Le.getMonth()+1,$e,2)}function Y(Le,$e){return n(Le.getMinutes(),$e,2)}function pe(Le,$e){return n(Le.getSeconds(),$e,2)}function Ce(Le){var $e=Le.getDay();return $e===0?7:$e}function Pe(Le,$e){return n(r.timeSunday.count(r.timeYear(Le),Le),$e,2)}function l(Le,$e){var tt=Le.getDay();return Le=tt>=4||tt===0?r.timeThursday(Le):r.timeThursday.ceil(Le),n(r.timeThursday.count(r.timeYear(Le),Le)+(r.timeYear(Le).getDay()===4),$e,2)}function F(Le){return Le.getDay()}function S(Le,$e){return n(r.timeMonday.count(r.timeYear(Le),Le),$e,2)}function T(Le,$e){return n(Le.getFullYear()%100,$e,2)}function d(Le,$e){return n(Le.getFullYear()%1e4,$e,4)}function $(Le){var $e=Le.getTimezoneOffset();return($e>0?"-":($e*=-1,"+"))+n($e/60|0,"0",2)+n($e%60,"0",2)}function le(Le,$e){return n(Le.getUTCDate(),$e,2)}function q(Le,$e){return n(Le.getUTCHours(),$e,2)}function ge(Le,$e){return n(Le.getUTCHours()%12||12,$e,2)}function Se(Le,$e){return n(1+r.utcDay.count(r.utcYear(Le),Le),$e,3)}function he(Le,$e){return n(Le.getUTCMilliseconds(),$e,3)}function oe(Le,$e){return he(Le,$e)+"000"}function ye(Le,$e){return n(Le.getUTCMonth()+1,$e,2)}function Oe(Le,$e){return n(Le.getUTCMinutes(),$e,2)}function Xe(Le,$e){return n(Le.getUTCSeconds(),$e,2)}function Be(Le){var $e=Le.getUTCDay();return $e===0?7:$e}function it(Le,$e){return n(r.utcSunday.count(r.utcYear(Le),Le),$e,2)}function mt(Le,$e){var tt=Le.getUTCDay();return Le=tt>=4||tt===0?r.utcThursday(Le):r.utcThursday.ceil(Le),n(r.utcThursday.count(r.utcYear(Le),Le)+(r.utcYear(Le).getUTCDay()===4),$e,2)}function Pt(Le){return Le.getUTCDay()}function Z(Le,$e){return n(r.utcMonday.count(r.utcYear(Le),Le),$e,2)}function ce(Le,$e){return n(Le.getUTCFullYear()%100,$e,2)}function Re(Le,$e){return n(Le.getUTCFullYear()%1e4,$e,4)}function Fe(){return"+0000"}function Me(){return"%"}function E(Le){return+Le}function me(Le){return Math.floor(+Le/1e3)}var G;Ae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ae(Le){return G=i(Le),e.timeFormat=G.format,e.timeParse=G.parse,e.utcFormat=G.utcFormat,e.utcParse=G.utcParse,G}var Ue="%Y-%m-%dT%H:%M:%S.%LZ";function je(Le){return Le.toISOString()}var vt=Date.prototype.toISOString?je:e.utcFormat(Ue);function dt(Le){var $e=new Date(Le);return isNaN($e)?null:$e}var Dt=+new Date("2000-01-01T00:00:00.000Z")?dt:e.utcParse(Ue);e.timeFormatDefaultLocale=Ae,e.timeFormatLocale=i,e.isoFormat=vt,e.isoParse=Dt,Object.defineProperty(e,"__esModule",{value:!0})})});var rs=At((Pi,ns)=>{(function(e,r){typeof Pi=="object"&&typeof ns!="undefined"?r(Pi,zr(),wr(),lr(),$a(),Li(),Xa()):typeof define=="function"&&define.amd?define(["exports","d3-collection","d3-array","d3-interpolate","d3-format","d3-time","d3-time-format"],r):r(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3)})(Pi,function(e,r,f,o,b,i,te){"use strict";function re(N,ie){switch(arguments.length){case 0:break;case 1:this.range(N);break;default:this.range(ie).domain(N);break}return this}function t(N,ie){switch(arguments.length){case 0:break;case 1:this.interpolator(N);break;default:this.interpolator(ie).domain(N);break}return this}var k=Array.prototype,n=k.map,O=k.slice,c={name:"implicit"};function _(){var N=r.map(),ie=[],we=[],ne=c;function H(ee){var J=ee+"",ue=N.get(J);if(!ue){if(ne!==c)return ne;N.set(J,ue=ie.push(ee))}return we[(ue-1)%we.length]}return H.domain=function(ee){if(!arguments.length)return ie.slice();ie=[],N=r.map();for(var J=-1,ue=ee.length,Ee,Ne;++J<ue;)N.has(Ne=(Ee=ee[J])+"")||N.set(Ne,ie.push(Ee));return H},H.range=function(ee){return arguments.length?(we=O.call(ee),H):we.slice()},H.unknown=function(ee){return arguments.length?(ne=ee,H):ne},H.copy=function(){return _(ie,we).unknown(ne)},re.apply(H,arguments),H}function W(){var N=_().unknown(void 0),ie=N.domain,we=N.range,ne=[0,1],H,ee,J=!1,ue=0,Ee=0,Ne=.5;delete N.unknown;function xe(){var qe=ie().length,Ye=ne[1]<ne[0],Je=ne[Ye-0],ht=ne[1-Ye];H=(ht-Je)/Math.max(1,qe-ue+Ee*2),J&&(H=Math.floor(H)),Je+=(ht-Je-H*(qe-ue))*Ne,ee=H*(1-ue),J&&(Je=Math.round(Je),ee=Math.round(ee));var We=f.range(qe).map(function(ot){return Je+H*ot});return we(Ye?We.reverse():We)}return N.domain=function(qe){return arguments.length?(ie(qe),xe()):ie()},N.range=function(qe){return arguments.length?(ne=[+qe[0],+qe[1]],xe()):ne.slice()},N.rangeRound=function(qe){return ne=[+qe[0],+qe[1]],J=!0,xe()},N.bandwidth=function(){return ee},N.step=function(){return H},N.round=function(qe){return arguments.length?(J=!!qe,xe()):J},N.padding=function(qe){return arguments.length?(ue=Math.min(1,Ee=+qe),xe()):ue},N.paddingInner=function(qe){return arguments.length?(ue=Math.min(1,qe),xe()):ue},N.paddingOuter=function(qe){return arguments.length?(Ee=+qe,xe()):Ee},N.align=function(qe){return arguments.length?(Ne=Math.max(0,Math.min(1,qe)),xe()):Ne},N.copy=function(){return W(ie(),ne).round(J).paddingInner(ue).paddingOuter(Ee).align(Ne)},re.apply(xe(),arguments)}function V(N){var ie=N.copy;return N.padding=N.paddingOuter,delete N.paddingInner,delete N.paddingOuter,N.copy=function(){return V(ie())},N}function fe(){return V(W.apply(null,arguments).paddingInner(1))}function j(N){return function(){return N}}function ve(N){return+N}var P=[0,1];function s(N){return N}function A(N,ie){return(ie-=N=+N)?function(we){return(we-N)/ie}:j(isNaN(ie)?NaN:.5)}function C(N){var ie=N[0],we=N[N.length-1],ne;return ie>we&&(ne=ie,ie=we,we=ne),function(H){return Math.max(ie,Math.min(we,H))}}function a(N,ie,we){var ne=N[0],H=N[1],ee=ie[0],J=ie[1];return H<ne?(ne=A(H,ne),ee=we(J,ee)):(ne=A(ne,H),ee=we(ee,J)),function(ue){return ee(ne(ue))}}function v(N,ie,we){var ne=Math.min(N.length,ie.length)-1,H=new Array(ne),ee=new Array(ne),J=-1;for(N[ne]<N[0]&&(N=N.slice().reverse(),ie=ie.slice().reverse());++J<ne;)H[J]=A(N[J],N[J+1]),ee[J]=we(ie[J],ie[J+1]);return function(ue){var Ee=f.bisect(N,ue,1,ne)-1;return ee[Ee](H[Ee](ue))}}function g(N,ie){return ie.domain(N.domain()).range(N.range()).interpolate(N.interpolate()).clamp(N.clamp()).unknown(N.unknown())}function h(){var N=P,ie=P,we=o.interpolate,ne,H,ee,J=s,ue,Ee,Ne;function xe(){return ue=Math.min(N.length,ie.length)>2?v:a,Ee=Ne=null,qe}function qe(Ye){return isNaN(Ye=+Ye)?ee:(Ee||(Ee=ue(N.map(ne),ie,we)))(ne(J(Ye)))}return qe.invert=function(Ye){return J(H((Ne||(Ne=ue(ie,N.map(ne),o.interpolateNumber)))(Ye)))},qe.domain=function(Ye){return arguments.length?(N=n.call(Ye,ve),J===s||(J=C(N)),xe()):N.slice()},qe.range=function(Ye){return arguments.length?(ie=O.call(Ye),xe()):ie.slice()},qe.rangeRound=function(Ye){return ie=O.call(Ye),we=o.interpolateRound,xe()},qe.clamp=function(Ye){return arguments.length?(J=Ye?C(N):s,qe):J!==s},qe.interpolate=function(Ye){return arguments.length?(we=Ye,xe()):we},qe.unknown=function(Ye){return arguments.length?(ee=Ye,qe):ee},function(Ye,Je){return ne=Ye,H=Je,xe()}}function u(N,ie){return h()(N,ie)}function p(N,ie,we,ne){var H=f.tickStep(N,ie,we),ee;switch(ne=b.formatSpecifier(ne??",f"),ne.type){case"s":{var J=Math.max(Math.abs(N),Math.abs(ie));return ne.precision==null&&!isNaN(ee=b.precisionPrefix(H,J))&&(ne.precision=ee),b.formatPrefix(ne,J)}case"":case"e":case"g":case"p":case"r":{ne.precision==null&&!isNaN(ee=b.precisionRound(H,Math.max(Math.abs(N),Math.abs(ie))))&&(ne.precision=ee-(ne.type==="e"));break}case"f":case"%":{ne.precision==null&&!isNaN(ee=b.precisionFixed(H))&&(ne.precision=ee-(ne.type==="%")*2);break}}return b.format(ne)}function y(N){var ie=N.domain;return N.ticks=function(we){var ne=ie();return f.ticks(ne[0],ne[ne.length-1],we??10)},N.tickFormat=function(we,ne){var H=ie();return p(H[0],H[H.length-1],we??10,ne)},N.nice=function(we){we==null&&(we=10);var ne=ie(),H=0,ee=ne.length-1,J=ne[H],ue=ne[ee],Ee;return ue<J&&(Ee=J,J=ue,ue=Ee,Ee=H,H=ee,ee=Ee),Ee=f.tickIncrement(J,ue,we),Ee>0?(J=Math.floor(J/Ee)*Ee,ue=Math.ceil(ue/Ee)*Ee,Ee=f.tickIncrement(J,ue,we)):Ee<0&&(J=Math.ceil(J*Ee)/Ee,ue=Math.floor(ue*Ee)/Ee,Ee=f.tickIncrement(J,ue,we)),Ee>0?(ne[H]=Math.floor(J/Ee)*Ee,ne[ee]=Math.ceil(ue/Ee)*Ee,ie(ne)):Ee<0&&(ne[H]=Math.ceil(J*Ee)/Ee,ne[ee]=Math.floor(ue*Ee)/Ee,ie(ne)),N},N}function m(){var N=u(s,s);return N.copy=function(){return g(N,m())},re.apply(N,arguments),y(N)}function x(N){var ie;function we(ne){return isNaN(ne=+ne)?ie:ne}return we.invert=we,we.domain=we.range=function(ne){return arguments.length?(N=n.call(ne,ve),we):N.slice()},we.unknown=function(ne){return arguments.length?(ie=ne,we):ie},we.copy=function(){return x(N).unknown(ie)},N=arguments.length?n.call(N,ve):[0,1],y(we)}function L(N,ie){N=N.slice();var we=0,ne=N.length-1,H=N[we],ee=N[ne],J;return ee<H&&(J=we,we=ne,ne=J,J=H,H=ee,ee=J),N[we]=ie.floor(H),N[ne]=ie.ceil(ee),N}function X(N){return Math.log(N)}function R(N){return Math.exp(N)}function I(N){return-Math.log(-N)}function D(N){return-Math.exp(-N)}function B(N){return isFinite(N)?+("1e"+N):N<0?0:N}function Q(N){return N===10?B:N===Math.E?Math.exp:function(ie){return Math.pow(N,ie)}}function U(N){return N===Math.E?Math.log:N===10&&Math.log10||N===2&&Math.log2||(N=Math.log(N),function(ie){return Math.log(ie)/N})}function Y(N){return function(ie){return-N(-ie)}}function pe(N){var ie=N(X,R),we=ie.domain,ne=10,H,ee;function J(){return H=U(ne),ee=Q(ne),we()[0]<0?(H=Y(H),ee=Y(ee),N(I,D)):N(X,R),ie}return ie.base=function(ue){return arguments.length?(ne=+ue,J()):ne},ie.domain=function(ue){return arguments.length?(we(ue),J()):we()},ie.ticks=function(ue){var Ee=we(),Ne=Ee[0],xe=Ee[Ee.length-1],qe;(qe=xe<Ne)&&(Ye=Ne,Ne=xe,xe=Ye);var Ye=H(Ne),Je=H(xe),ht,We,ot,wt=ue==null?10:+ue,Ft=[];if(!(ne%1)&&Je-Ye<wt){if(Ye=Math.round(Ye)-1,Je=Math.round(Je)+1,Ne>0){for(;Ye<Je;++Ye)for(We=1,ht=ee(Ye);We<ne;++We)if(ot=ht*We,!(ot<Ne)){if(ot>xe)break;Ft.push(ot)}}else for(;Ye<Je;++Ye)for(We=ne-1,ht=ee(Ye);We>=1;--We)if(ot=ht*We,!(ot<Ne)){if(ot>xe)break;Ft.push(ot)}}else Ft=f.ticks(Ye,Je,Math.min(Je-Ye,wt)).map(ee);return qe?Ft.reverse():Ft},ie.tickFormat=function(ue,Ee){if(Ee==null&&(Ee=ne===10?".0e":","),typeof Ee!="function"&&(Ee=b.format(Ee)),ue===Infinity)return Ee;ue==null&&(ue=10);var Ne=Math.max(1,ne*ue/ie.ticks().length);return function(xe){var qe=xe/ee(Math.round(H(xe)));return qe*ne<ne-.5&&(qe*=ne),qe<=Ne?Ee(xe):""}},ie.nice=function(){return we(L(we(),{floor:function(ue){return ee(Math.floor(H(ue)))},ceil:function(ue){return ee(Math.ceil(H(ue)))}}))},ie}function Ce(){var N=pe(h()).domain([1,10]);return N.copy=function(){return g(N,Ce()).base(N.base())},re.apply(N,arguments),N}function Pe(N){return function(ie){return Math.sign(ie)*Math.log1p(Math.abs(ie/N))}}function l(N){return function(ie){return Math.sign(ie)*Math.expm1(Math.abs(ie))*N}}function F(N){var ie=1,we=N(Pe(ie),l(ie));return we.constant=function(ne){return arguments.length?N(Pe(ie=+ne),l(ie)):ie},y(we)}function S(){var N=F(h());return N.copy=function(){return g(N,S()).constant(N.constant())},re.apply(N,arguments)}function T(N){return function(ie){return ie<0?-Math.pow(-ie,N):Math.pow(ie,N)}}function d(N){return N<0?-Math.sqrt(-N):Math.sqrt(N)}function $(N){return N<0?-N*N:N*N}function le(N){var ie=N(s,s),we=1;function ne(){return we===1?N(s,s):we===.5?N(d,$):N(T(we),T(1/we))}return ie.exponent=function(H){return arguments.length?(we=+H,ne()):we},y(ie)}function q(){var N=le(h());return N.copy=function(){return g(N,q()).exponent(N.exponent())},re.apply(N,arguments),N}function ge(){return q.apply(null,arguments).exponent(.5)}function Se(){var N=[],ie=[],we=[],ne;function H(){var J=0,ue=Math.max(1,ie.length);for(we=new Array(ue-1);++J<ue;)we[J-1]=f.quantile(N,J/ue);return ee}function ee(J){return isNaN(J=+J)?ne:ie[f.bisect(we,J)]}return ee.invertExtent=function(J){var ue=ie.indexOf(J);return ue<0?[NaN,NaN]:[ue>0?we[ue-1]:N[0],ue<we.length?we[ue]:N[N.length-1]]},ee.domain=function(J){if(!arguments.length)return N.slice();N=[];for(var ue=0,Ee=J.length,Ne;ue<Ee;++ue)Ne=J[ue],Ne!=null&&!isNaN(Ne=+Ne)&&N.push(Ne);return N.sort(f.ascending),H()},ee.range=function(J){return arguments.length?(ie=O.call(J),H()):ie.slice()},ee.unknown=function(J){return arguments.length?(ne=J,ee):ne},ee.quantiles=function(){return we.slice()},ee.copy=function(){return Se().domain(N).range(ie).unknown(ne)},re.apply(ee,arguments)}function he(){var N=0,ie=1,we=1,ne=[.5],H=[0,1],ee;function J(Ee){return Ee<=Ee?H[f.bisect(ne,Ee,0,we)]:ee}function ue(){var Ee=-1;for(ne=new Array(we);++Ee<we;)ne[Ee]=((Ee+1)*ie-(Ee-we)*N)/(we+1);return J}return J.domain=function(Ee){return arguments.length?(N=+Ee[0],ie=+Ee[1],ue()):[N,ie]},J.range=function(Ee){return arguments.length?(we=(H=O.call(Ee)).length-1,ue()):H.slice()},J.invertExtent=function(Ee){var Ne=H.indexOf(Ee);return Ne<0?[NaN,NaN]:Ne<1?[N,ne[0]]:Ne>=we?[ne[we-1],ie]:[ne[Ne-1],ne[Ne]]},J.unknown=function(Ee){return arguments.length&&(ee=Ee),J},J.thresholds=function(){return ne.slice()},J.copy=function(){return he().domain([N,ie]).range(H).unknown(ee)},re.apply(y(J),arguments)}function oe(){var N=[.5],ie=[0,1],we,ne=1;function H(ee){return ee<=ee?ie[f.bisect(N,ee,0,ne)]:we}return H.domain=function(ee){return arguments.length?(N=O.call(ee),ne=Math.min(N.length,ie.length-1),H):N.slice()},H.range=function(ee){return arguments.length?(ie=O.call(ee),ne=Math.min(N.length,ie.length-1),H):ie.slice()},H.invertExtent=function(ee){var J=ie.indexOf(ee);return[N[J-1],N[J]]},H.unknown=function(ee){return arguments.length?(we=ee,H):we},H.copy=function(){return oe().domain(N).range(ie).unknown(we)},re.apply(H,arguments)}var ye=1e3,Oe=ye*60,Xe=Oe*60,Be=Xe*24,it=Be*7,mt=Be*30,Pt=Be*365;function Z(N){return new Date(N)}function ce(N){return N instanceof Date?+N:+new Date(+N)}function Re(N,ie,we,ne,H,ee,J,ue,Ee){var Ne=u(s,s),xe=Ne.invert,qe=Ne.domain,Ye=Ee(".%L"),Je=Ee(":%S"),ht=Ee("%I:%M"),We=Ee("%I %p"),ot=Ee("%a %d"),wt=Ee("%b %d"),Ft=Ee("%B"),Ct=Ee("%Y"),Rt=[[J,1,ye],[J,5,5*ye],[J,15,15*ye],[J,30,30*ye],[ee,1,Oe],[ee,5,5*Oe],[ee,15,15*Oe],[ee,30,30*Oe],[H,1,Xe],[H,3,3*Xe],[H,6,6*Xe],[H,12,12*Xe],[ne,1,Be],[ne,2,2*Be],[we,1,it],[ie,1,mt],[ie,3,3*mt],[N,1,Pt]];function $t(St){return(J(St)<St?Ye:ee(St)<St?Je:H(St)<St?ht:ne(St)<St?We:ie(St)<St?we(St)<St?ot:wt:N(St)<St?Ft:Ct)(St)}function Gt(St,Wt,Yt,nn){if(St==null&&(St=10),typeof St=="number"){var an=Math.abs(Yt-Wt)/St,ln=f.bisector(function(_e){return _e[2]}).right(Rt,an);ln===Rt.length?(nn=f.tickStep(Wt/Pt,Yt/Pt,St),St=N):ln?(ln=Rt[an/Rt[ln-1][2]<Rt[ln][2]/an?ln-1:ln],nn=ln[1],St=ln[0]):(nn=Math.max(f.tickStep(Wt,Yt,St),1),St=ue)}return nn==null?St:St.every(nn)}return Ne.invert=function(St){return new Date(xe(St))},Ne.domain=function(St){return arguments.length?qe(n.call(St,ce)):qe().map(Z)},Ne.ticks=function(St,Wt){var Yt=qe(),nn=Yt[0],an=Yt[Yt.length-1],ln=an<nn,_e;return ln&&(_e=nn,nn=an,an=_e),_e=Gt(St,nn,an,Wt),_e=_e?_e.range(nn,an+1):[],ln?_e.reverse():_e},Ne.tickFormat=function(St,Wt){return Wt==null?$t:Ee(Wt)},Ne.nice=function(St,Wt){var Yt=qe();return(St=Gt(St,Yt[0],Yt[Yt.length-1],Wt))?qe(L(Yt,St)):Ne},Ne.copy=function(){return g(Ne,Re(N,ie,we,ne,H,ee,J,ue,Ee))},Ne}function Fe(){return re.apply(Re(i.timeYear,i.timeMonth,i.timeWeek,i.timeDay,i.timeHour,i.timeMinute,i.timeSecond,i.timeMillisecond,te.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Me(){return re.apply(Re(i.utcYear,i.utcMonth,i.utcWeek,i.utcDay,i.utcHour,i.utcMinute,i.utcSecond,i.utcMillisecond,te.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E(){var N=0,ie=1,we,ne,H,ee,J=s,ue=!1,Ee;function Ne(xe){return isNaN(xe=+xe)?Ee:J(H===0?.5:(xe=(ee(xe)-we)*H,ue?Math.max(0,Math.min(1,xe)):xe))}return Ne.domain=function(xe){return arguments.length?(we=ee(N=+xe[0]),ne=ee(ie=+xe[1]),H=we===ne?0:1/(ne-we),Ne):[N,ie]},Ne.clamp=function(xe){return arguments.length?(ue=!!xe,Ne):ue},Ne.interpolator=function(xe){return arguments.length?(J=xe,Ne):J},Ne.unknown=function(xe){return arguments.length?(Ee=xe,Ne):Ee},function(xe){return ee=xe,we=xe(N),ne=xe(ie),H=we===ne?0:1/(ne-we),Ne}}function me(N,ie){return ie.domain(N.domain()).interpolator(N.interpolator()).clamp(N.clamp()).unknown(N.unknown())}function G(){var N=y(E()(s));return N.copy=function(){return me(N,G())},t.apply(N,arguments)}function Ae(){var N=pe(E()).domain([1,10]);return N.copy=function(){return me(N,Ae()).base(N.base())},t.apply(N,arguments)}function Ue(){var N=F(E());return N.copy=function(){return me(N,Ue()).constant(N.constant())},t.apply(N,arguments)}function je(){var N=le(E());return N.copy=function(){return me(N,je()).exponent(N.exponent())},t.apply(N,arguments)}function vt(){return je.apply(null,arguments).exponent(.5)}function dt(){var N=[],ie=s;function we(ne){if(!isNaN(ne=+ne))return ie((f.bisect(N,ne)-1)/(N.length-1))}return we.domain=function(ne){if(!arguments.length)return N.slice();N=[];for(var H=0,ee=ne.length,J;H<ee;++H)J=ne[H],J!=null&&!isNaN(J=+J)&&N.push(J);return N.sort(f.ascending),we},we.interpolator=function(ne){return arguments.length?(ie=ne,we):ie},we.copy=function(){return dt(ie).domain(N)},t.apply(we,arguments)}function Dt(){var N=0,ie=.5,we=1,ne,H,ee,J,ue,Ee=s,Ne,xe=!1,qe;function Ye(Je){return isNaN(Je=+Je)?qe:(Je=.5+((Je=+Ne(Je))-H)*(Je<H?J:ue),Ee(xe?Math.max(0,Math.min(1,Je)):Je))}return Ye.domain=function(Je){return arguments.length?(ne=Ne(N=+Je[0]),H=Ne(ie=+Je[1]),ee=Ne(we=+Je[2]),J=ne===H?0:.5/(H-ne),ue=H===ee?0:.5/(ee-H),Ye):[N,ie,we]},Ye.clamp=function(Je){return arguments.length?(xe=!!Je,Ye):xe},Ye.interpolator=function(Je){return arguments.length?(Ee=Je,Ye):Ee},Ye.unknown=function(Je){return arguments.length?(qe=Je,Ye):qe},function(Je){return Ne=Je,ne=Je(N),H=Je(ie),ee=Je(we),J=ne===H?0:.5/(H-ne),ue=H===ee?0:.5/(ee-H),Ye}}function Le(){var N=y(Dt()(s));return N.copy=function(){return me(N,Le())},t.apply(N,arguments)}function $e(){var N=pe(Dt()).domain([.1,1,10]);return N.copy=function(){return me(N,$e()).base(N.base())},t.apply(N,arguments)}function tt(){var N=F(Dt());return N.copy=function(){return me(N,tt()).constant(N.constant())},t.apply(N,arguments)}function K(){var N=le(Dt());return N.copy=function(){return me(N,K()).exponent(N.exponent())},t.apply(N,arguments)}function be(){return K.apply(null,arguments).exponent(.5)}e.scaleBand=W,e.scalePoint=fe,e.scaleIdentity=x,e.scaleLinear=m,e.scaleLog=Ce,e.scaleSymlog=S,e.scaleOrdinal=_,e.scaleImplicit=c,e.scalePow=q,e.scaleSqrt=ge,e.scaleQuantile=Se,e.scaleQuantize=he,e.scaleThreshold=oe,e.scaleTime=Fe,e.scaleUtc=Me,e.scaleSequential=G,e.scaleSequentialLog=Ae,e.scaleSequentialPow=je,e.scaleSequentialSqrt=vt,e.scaleSequentialSymlog=Ue,e.scaleSequentialQuantile=dt,e.scaleDiverging=Le,e.scaleDivergingLog=$e,e.scaleDivergingPow=K,e.scaleDivergingSqrt=be,e.scaleDivergingSymlog=tt,e.tickFormat=p,Object.defineProperty(e,"__esModule",{value:!0})})});var as=At((Ni,is)=>{(function(e,r){typeof Ni=="object"&&typeof is!="undefined"?r(Ni,lr(),Ir()):typeof define=="function"&&define.amd?define(["exports","d3-interpolate","d3-color"],r):(e=e||self,r(e.d3=e.d3||{},e.d3,e.d3))})(Ni,function(e,r,f){"use strict";function o(ne){for(var H=ne.length/6|0,ee=new Array(H),J=0;J<H;)ee[J]="#"+ne.slice(J*6,++J*6);return ee}var b=o("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),i=o("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),te=o("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),re=o("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),t=o("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),k=o("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),n=o("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),O=o("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),c=o("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),_=o("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function W(ne){return r.interpolateRgbBasis(ne[ne.length-1])}var V=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(o),fe=W(V),j=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(o),ve=W(j),P=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(o),s=W(P),A=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(o),C=W(A),a=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(o),v=W(a),g=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(o),h=W(g),u=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(o),p=W(u),y=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(o),m=W(y),x=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(o),L=W(x),X=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(o),R=W(X),I=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(o),D=W(I),B=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(o),Q=W(B),U=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(o),Y=W(U),pe=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(o),Ce=W(pe),Pe=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(o),l=W(Pe),F=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(o),S=W(F),T=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(o),d=W(T),$=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(o),le=W($),q=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(o),ge=W(q),Se=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(o),he=W(Se),oe=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(o),ye=W(oe),Oe=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(o),Xe=W(Oe),Be=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(o),it=W(Be),mt=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(o),Pt=W(mt),Z=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(o),ce=W(Z),Re=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(o),Fe=W(Re),Me=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(o),E=W(Me);function me(ne){return ne=Math.max(0,Math.min(1,ne)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-ne*(35.34-ne*(2381.73-ne*(6402.7-ne*(7024.72-ne*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+ne*(170.73+ne*(52.82-ne*(131.46-ne*(176.58-ne*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+ne*(442.36-ne*(2482.43-ne*(6167.24-ne*(6614.94-ne*2475.67)))))))+")"}var G=r.interpolateCubehelixLong(f.cubehelix(300,.5,0),f.cubehelix(-240,.5,1)),Ae=r.interpolateCubehelixLong(f.cubehelix(-100,.75,.35),f.cubehelix(80,1.5,.8)),Ue=r.interpolateCubehelixLong(f.cubehelix(260,.75,.35),f.cubehelix(80,1.5,.8)),je=f.cubehelix();function vt(ne){(ne<0||ne>1)&&(ne-=Math.floor(ne));var H=Math.abs(ne-.5);return je.h=360*ne-100,je.s=1.5-1.5*H,je.l=.8-.9*H,je+""}var dt=f.rgb(),Dt=Math.PI/3,Le=Math.PI*2/3;function $e(ne){var H;return ne=(.5-ne)*Math.PI,dt.r=255*(H=Math.sin(ne))*H,dt.g=255*(H=Math.sin(ne+Dt))*H,dt.b=255*(H=Math.sin(ne+Le))*H,dt+""}function tt(ne){return ne=Math.max(0,Math.min(1,ne)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+ne*(1172.33-ne*(10793.56-ne*(33300.12-ne*(38394.49-ne*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+ne*(557.33+ne*(1225.33-ne*(3574.96-ne*(1073.77+ne*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+ne*(3211.1-ne*(15327.97-ne*(27814-ne*(22569.18-ne*6838.66)))))))+")"}function K(ne){var H=ne.length;return function(ee){return ne[Math.max(0,Math.min(H-1,Math.floor(ee*H)))]}}var be=K(o("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),N=K(o("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ie=K(o("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),we=K(o("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));e.interpolateBlues=Xe,e.interpolateBrBG=fe,e.interpolateBuGn=R,e.interpolateBuPu=D,e.interpolateCividis=me,e.interpolateCool=Ue,e.interpolateCubehelixDefault=G,e.interpolateGnBu=Q,e.interpolateGreens=it,e.interpolateGreys=Pt,e.interpolateInferno=ie,e.interpolateMagma=N,e.interpolateOrRd=Y,e.interpolateOranges=E,e.interpolatePRGn=ve,e.interpolatePiYG=s,e.interpolatePlasma=we,e.interpolatePuBu=l,e.interpolatePuBuGn=Ce,e.interpolatePuOr=C,e.interpolatePuRd=S,e.interpolatePurples=ce,e.interpolateRainbow=vt,e.interpolateRdBu=v,e.interpolateRdGy=h,e.interpolateRdPu=d,e.interpolateRdYlBu=p,e.interpolateRdYlGn=m,e.interpolateReds=Fe,e.interpolateSinebow=$e,e.interpolateSpectral=L,e.interpolateTurbo=tt,e.interpolateViridis=be,e.interpolateWarm=Ae,e.interpolateYlGn=ge,e.interpolateYlGnBu=le,e.interpolateYlOrBr=he,e.interpolateYlOrRd=ye,e.schemeAccent=i,e.schemeBlues=Oe,e.schemeBrBG=V,e.schemeBuGn=X,e.schemeBuPu=I,e.schemeCategory10=b,e.schemeDark2=te,e.schemeGnBu=B,e.schemeGreens=Be,e.schemeGreys=mt,e.schemeOrRd=U,e.schemeOranges=Me,e.schemePRGn=j,e.schemePaired=re,e.schemePastel1=t,e.schemePastel2=k,e.schemePiYG=P,e.schemePuBu=Pe,e.schemePuBuGn=pe,e.schemePuOr=A,e.schemePuRd=F,e.schemePurples=Z,e.schemeRdBu=a,e.schemeRdGy=g,e.schemeRdPu=T,e.schemeRdYlBu=u,e.schemeRdYlGn=y,e.schemeReds=Re,e.schemeSet1=n,e.schemeSet2=O,e.schemeSet3=c,e.schemeSpectral=x,e.schemeTableau10=_,e.schemeYlGn=q,e.schemeYlGnBu=$,e.schemeYlOrBr=Se,e.schemeYlOrRd=oe,Object.defineProperty(e,"__esModule",{value:!0})})});var os=At((Oi,us)=>{(function(e,r){typeof Oi=="object"&&typeof us!="undefined"?r(Oi,mi()):typeof define=="function"&&define.amd?define(["exports","d3-path"],r):r(e.d3=e.d3||{},e.d3)})(Oi,function(e,r){"use strict";var f=function(M){return function(){return M}},o=Math.abs,b=Math.atan2,i=Math.cos,te=Math.max,re=Math.min,t=Math.sin,k=Math.sqrt,n=1e-12,O=Math.PI,c=O/2,_=2*O;function W(M){return M>1?0:M<-1?O:Math.acos(M)}function V(M){return M>=1?c:M<=-1?-c:Math.asin(M)}function fe(M){return M.innerRadius}function j(M){return M.outerRadius}function ve(M){return M.startAngle}function P(M){return M.endAngle}function s(M){return M&&M.padAngle}function A(M,de,Te,Ie,Ke,rt,ft,He){var ct=Te-M,Mt=Ie-de,_t=ft-Ke,Nt=He-rt,Kt=(_t*(de-rt)-Nt*(M-Ke))/(Nt*ct-_t*Mt);return[M+Kt*ct,de+Kt*Mt]}function C(M,de,Te,Ie,Ke,rt,ft){var He=M-Te,ct=de-Ie,Mt=(ft?rt:-rt)/k(He*He+ct*ct),_t=Mt*ct,Nt=-Mt*He,Kt=M+_t,rn=de+Nt,Qt=Te+_t,sn=Ie+Nt,tn=(Kt+Qt)/2,gn=(rn+sn)/2,bn=Qt-Kt,yn=sn-rn,_n=bn*bn+yn*yn,Sn=Ke-rt,Mn=Kt*sn-Qt*rn,Ln=(yn<0?-1:1)*k(te(0,Sn*Sn*_n-Mn*Mn)),Nn=(Mn*yn-bn*Ln)/_n,xn=(-Mn*bn-yn*Ln)/_n,Cn=(Mn*yn+bn*Ln)/_n,kn=(-Mn*bn+yn*Ln)/_n,jt=Nn-tn,on=xn-gn,On=Cn-tn,Dn=kn-gn;return jt*jt+on*on>On*On+Dn*Dn&&(Nn=Cn,xn=kn),{cx:Nn,cy:xn,x01:-_t,y01:-Nt,x11:Nn*(Ke/Sn-1),y11:xn*(Ke/Sn-1)}}var a=function(){var M=fe,de=j,Te=f(0),Ie=null,Ke=ve,rt=P,ft=s,He=null;function ct(){var Mt,_t,Nt=+M.apply(this,arguments),Kt=+de.apply(this,arguments),rn=Ke.apply(this,arguments)-c,Qt=rt.apply(this,arguments)-c,sn=o(Qt-rn),tn=Qt>rn;if(He||(He=Mt=r.path()),Kt<Nt&&(_t=Kt,Kt=Nt,Nt=_t),!(Kt>n))He.moveTo(0,0);else if(sn>_-n)He.moveTo(Kt*i(rn),Kt*t(rn)),He.arc(0,0,Kt,rn,Qt,!tn),Nt>n&&(He.moveTo(Nt*i(Qt),Nt*t(Qt)),He.arc(0,0,Nt,Qt,rn,tn));else{var gn=rn,bn=Qt,yn=rn,_n=Qt,Sn=sn,Mn=sn,Ln=ft.apply(this,arguments)/2,Nn=Ln>n&&(Ie?+Ie.apply(this,arguments):k(Nt*Nt+Kt*Kt)),xn=re(o(Kt-Nt)/2,+Te.apply(this,arguments)),Cn=xn,kn=xn,jt,on;if(Nn>n){var On=V(Nn/Nt*t(Ln)),Dn=V(Nn/Kt*t(Ln));(Sn-=On*2)>n?(On*=tn?1:-1,yn+=On,_n-=On):(Sn=0,yn=_n=(rn+Qt)/2),(Mn-=Dn*2)>n?(Dn*=tn?1:-1,gn+=Dn,bn-=Dn):(Mn=0,gn=bn=(rn+Qt)/2)}var $n=Kt*i(gn),Bn=Kt*t(gn),Jn=Nt*i(_n),Xn=Nt*t(_n);if(xn>n){var er=Kt*i(bn),tr=Kt*t(bn),_r=Nt*i(yn),xr=Nt*t(yn);if(sn<O){var En=Sn>n?A($n,Bn,_r,xr,er,tr,Jn,Xn):[Jn,Xn],nr=$n-En[0],rr=Bn-En[1],dr=er-En[0],hr=tr-En[1],gr=1/t(W((nr*dr+rr*hr)/(k(nr*nr+rr*rr)*k(dr*dr+hr*hr)))/2),vr=k(En[0]*En[0]+En[1]*En[1]);Cn=re(xn,(Nt-vr)/(gr-1)),kn=re(xn,(Kt-vr)/(gr+1))}}Mn>n?kn>n?(jt=C(_r,xr,$n,Bn,Kt,kn,tn),on=C(er,tr,Jn,Xn,Kt,kn,tn),He.moveTo(jt.cx+jt.x01,jt.cy+jt.y01),kn<xn?He.arc(jt.cx,jt.cy,kn,b(jt.y01,jt.x01),b(on.y01,on.x01),!tn):(He.arc(jt.cx,jt.cy,kn,b(jt.y01,jt.x01),b(jt.y11,jt.x11),!tn),He.arc(0,0,Kt,b(jt.cy+jt.y11,jt.cx+jt.x11),b(on.cy+on.y11,on.cx+on.x11),!tn),He.arc(on.cx,on.cy,kn,b(on.y11,on.x11),b(on.y01,on.x01),!tn))):(He.moveTo($n,Bn),He.arc(0,0,Kt,gn,bn,!tn)):He.moveTo($n,Bn),!(Nt>n)||!(Sn>n)?He.lineTo(Jn,Xn):Cn>n?(jt=C(Jn,Xn,er,tr,Nt,-Cn,tn),on=C($n,Bn,_r,xr,Nt,-Cn,tn),He.lineTo(jt.cx+jt.x01,jt.cy+jt.y01),Cn<xn?He.arc(jt.cx,jt.cy,Cn,b(jt.y01,jt.x01),b(on.y01,on.x01),!tn):(He.arc(jt.cx,jt.cy,Cn,b(jt.y01,jt.x01),b(jt.y11,jt.x11),!tn),He.arc(0,0,Nt,b(jt.cy+jt.y11,jt.cx+jt.x11),b(on.cy+on.y11,on.cx+on.x11),tn),He.arc(on.cx,on.cy,Cn,b(on.y11,on.x11),b(on.y01,on.x01),!tn))):He.arc(0,0,Nt,_n,yn,tn)}if(He.closePath(),Mt)return He=null,Mt+""||null}return ct.centroid=function(){var Mt=(+M.apply(this,arguments)+ +de.apply(this,arguments))/2,_t=(+Ke.apply(this,arguments)+ +rt.apply(this,arguments))/2-O/2;return[i(_t)*Mt,t(_t)*Mt]},ct.innerRadius=function(Mt){return arguments.length?(M=typeof Mt=="function"?Mt:f(+Mt),ct):M},ct.outerRadius=function(Mt){return arguments.length?(de=typeof Mt=="function"?Mt:f(+Mt),ct):de},ct.cornerRadius=function(Mt){return arguments.length?(Te=typeof Mt=="function"?Mt:f(+Mt),ct):Te},ct.padRadius=function(Mt){return arguments.length?(Ie=Mt==null?null:typeof Mt=="function"?Mt:f(+Mt),ct):Ie},ct.startAngle=function(Mt){return arguments.length?(Ke=typeof Mt=="function"?Mt:f(+Mt),ct):Ke},ct.endAngle=function(Mt){return arguments.length?(rt=typeof Mt=="function"?Mt:f(+Mt),ct):rt},ct.padAngle=function(Mt){return arguments.length?(ft=typeof Mt=="function"?Mt:f(+Mt),ct):ft},ct.context=function(Mt){return arguments.length?(He=Mt??null,ct):He},ct};function v(M){this._context=M}v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(M,de){switch(M=+M,de=+de,this._point){case 0:this._point=1,this._line?this._context.lineTo(M,de):this._context.moveTo(M,de);break;case 1:this._point=2;default:this._context.lineTo(M,de);break}}};var g=function(M){return new v(M)};function h(M){return M[0]}function u(M){return M[1]}var p=function(){var M=h,de=u,Te=f(!0),Ie=null,Ke=g,rt=null;function ft(He){var ct,Mt=He.length,_t,Nt=!1,Kt;for(Ie==null&&(rt=Ke(Kt=r.path())),ct=0;ct<=Mt;++ct)!(ct<Mt&&Te(_t=He[ct],ct,He))===Nt&&((Nt=!Nt)?rt.lineStart():rt.lineEnd()),Nt&&rt.point(+M(_t,ct,He),+de(_t,ct,He));if(Kt)return rt=null,Kt+""||null}return ft.x=function(He){return arguments.length?(M=typeof He=="function"?He:f(+He),ft):M},ft.y=function(He){return arguments.length?(de=typeof He=="function"?He:f(+He),ft):de},ft.defined=function(He){return arguments.length?(Te=typeof He=="function"?He:f(!!He),ft):Te},ft.curve=function(He){return arguments.length?(Ke=He,Ie!=null&&(rt=Ke(Ie)),ft):Ke},ft.context=function(He){return arguments.length?(He==null?Ie=rt=null:rt=Ke(Ie=He),ft):Ie},ft},y=function(){var M=h,de=null,Te=f(0),Ie=u,Ke=f(!0),rt=null,ft=g,He=null;function ct(_t){var Nt,Kt,rn,Qt=_t.length,sn,tn=!1,gn,bn=new Array(Qt),yn=new Array(Qt);for(rt==null&&(He=ft(gn=r.path())),Nt=0;Nt<=Qt;++Nt){if(!(Nt<Qt&&Ke(sn=_t[Nt],Nt,_t))===tn)if(tn=!tn)Kt=Nt,He.areaStart(),He.lineStart();else{for(He.lineEnd(),He.lineStart(),rn=Nt-1;rn>=Kt;--rn)He.point(bn[rn],yn[rn]);He.lineEnd(),He.areaEnd()}tn&&(bn[Nt]=+M(sn,Nt,_t),yn[Nt]=+Te(sn,Nt,_t),He.point(de?+de(sn,Nt,_t):bn[Nt],Ie?+Ie(sn,Nt,_t):yn[Nt]))}if(gn)return He=null,gn+""||null}function Mt(){return p().defined(Ke).curve(ft).context(rt)}return ct.x=function(_t){return arguments.length?(M=typeof _t=="function"?_t:f(+_t),de=null,ct):M},ct.x0=function(_t){return arguments.length?(M=typeof _t=="function"?_t:f(+_t),ct):M},ct.x1=function(_t){return arguments.length?(de=_t==null?null:typeof _t=="function"?_t:f(+_t),ct):de},ct.y=function(_t){return arguments.length?(Te=typeof _t=="function"?_t:f(+_t),Ie=null,ct):Te},ct.y0=function(_t){return arguments.length?(Te=typeof _t=="function"?_t:f(+_t),ct):Te},ct.y1=function(_t){return arguments.length?(Ie=_t==null?null:typeof _t=="function"?_t:f(+_t),ct):Ie},ct.lineX0=ct.lineY0=function(){return Mt().x(M).y(Te)},ct.lineY1=function(){return Mt().x(M).y(Ie)},ct.lineX1=function(){return Mt().x(de).y(Te)},ct.defined=function(_t){return arguments.length?(Ke=typeof _t=="function"?_t:f(!!_t),ct):Ke},ct.curve=function(_t){return arguments.length?(ft=_t,rt!=null&&(He=ft(rt)),ct):ft},ct.context=function(_t){return arguments.length?(_t==null?rt=He=null:He=ft(rt=_t),ct):rt},ct},m=function(M,de){return de<M?-1:de>M?1:de>=M?0:NaN},x=function(M){return M},L=function(){var M=x,de=m,Te=null,Ie=f(0),Ke=f(_),rt=f(0);function ft(He){var ct,Mt=He.length,_t,Nt,Kt=0,rn=new Array(Mt),Qt=new Array(Mt),sn=+Ie.apply(this,arguments),tn=Math.min(_,Math.max(-_,Ke.apply(this,arguments)-sn)),gn,bn=Math.min(Math.abs(tn)/Mt,rt.apply(this,arguments)),yn=bn*(tn<0?-1:1),_n;for(ct=0;ct<Mt;++ct)(_n=Qt[rn[ct]=ct]=+M(He[ct],ct,He))>0&&(Kt+=_n);for(de!=null?rn.sort(function(Sn,Mn){return de(Qt[Sn],Qt[Mn])}):Te!=null&&rn.sort(function(Sn,Mn){return Te(He[Sn],He[Mn])}),ct=0,Nt=Kt?(tn-Mt*yn)/Kt:0;ct<Mt;++ct,sn=gn)_t=rn[ct],_n=Qt[_t],gn=sn+(_n>0?_n*Nt:0)+yn,Qt[_t]={data:He[_t],index:ct,value:_n,startAngle:sn,endAngle:gn,padAngle:bn};return Qt}return ft.value=function(He){return arguments.length?(M=typeof He=="function"?He:f(+He),ft):M},ft.sortValues=function(He){return arguments.length?(de=He,Te=null,ft):de},ft.sort=function(He){return arguments.length?(Te=He,de=null,ft):Te},ft.startAngle=function(He){return arguments.length?(Ie=typeof He=="function"?He:f(+He),ft):Ie},ft.endAngle=function(He){return arguments.length?(Ke=typeof He=="function"?He:f(+He),ft):Ke},ft.padAngle=function(He){return arguments.length?(rt=typeof He=="function"?He:f(+He),ft):rt},ft},X=I(g);function R(M){this._curve=M}R.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(M,de){this._curve.point(de*Math.sin(M),de*-Math.cos(M))}};function I(M){function de(Te){return new R(M(Te))}return de._curve=M,de}function D(M){var de=M.curve;return M.angle=M.x,delete M.x,M.radius=M.y,delete M.y,M.curve=function(Te){return arguments.length?de(I(Te)):de()._curve},M}var B=function(){return D(p().curve(X))},Q=function(){var M=y().curve(X),de=M.curve,Te=M.lineX0,Ie=M.lineX1,Ke=M.lineY0,rt=M.lineY1;return M.angle=M.x,delete M.x,M.startAngle=M.x0,delete M.x0,M.endAngle=M.x1,delete M.x1,M.radius=M.y,delete M.y,M.innerRadius=M.y0,delete M.y0,M.outerRadius=M.y1,delete M.y1,M.lineStartAngle=function(){return D(Te())},delete M.lineX0,M.lineEndAngle=function(){return D(Ie())},delete M.lineX1,M.lineInnerRadius=function(){return D(Ke())},delete M.lineY0,M.lineOuterRadius=function(){return D(rt())},delete M.lineY1,M.curve=function(ft){return arguments.length?de(I(ft)):de()._curve},M},U=function(M,de){return[(de=+de)*Math.cos(M-=Math.PI/2),de*Math.sin(M)]},Y=Array.prototype.slice;function pe(M){return M.source}function Ce(M){return M.target}function Pe(M){var de=pe,Te=Ce,Ie=h,Ke=u,rt=null;function ft(){var He,ct=Y.call(arguments),Mt=de.apply(this,ct),_t=Te.apply(this,ct);if(rt||(rt=He=r.path()),M(rt,+Ie.apply(this,(ct[0]=Mt,ct)),+Ke.apply(this,ct),+Ie.apply(this,(ct[0]=_t,ct)),+Ke.apply(this,ct)),He)return rt=null,He+""||null}return ft.source=function(He){return arguments.length?(de=He,ft):de},ft.target=function(He){return arguments.length?(Te=He,ft):Te},ft.x=function(He){return arguments.length?(Ie=typeof He=="function"?He:f(+He),ft):Ie},ft.y=function(He){return arguments.length?(Ke=typeof He=="function"?He:f(+He),ft):Ke},ft.context=function(He){return arguments.length?(rt=He??null,ft):rt},ft}function l(M,de,Te,Ie,Ke){M.moveTo(de,Te),M.bezierCurveTo(de=(de+Ie)/2,Te,de,Ke,Ie,Ke)}function F(M,de,Te,Ie,Ke){M.moveTo(de,Te),M.bezierCurveTo(de,Te=(Te+Ke)/2,Ie,Te,Ie,Ke)}function S(M,de,Te,Ie,Ke){var rt=U(de,Te),ft=U(de,Te=(Te+Ke)/2),He=U(Ie,Te),ct=U(Ie,Ke);M.moveTo(rt[0],rt[1]),M.bezierCurveTo(ft[0],ft[1],He[0],He[1],ct[0],ct[1])}function T(){return Pe(l)}function d(){return Pe(F)}function $(){var M=Pe(S);return M.angle=M.x,delete M.x,M.radius=M.y,delete M.y,M}var le={draw:function(M,de){var Te=Math.sqrt(de/O);M.moveTo(Te,0),M.arc(0,0,Te,0,_)}},q={draw:function(M,de){var Te=Math.sqrt(de/5)/2;M.moveTo(-3*Te,-Te),M.lineTo(-Te,-Te),M.lineTo(-Te,-3*Te),M.lineTo(Te,-3*Te),M.lineTo(Te,-Te),M.lineTo(3*Te,-Te),M.lineTo(3*Te,Te),M.lineTo(Te,Te),M.lineTo(Te,3*Te),M.lineTo(-Te,3*Te),M.lineTo(-Te,Te),M.lineTo(-3*Te,Te),M.closePath()}},ge=Math.sqrt(1/3),Se=ge*2,he={draw:function(M,de){var Te=Math.sqrt(de/Se),Ie=Te*ge;M.moveTo(0,-Te),M.lineTo(Ie,0),M.lineTo(0,Te),M.lineTo(-Ie,0),M.closePath()}},oe=.8908130915292852,ye=Math.sin(O/10)/Math.sin(7*O/10),Oe=Math.sin(_/10)*ye,Xe=-Math.cos(_/10)*ye,Be={draw:function(M,de){var Te=Math.sqrt(de*oe),Ie=Oe*Te,Ke=Xe*Te;M.moveTo(0,-Te),M.lineTo(Ie,Ke);for(var rt=1;rt<5;++rt){var ft=_*rt/5,He=Math.cos(ft),ct=Math.sin(ft);M.lineTo(ct*Te,-He*Te),M.lineTo(He*Ie-ct*Ke,ct*Ie+He*Ke)}M.closePath()}},it={draw:function(M,de){var Te=Math.sqrt(de),Ie=-Te/2;M.rect(Ie,Ie,Te,Te)}},mt=Math.sqrt(3),Pt={draw:function(M,de){var Te=-Math.sqrt(de/(mt*3));M.moveTo(0,Te*2),M.lineTo(-mt*Te,-Te),M.lineTo(mt*Te,-Te),M.closePath()}},Z=-.5,ce=Math.sqrt(3)/2,Re=1/Math.sqrt(12),Fe=(Re/2+1)*3,Me={draw:function(M,de){var Te=Math.sqrt(de/Fe),Ie=Te/2,Ke=Te*Re,rt=Ie,ft=Te*Re+Te,He=-rt,ct=ft;M.moveTo(Ie,Ke),M.lineTo(rt,ft),M.lineTo(He,ct),M.lineTo(Z*Ie-ce*Ke,ce*Ie+Z*Ke),M.lineTo(Z*rt-ce*ft,ce*rt+Z*ft),M.lineTo(Z*He-ce*ct,ce*He+Z*ct),M.lineTo(Z*Ie+ce*Ke,Z*Ke-ce*Ie),M.lineTo(Z*rt+ce*ft,Z*ft-ce*rt),M.lineTo(Z*He+ce*ct,Z*ct-ce*He),M.closePath()}},E=[le,q,he,it,Be,Pt,Me],me=function(){var M=f(le),de=f(64),Te=null;function Ie(){var Ke;if(Te||(Te=Ke=r.path()),M.apply(this,arguments).draw(Te,+de.apply(this,arguments)),Ke)return Te=null,Ke+""||null}return Ie.type=function(Ke){return arguments.length?(M=typeof Ke=="function"?Ke:f(Ke),Ie):M},Ie.size=function(Ke){return arguments.length?(de=typeof Ke=="function"?Ke:f(+Ke),Ie):de},Ie.context=function(Ke){return arguments.length?(Te=Ke??null,Ie):Te},Ie},G=function(){};function Ae(M,de,Te){M._context.bezierCurveTo((2*M._x0+M._x1)/3,(2*M._y0+M._y1)/3,(M._x0+2*M._x1)/3,(M._y0+2*M._y1)/3,(M._x0+4*M._x1+de)/6,(M._y0+4*M._y1+Te)/6)}function Ue(M){this._context=M}Ue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ae(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(M,de){switch(M=+M,de=+de,this._point){case 0:this._point=1,this._line?this._context.lineTo(M,de):this._context.moveTo(M,de);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ae(this,M,de);break}this._x0=this._x1,this._x1=M,this._y0=this._y1,this._y1=de}};var je=function(M){return new Ue(M)};function vt(M){this._context=M}vt.prototype={areaStart:G,areaEnd:G,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(M,de){switch(M=+M,de=+de,this._point){case 0:this._point=1,this._x2=M,this._y2=de;break;case 1:this._point=2,this._x3=M,this._y3=de;break;case 2:this._point=3,this._x4=M,this._y4=de,this._context.moveTo((this._x0+4*this._x1+M)/6,(this._y0+4*this._y1+de)/6);break;default:Ae(this,M,de);break}this._x0=this._x1,this._x1=M,this._y0=this._y1,this._y1=de}};var dt=function(M){return new vt(M)};function Dt(M){this._context=M}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(M,de){switch(M=+M,de=+de,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Te=(this._x0+4*this._x1+M)/6,Ie=(this._y0+4*this._y1+de)/6;this._line?this._context.lineTo(Te,Ie):this._context.moveTo(Te,Ie);break;case 3:this._point=4;default:Ae(this,M,de);break}this._x0=this._x1,this._x1=M,this._y0=this._y1,this._y1=de}};var Le=function(M){return new Dt(M)};function $e(M,de){this._basis=new Ue(M),this._beta=de}$e.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var M=this._x,de=this._y,Te=M.length-1;if(Te>0)for(var Ie=M[0],Ke=de[0],rt=M[Te]-Ie,ft=de[Te]-Ke,He=-1,ct;++He<=Te;)ct=He/Te,this._basis.point(this._beta*M[He]+(1-this._beta)*(Ie+ct*rt),this._beta*de[He]+(1-this._beta)*(Ke+ct*ft));this._x=this._y=null,this._basis.lineEnd()},point:function(M,de){this._x.push(+M),this._y.push(+de)}};var tt=function M(de){function Te(Ie){return de===1?new Ue(Ie):new $e(Ie,de)}return Te.beta=function(Ie){return M(+Ie)},Te}(.85);function K(M,de,Te){M._context.bezierCurveTo(M._x1+M._k*(M._x2-M._x0),M._y1+M._k*(M._y2-M._y0),M._x2+M._k*(M._x1-de),M._y2+M._k*(M._y1-Te),M._x2,M._y2)}function be(M,de){this._context=M,this._k=(1-de)/6}be.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:K(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(M,de){switch(M=+M,de=+de,this._point){case 0:this._point=1,this._line?this._context.lineTo(M,de):this._context.moveTo(M,de);break;case 1:this._point=2,this._x1=M,this._y1=de;break;case 2:this._point=3;default:K(this,M,de);break}this._x0=this._x1,this._x1=this._x2,this._x2=M,this._y0=this._y1,this._y1=this._y2,this._y2=de}};var N=function M(de){function Te(Ie){return new be(Ie,de)}return Te.tension=function(Ie){return M(+Ie)},Te}(0);function ie(M,de){this._context=M,this._k=(1-de)/6}ie.prototype={areaStart:G,areaEnd:G,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(M,de){switch(M=+M,de=+de,this._point){case 0:this._point=1,this._x3=M,this._y3=de;break;case 1:this._point=2,this._context.moveTo(this._x4=M,this._y4=de);break;case 2:this._point=3,this._x5=M,this._y5=de;break;default:K(this,M,de);break}this._x0=this._x1,this._x1=this._x2,this._x2=M,this._y0=this._y1,this._y1=this._y2,this._y2=de}};var we=function M(de){function Te(Ie){return new ie(Ie,de)}return Te.tension=function(Ie){return M(+Ie)},Te}(0);function ne(M,de){this._context=M,this._k=(1-de)/6}ne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(M,de){switch(M=+M,de=+de,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:K(this,M,de);break}this._x0=this._x1,this._x1=this._x2,this._x2=M,this._y0=this._y1,this._y1=this._y2,this._y2=de}};var H=function M(de){function Te(Ie){return new ne(Ie,de)}return Te.tension=function(Ie){return M(+Ie)},Te}(0);function ee(M,de,Te){var Ie=M._x1,Ke=M._y1,rt=M._x2,ft=M._y2;if(M._l01_a>n){var He=2*M._l01_2a+3*M._l01_a*M._l12_a+M._l12_2a,ct=3*M._l01_a*(M._l01_a+M._l12_a);Ie=(Ie*He-M._x0*M._l12_2a+M._x2*M._l01_2a)/ct,Ke=(Ke*He-M._y0*M._l12_2a+M._y2*M._l01_2a)/ct}if(M._l23_a>n){var Mt=2*M._l23_2a+3*M._l23_a*M._l12_a+M._l12_2a,_t=3*M._l23_a*(M._l23_a+M._l12_a);rt=(rt*Mt+M._x1*M._l23_2a-de*M._l12_2a)/_t,ft=(ft*Mt+M._y1*M._l23_2a-Te*M._l12_2a)/_t}M._context.bezierCurveTo(Ie,Ke,rt,ft,M._x2,M._y2)}function J(M,de){this._context=M,this._alpha=de}J.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(M,de){if(M=+M,de=+de,this._point){var Te=this._x2-M,Ie=this._y2-de;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Te*Te+Ie*Ie,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(M,de):this._context.moveTo(M,de);break;case 1:this._point=2;break;case 2:this._point=3;default:ee(this,M,de);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=M,this._y0=this._y1,this._y1=this._y2,this._y2=de}};var ue=function M(de){function Te(Ie){return de?new J(Ie,de):new be(Ie,0)}return Te.alpha=function(Ie){return M(+Ie)},Te}(.5);function Ee(M,de){this._context=M,this._alpha=de}Ee.prototype={areaStart:G,areaEnd:G,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(M,de){if(M=+M,de=+de,this._point){var Te=this._x2-M,Ie=this._y2-de;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Te*Te+Ie*Ie,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=M,this._y3=de;break;case 1:this._point=2,this._context.moveTo(this._x4=M,this._y4=de);break;case 2:this._point=3,this._x5=M,this._y5=de;break;default:ee(this,M,de);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=M,this._y0=this._y1,this._y1=this._y2,this._y2=de}};var Ne=function M(de){function Te(Ie){return de?new Ee(Ie,de):new ie(Ie,0)}return Te.alpha=function(Ie){return M(+Ie)},Te}(.5);function xe(M,de){this._context=M,this._alpha=de}xe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(M,de){if(M=+M,de=+de,this._point){var Te=this._x2-M,Ie=this._y2-de;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Te*Te+Ie*Ie,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ee(this,M,de);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=M,this._y0=this._y1,this._y1=this._y2,this._y2=de}};var qe=function M(de){function Te(Ie){return de?new xe(Ie,de):new ne(Ie,0)}return Te.alpha=function(Ie){return M(+Ie)},Te}(.5);function Ye(M){this._context=M}Ye.prototype={areaStart:G,areaEnd:G,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(M,de){M=+M,de=+de,this._point?this._context.lineTo(M,de):(this._point=1,this._context.moveTo(M,de))}};var Je=function(M){return new Ye(M)};function ht(M){return M<0?-1:1}function We(M,de,Te){var Ie=M._x1-M._x0,Ke=de-M._x1,rt=(M._y1-M._y0)/(Ie||Ke<0&&-0),ft=(Te-M._y1)/(Ke||Ie<0&&-0),He=(rt*Ke+ft*Ie)/(Ie+Ke);return(ht(rt)+ht(ft))*Math.min(Math.abs(rt),Math.abs(ft),.5*Math.abs(He))||0}function ot(M,de){var Te=M._x1-M._x0;return Te?(3*(M._y1-M._y0)/Te-de)/2:de}function wt(M,de,Te){var Ie=M._x0,Ke=M._y0,rt=M._x1,ft=M._y1,He=(rt-Ie)/3;M._context.bezierCurveTo(Ie+He,Ke+He*de,rt-He,ft-He*Te,rt,ft)}function Ft(M){this._context=M}Ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wt(this,this._t0,ot(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(M,de){var Te=NaN;if(M=+M,de=+de,!(M===this._x1&&de===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(M,de):this._context.moveTo(M,de);break;case 1:this._point=2;break;case 2:this._point=3,wt(this,ot(this,Te=We(this,M,de)),Te);break;default:wt(this,this._t0,Te=We(this,M,de));break}this._x0=this._x1,this._x1=M,this._y0=this._y1,this._y1=de,this._t0=Te}}};function Ct(M){this._context=new Rt(M)}(Ct.prototype=Object.create(Ft.prototype)).point=function(M,de){Ft.prototype.point.call(this,de,M)};function Rt(M){this._context=M}Rt.prototype={moveTo:function(M,de){this._context.moveTo(de,M)},closePath:function(){this._context.closePath()},lineTo:function(M,de){this._context.lineTo(de,M)},bezierCurveTo:function(M,de,Te,Ie,Ke,rt){this._context.bezierCurveTo(de,M,Ie,Te,rt,Ke)}};function $t(M){return new Ft(M)}function Gt(M){return new Ct(M)}function St(M){this._context=M}St.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var M=this._x,de=this._y,Te=M.length;if(Te)if(this._line?this._context.lineTo(M[0],de[0]):this._context.moveTo(M[0],de[0]),Te===2)this._context.lineTo(M[1],de[1]);else for(var Ie=Wt(M),Ke=Wt(de),rt=0,ft=1;ft<Te;++rt,++ft)this._context.bezierCurveTo(Ie[0][rt],Ke[0][rt],Ie[1][rt],Ke[1][rt],M[ft],de[ft]);(this._line||this._line!==0&&Te===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(M,de){this._x.push(+M),this._y.push(+de)}};function Wt(M){var de,Te=M.length-1,Ie,Ke=new Array(Te),rt=new Array(Te),ft=new Array(Te);for(Ke[0]=0,rt[0]=2,ft[0]=M[0]+2*M[1],de=1;de<Te-1;++de)Ke[de]=1,rt[de]=4,ft[de]=4*M[de]+2*M[de+1];for(Ke[Te-1]=2,rt[Te-1]=7,ft[Te-1]=8*M[Te-1]+M[Te],de=1;de<Te;++de)Ie=Ke[de]/rt[de-1],rt[de]-=Ie,ft[de]-=Ie*ft[de-1];for(Ke[Te-1]=ft[Te-1]/rt[Te-1],de=Te-2;de>=0;--de)Ke[de]=(ft[de]-Ke[de+1])/rt[de];for(rt[Te-1]=(M[Te]+Ke[Te-1])/2,de=0;de<Te-1;++de)rt[de]=2*M[de+1]-Ke[de+1];return[Ke,rt]}var Yt=function(M){return new St(M)};function nn(M,de){this._context=M,this._t=de}nn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(M,de){switch(M=+M,de=+de,this._point){case 0:this._point=1,this._line?this._context.lineTo(M,de):this._context.moveTo(M,de);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,de),this._context.lineTo(M,de);else{var Te=this._x*(1-this._t)+M*this._t;this._context.lineTo(Te,this._y),this._context.lineTo(Te,de)}break}}this._x=M,this._y=de}};var an=function(M){return new nn(M,.5)};function ln(M){return new nn(M,0)}function _e(M){return new nn(M,1)}var De=function(M,de){if((ft=M.length)>1)for(var Te=1,Ie,Ke,rt=M[de[0]],ft,He=rt.length;Te<ft;++Te)for(Ke=rt,rt=M[de[Te]],Ie=0;Ie<He;++Ie)rt[Ie][1]+=rt[Ie][0]=isNaN(Ke[Ie][1])?Ke[Ie][0]:Ke[Ie][1]},ut=function(M){for(var de=M.length,Te=new Array(de);--de>=0;)Te[de]=de;return Te};function bt(M,de){return M[de]}var pt=function(){var M=f([]),de=ut,Te=De,Ie=bt;function Ke(rt){var ft=M.apply(this,arguments),He,ct=rt.length,Mt=ft.length,_t=new Array(Mt),Nt;for(He=0;He<Mt;++He){for(var Kt=ft[He],rn=_t[He]=new Array(ct),Qt=0,sn;Qt<ct;++Qt)rn[Qt]=sn=[0,+Ie(rt[Qt],Kt,Qt,rt)],sn.data=rt[Qt];rn.key=Kt}for(He=0,Nt=de(_t);He<Mt;++He)_t[Nt[He]].index=He;return Te(_t,Nt),_t}return Ke.keys=function(rt){return arguments.length?(M=typeof rt=="function"?rt:f(Y.call(rt)),Ke):M},Ke.value=function(rt){return arguments.length?(Ie=typeof rt=="function"?rt:f(+rt),Ke):Ie},Ke.order=function(rt){return arguments.length?(de=rt==null?ut:typeof rt=="function"?rt:f(Y.call(rt)),Ke):de},Ke.offset=function(rt){return arguments.length?(Te=rt??De,Ke):Te},Ke},Lt=function(M,de){if((Ie=M.length)>0){for(var Te,Ie,Ke=0,rt=M[0].length,ft;Ke<rt;++Ke){for(ft=Te=0;Te<Ie;++Te)ft+=M[Te][Ke][1]||0;if(ft)for(Te=0;Te<Ie;++Te)M[Te][Ke][1]/=ft}De(M,de)}},qt=function(M,de){if((ct=M.length)>1)for(var Te,Ie=0,Ke,rt,ft,He,ct,Mt=M[de[0]].length;Ie<Mt;++Ie)for(ft=He=0,Te=0;Te<ct;++Te)(rt=(Ke=M[de[Te]][Ie])[1]-Ke[0])>=0?(Ke[0]=ft,Ke[1]=ft+=rt):rt<0?(Ke[1]=He,Ke[0]=He+=rt):Ke[0]=ft},Tt=function(M,de){if((Ke=M.length)>0){for(var Te=0,Ie=M[de[0]],Ke,rt=Ie.length;Te<rt;++Te){for(var ft=0,He=0;ft<Ke;++ft)He+=M[ft][Te][1]||0;Ie[Te][1]+=Ie[Te][0]=-He/2}De(M,de)}},zt=function(M,de){if(!(!((ft=M.length)>0)||!((rt=(Ke=M[de[0]]).length)>0))){for(var Te=0,Ie=1,Ke,rt,ft;Ie<rt;++Ie){for(var He=0,ct=0,Mt=0;He<ft;++He){for(var _t=M[de[He]],Nt=_t[Ie][1]||0,Kt=_t[Ie-1][1]||0,rn=(Nt-Kt)/2,Qt=0;Qt<He;++Qt){var sn=M[de[Qt]],tn=sn[Ie][1]||0,gn=sn[Ie-1][1]||0;rn+=tn-gn}ct+=Nt,Mt+=rn*Nt}Ke[Ie-1][1]+=Ke[Ie-1][0]=Te,ct&&(Te-=Mt/ct)}Ke[Ie-1][1]+=Ke[Ie-1][0]=Te,De(M,de)}},gt=function(M){var de=M.map(kt);return ut(M).sort(function(Te,Ie){return de[Te]-de[Ie]})};function kt(M){for(var de=0,Te=-1,Ie=M.length,Ke;++Te<Ie;)(Ke=+M[Te][1])&&(de+=Ke);return de}var Vt=function(M){return gt(M).reverse()},yt=function(M){var de=M.length,Te,Ie,Ke=M.map(kt),rt=ut(M).sort(function(_t,Nt){return Ke[Nt]-Ke[_t]}),ft=0,He=0,ct=[],Mt=[];for(Te=0;Te<de;++Te)Ie=rt[Te],ft<He?(ft+=Ke[Ie],ct.push(Ie)):(He+=Ke[Ie],Mt.push(Ie));return Mt.reverse().concat(ct)},en=function(M){return ut(M).reverse()};e.arc=a,e.area=y,e.line=p,e.pie=L,e.areaRadial=Q,e.radialArea=Q,e.lineRadial=B,e.radialLine=B,e.pointRadial=U,e.linkHorizontal=T,e.linkVertical=d,e.linkRadial=$,e.symbol=me,e.symbols=E,e.symbolCircle=le,e.symbolCross=q,e.symbolDiamond=he,e.symbolSquare=it,e.symbolStar=Be,e.symbolTriangle=Pt,e.symbolWye=Me,e.curveBasisClosed=dt,e.curveBasisOpen=Le,e.curveBasis=je,e.curveBundle=tt,e.curveCardinalClosed=we,e.curveCardinalOpen=H,e.curveCardinal=N,e.curveCatmullRomClosed=Ne,e.curveCatmullRomOpen=qe,e.curveCatmullRom=ue,e.curveLinearClosed=Je,e.curveLinear=g,e.curveMonotoneX=$t,e.curveMonotoneY=Gt,e.curveNatural=Yt,e.curveStep=an,e.curveStepAfter=_e,e.curveStepBefore=ln,e.stack=pt,e.stackOffsetExpand=Lt,e.stackOffsetDiverging=qt,e.stackOffsetNone=De,e.stackOffsetSilhouette=Tt,e.stackOffsetWiggle=zt,e.stackOrderAscending=gt,e.stackOrderDescending=Vt,e.stackOrderInsideOut=yt,e.stackOrderNone=ut,e.stackOrderReverse=en,Object.defineProperty(e,"__esModule",{value:!0})})});var ss=At((Di,fs)=>{(function(e,r){typeof Di=="object"&&typeof fs!="undefined"?r(Di):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(Di,function(e){"use strict";var r=function(l){return function(){return l}};function f(l){return l[0]}function o(l){return l[1]}function b(){this._=null}function i(l){l.U=l.C=l.L=l.R=l.P=l.N=null}b.prototype={constructor:b,insert:function(l,F){var S,T,d;if(l){if(F.P=l,F.N=l.N,l.N&&(l.N.P=F),l.N=F,l.R){for(l=l.R;l.L;)l=l.L;l.L=F}else l.R=F;S=l}else this._?(l=t(this._),F.P=null,F.N=l,l.P=l.L=F,S=l):(F.P=F.N=null,this._=F,S=null);for(F.L=F.R=null,F.U=S,F.C=!0,l=F;S&&S.C;)T=S.U,S===T.L?(d=T.R,d&&d.C?(S.C=d.C=!1,T.C=!0,l=T):(l===S.R&&(te(this,S),l=S,S=l.U),S.C=!1,T.C=!0,re(this,T))):(d=T.L,d&&d.C?(S.C=d.C=!1,T.C=!0,l=T):(l===S.L&&(re(this,S),l=S,S=l.U),S.C=!1,T.C=!0,te(this,T))),S=l.U;this._.C=!1},remove:function(l){l.N&&(l.N.P=l.P),l.P&&(l.P.N=l.N),l.N=l.P=null;var F=l.U,S,T=l.L,d=l.R,$,le;if(T?d?$=t(d):$=T:$=d,F?F.L===l?F.L=$:F.R=$:this._=$,T&&d?(le=$.C,$.C=l.C,$.L=T,T.U=$,$!==d?(F=$.U,$.U=l.U,l=$.R,F.L=l,$.R=d,d.U=$):($.U=F,F=$,l=$.R)):(le=l.C,l=$),l&&(l.U=F),!le){if(l&&l.C){l.C=!1;return}do{if(l===this._)break;if(l===F.L){if(S=F.R,S.C&&(S.C=!1,F.C=!0,te(this,F),S=F.R),S.L&&S.L.C||S.R&&S.R.C){(!S.R||!S.R.C)&&(S.L.C=!1,S.C=!0,re(this,S),S=F.R),S.C=F.C,F.C=S.R.C=!1,te(this,F),l=this._;break}}else if(S=F.L,S.C&&(S.C=!1,F.C=!0,re(this,F),S=F.L),S.L&&S.L.C||S.R&&S.R.C){(!S.L||!S.L.C)&&(S.R.C=!1,S.C=!0,te(this,S),S=F.L),S.C=F.C,F.C=S.L.C=!1,re(this,F),l=this._;break}S.C=!0,l=F,F=F.U}while(!l.C);l&&(l.C=!1)}}};function te(l,F){var S=F,T=F.R,d=S.U;d?d.L===S?d.L=T:d.R=T:l._=T,T.U=d,S.U=T,S.R=T.L,S.R&&(S.R.U=S),T.L=S}function re(l,F){var S=F,T=F.L,d=S.U;d?d.L===S?d.L=T:d.R=T:l._=T,T.U=d,S.U=T,S.L=T.R,S.L&&(S.L.U=S),T.R=S}function t(l){for(;l.L;)l=l.L;return l}function k(l,F,S,T){var d=[null,null],$=U.push(d)-1;return d.left=l,d.right=F,S&&O(d,l,F,S),T&&O(d,F,l,T),B[l.index].halfedges.push($),B[F.index].halfedges.push($),d}function n(l,F,S){var T=[F,S];return T.left=l,T}function O(l,F,S,T){!l[0]&&!l[1]?(l[0]=T,l.left=F,l.right=S):l.left===S?l[1]=T:l[0]=T}function c(l,F,S,T,d){var $=l[0],le=l[1],q=$[0],ge=$[1],Se=le[0],he=le[1],oe=0,ye=1,Oe=Se-q,Xe=he-ge,Be;if(Be=F-q,!(!Oe&&Be>0)){if(Be/=Oe,Oe<0){if(Be<oe)return;Be<ye&&(ye=Be)}else if(Oe>0){if(Be>ye)return;Be>oe&&(oe=Be)}if(Be=T-q,!(!Oe&&Be<0)){if(Be/=Oe,Oe<0){if(Be>ye)return;Be>oe&&(oe=Be)}else if(Oe>0){if(Be<oe)return;Be<ye&&(ye=Be)}if(Be=S-ge,!(!Xe&&Be>0)){if(Be/=Xe,Xe<0){if(Be<oe)return;Be<ye&&(ye=Be)}else if(Xe>0){if(Be>ye)return;Be>oe&&(oe=Be)}if(Be=d-ge,!(!Xe&&Be<0)){if(Be/=Xe,Xe<0){if(Be>ye)return;Be>oe&&(oe=Be)}else if(Xe>0){if(Be<oe)return;Be<ye&&(ye=Be)}return!(oe>0)&&!(ye<1)||(oe>0&&(l[0]=[q+oe*Oe,ge+oe*Xe]),ye<1&&(l[1]=[q+ye*Oe,ge+ye*Xe])),!0}}}}}function _(l,F,S,T,d){var $=l[1];if($)return!0;var le=l[0],q=l.left,ge=l.right,Se=q[0],he=q[1],oe=ge[0],ye=ge[1],Oe=(Se+oe)/2,Xe=(he+ye)/2,Be,it;if(ye===he){if(Oe<F||Oe>=T)return;if(Se>oe){if(!le)le=[Oe,S];else if(le[1]>=d)return;$=[Oe,d]}else{if(!le)le=[Oe,d];else if(le[1]<S)return;$=[Oe,S]}}else if(Be=(Se-oe)/(ye-he),it=Xe-Be*Oe,Be<-1||Be>1)if(Se>oe){if(!le)le=[(S-it)/Be,S];else if(le[1]>=d)return;$=[(d-it)/Be,d]}else{if(!le)le=[(d-it)/Be,d];else if(le[1]<S)return;$=[(S-it)/Be,S]}else if(he<ye){if(!le)le=[F,Be*F+it];else if(le[0]>=T)return;$=[T,Be*T+it]}else{if(!le)le=[T,Be*T+it];else if(le[0]<F)return;$=[F,Be*F+it]}return l[0]=le,l[1]=$,!0}function W(l,F,S,T){for(var d=U.length,$;d--;)(!_($=U[d],l,F,S,T)||!c($,l,F,S,T)||!(Math.abs($[0][0]-$[1][0])>R||Math.abs($[0][1]-$[1][1])>R))&&delete U[d]}function V(l){return B[l.index]={site:l,halfedges:[]}}function fe(l,F){var S=l.site,T=F.left,d=F.right;return S===d&&(d=T,T=S),d?Math.atan2(d[1]-T[1],d[0]-T[0]):(S===T?(T=F[1],d=F[0]):(T=F[0],d=F[1]),Math.atan2(T[0]-d[0],d[1]-T[1]))}function j(l,F){return F[+(F.left!==l.site)]}function ve(l,F){return F[+(F.left===l.site)]}function P(){for(var l=0,F=B.length,S,T,d,$;l<F;++l)if((S=B[l])&&($=(T=S.halfedges).length)){var le=new Array($),q=new Array($);for(d=0;d<$;++d)le[d]=d,q[d]=fe(S,U[T[d]]);for(le.sort(function(ge,Se){return q[Se]-q[ge]}),d=0;d<$;++d)q[d]=T[le[d]];for(d=0;d<$;++d)T[d]=q[d]}}function s(l,F,S,T){var d=B.length,$,le,q,ge,Se,he,oe,ye,Oe,Xe,Be,it,mt=!0;for($=0;$<d;++$)if(le=B[$]){for(q=le.site,Se=le.halfedges,ge=Se.length;ge--;)U[Se[ge]]||Se.splice(ge,1);for(ge=0,he=Se.length;ge<he;)Xe=ve(le,U[Se[ge]]),Be=Xe[0],it=Xe[1],oe=j(le,U[Se[++ge%he]]),ye=oe[0],Oe=oe[1],(Math.abs(Be-ye)>R||Math.abs(it-Oe)>R)&&(Se.splice(ge,0,U.push(n(q,Xe,Math.abs(Be-l)<R&&T-it>R?[l,Math.abs(ye-l)<R?Oe:T]:Math.abs(it-T)<R&&S-Be>R?[Math.abs(Oe-T)<R?ye:S,T]:Math.abs(Be-S)<R&&it-F>R?[S,Math.abs(ye-S)<R?Oe:F]:Math.abs(it-F)<R&&Be-l>R?[Math.abs(Oe-F)<R?ye:l,F]:null))-1),++he);he&&(mt=!1)}if(mt){var Pt,Z,ce,Re=Infinity;for($=0,mt=null;$<d;++$)(le=B[$])&&(q=le.site,Pt=q[0]-l,Z=q[1]-F,ce=Pt*Pt+Z*Z,ce<Re&&(Re=ce,mt=le));if(mt){var Fe=[l,F],Me=[l,T],E=[S,T],me=[S,F];mt.halfedges.push(U.push(n(q=mt.site,Fe,Me))-1,U.push(n(q,Me,E))-1,U.push(n(q,E,me))-1,U.push(n(q,me,Fe))-1)}}for($=0;$<d;++$)(le=B[$])&&(le.halfedges.length||delete B[$])}var A=[],C;function a(){i(this),this.x=this.y=this.arc=this.site=this.cy=null}function v(l){var F=l.P,S=l.N;if(!(!F||!S)){var T=F.site,d=l.site,$=S.site;if(T!==$){var le=d[0],q=d[1],ge=T[0]-le,Se=T[1]-q,he=$[0]-le,oe=$[1]-q,ye=2*(ge*oe-Se*he);if(!(ye>=-I)){var Oe=ge*ge+Se*Se,Xe=he*he+oe*oe,Be=(oe*Oe-Se*Xe)/ye,it=(ge*Xe-he*Oe)/ye,mt=A.pop()||new a;mt.arc=l,mt.site=d,mt.x=Be+le,mt.y=(mt.cy=it+q)+Math.sqrt(Be*Be+it*it),l.circle=mt;for(var Pt=null,Z=Q._;Z;)if(mt.y<Z.y||mt.y===Z.y&&mt.x<=Z.x)if(Z.L)Z=Z.L;else{Pt=Z.P;break}else if(Z.R)Z=Z.R;else{Pt=Z;break}Q.insert(Pt,mt),Pt||(C=mt)}}}}function g(l){var F=l.circle;F&&(F.P||(C=F.N),Q.remove(F),A.push(F),i(F),l.circle=null)}var h=[];function u(){i(this),this.edge=this.site=this.circle=null}function p(l){var F=h.pop()||new u;return F.site=l,F}function y(l){g(l),D.remove(l),h.push(l),i(l)}function m(l){var F=l.circle,S=F.x,T=F.cy,d=[S,T],$=l.P,le=l.N,q=[l];y(l);for(var ge=$;ge.circle&&Math.abs(S-ge.circle.x)<R&&Math.abs(T-ge.circle.cy)<R;)$=ge.P,q.unshift(ge),y(ge),ge=$;q.unshift(ge),g(ge);for(var Se=le;Se.circle&&Math.abs(S-Se.circle.x)<R&&Math.abs(T-Se.circle.cy)<R;)le=Se.N,q.push(Se),y(Se),Se=le;q.push(Se),g(Se);var he=q.length,oe;for(oe=1;oe<he;++oe)Se=q[oe],ge=q[oe-1],O(Se.edge,ge.site,Se.site,d);ge=q[0],Se=q[he-1],Se.edge=k(ge.site,Se.site,null,d),v(ge),v(Se)}function x(l){for(var F=l[0],S=l[1],T,d,$,le,q=D._;q;)if($=L(q,S)-F,$>R)q=q.L;else if(le=F-X(q,S),le>R){if(!q.R){T=q;break}q=q.R}else{$>-R?(T=q.P,d=q):le>-R?(T=q,d=q.N):T=d=q;break}V(l);var ge=p(l);if(D.insert(T,ge),!(!T&&!d)){if(T===d){g(T),d=p(T.site),D.insert(ge,d),ge.edge=d.edge=k(T.site,ge.site),v(T),v(d);return}if(!d){ge.edge=k(T.site,ge.site);return}g(T),g(d);var Se=T.site,he=Se[0],oe=Se[1],ye=l[0]-he,Oe=l[1]-oe,Xe=d.site,Be=Xe[0]-he,it=Xe[1]-oe,mt=2*(ye*it-Oe*Be),Pt=ye*ye+Oe*Oe,Z=Be*Be+it*it,ce=[(it*Pt-Oe*Z)/mt+he,(ye*Z-Be*Pt)/mt+oe];O(d.edge,Se,Xe,ce),ge.edge=k(Se,l,null,ce),d.edge=k(l,Xe,null,ce),v(T),v(d)}}function L(l,F){var S=l.site,T=S[0],d=S[1],$=d-F;if(!$)return T;var le=l.P;if(!le)return-Infinity;S=le.site;var q=S[0],ge=S[1],Se=ge-F;if(!Se)return q;var he=q-T,oe=1/$-1/Se,ye=he/Se;return oe?(-ye+Math.sqrt(ye*ye-2*oe*(he*he/(-2*Se)-ge+Se/2+d-$/2)))/oe+T:(T+q)/2}function X(l,F){var S=l.N;if(S)return L(S,F);var T=l.site;return T[1]===F?T[0]:Infinity}var R=1e-6,I=1e-12,D,B,Q,U;function Y(l,F,S){return(l[0]-S[0])*(F[1]-l[1])-(l[0]-F[0])*(S[1]-l[1])}function pe(l,F){return F[1]-l[1]||F[0]-l[0]}function Ce(l,F){var S=l.sort(pe).pop(),T,d,$;for(U=[],B=new Array(l.length),D=new b,Q=new b;;)if($=C,S&&(!$||S[1]<$.y||S[1]===$.y&&S[0]<$.x))(S[0]!==T||S[1]!==d)&&(x(S),T=S[0],d=S[1]),S=l.pop();else if($)m($.arc);else break;if(P(),F){var le=+F[0][0],q=+F[0][1],ge=+F[1][0],Se=+F[1][1];W(le,q,ge,Se),s(le,q,ge,Se)}this.edges=U,this.cells=B,D=Q=U=B=null}Ce.prototype={constructor:Ce,polygons:function(){var l=this.edges;return this.cells.map(function(F){var S=F.halfedges.map(function(T){return j(F,l[T])});return S.data=F.site.data,S})},triangles:function(){var l=[],F=this.edges;return this.cells.forEach(function(S,T){if(!!(q=($=S.halfedges).length))for(var d=S.site,$,le=-1,q,ge,Se=F[$[q-1]],he=Se.left===d?Se.right:Se.left;++le<q;)ge=he,Se=F[$[le]],he=Se.left===d?Se.right:Se.left,ge&&he&&T<ge.index&&T<he.index&&Y(d,ge,he)<0&&l.push([d.data,ge.data,he.data])}),l},links:function(){return this.edges.filter(function(l){return l.right}).map(function(l){return{source:l.left.data,target:l.right.data}})},find:function(l,F,S){for(var T=this,d,$=T._found||0,le=T.cells.length,q;!(q=T.cells[$]);)if(++$>=le)return null;var ge=l-q.site[0],Se=F-q.site[1],he=ge*ge+Se*Se;do q=T.cells[d=$],$=null,q.halfedges.forEach(function(oe){var ye=T.edges[oe],Oe=ye.left;if(!((Oe===q.site||!Oe)&&!(Oe=ye.right))){var Xe=l-Oe[0],Be=F-Oe[1],it=Xe*Xe+Be*Be;it<he&&(he=it,$=Oe.index)}});while($!==null);return T._found=d,S==null||he<=S*S?q.site:null}};var Pe=function(){var l=f,F=o,S=null;function T(d){return new Ce(d.map(function($,le){var q=[Math.round(l($,le,d)/R)*R,Math.round(F($,le,d)/R)*R];return q.index=le,q.data=$,q}),S)}return T.polygons=function(d){return T(d).polygons()},T.links=function(d){return T(d).links()},T.triangles=function(d){return T(d).triangles()},T.x=function(d){return arguments.length?(l=typeof d=="function"?d:r(+d),T):l},T.y=function(d){return arguments.length?(F=typeof d=="function"?d:r(+d),T):F},T.extent=function(d){return arguments.length?(S=d==null?null:[[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]],T):S&&[[S[0][0],S[0][1]],[S[1][0],S[1][1]]]},T.size=function(d){return arguments.length?(S=d==null?null:[[0,0],[+d[0],+d[1]]],T):S&&[S[1][0]-S[0][0],S[1][1]-S[0][1]]},T};e.voronoi=Pe,Object.defineProperty(e,"__esModule",{value:!0})})});var ls=At((Ii,cs)=>{(function(e,r){typeof Ii=="object"&&typeof cs!="undefined"?r(Ii,sr(),ui(),lr(),cr(),hi()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],r):(e=e||self,r(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3))})(Ii,function(e,r,f,o,b,i){"use strict";function te(s){return function(){return s}}function re(s,A,C){this.target=s,this.type=A,this.transform=C}function t(s,A,C){this.k=s,this.x=A,this.y=C}t.prototype={constructor:t,scale:function(s){return s===1?this:new t(this.k*s,this.x,this.y)},translate:function(s,A){return s===0&A===0?this:new t(this.k,this.x+this.k*s,this.y+this.k*A)},apply:function(s){return[s[0]*this.k+this.x,s[1]*this.k+this.y]},applyX:function(s){return s*this.k+this.x},applyY:function(s){return s*this.k+this.y},invert:function(s){return[(s[0]-this.x)/this.k,(s[1]-this.y)/this.k]},invertX:function(s){return(s-this.x)/this.k},invertY:function(s){return(s-this.y)/this.k},rescaleX:function(s){return s.copy().domain(s.range().map(this.invertX,this).map(s.invert,s))},rescaleY:function(s){return s.copy().domain(s.range().map(this.invertY,this).map(s.invert,s))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var k=new t(1,0,0);n.prototype=t.prototype;function n(s){for(;!s.__zoom;)if(!(s=s.parentNode))return k;return s.__zoom}function O(){b.event.stopImmediatePropagation()}function c(){b.event.preventDefault(),b.event.stopImmediatePropagation()}function _(){return!b.event.ctrlKey&&!b.event.button}function W(){var s=this;return s instanceof SVGElement?(s=s.ownerSVGElement||s,s.hasAttribute("viewBox")?(s=s.viewBox.baseVal,[[s.x,s.y],[s.x+s.width,s.y+s.height]]):[[0,0],[s.width.baseVal.value,s.height.baseVal.value]]):[[0,0],[s.clientWidth,s.clientHeight]]}function V(){return this.__zoom||k}function fe(){return-b.event.deltaY*(b.event.deltaMode===1?.05:b.event.deltaMode?1:.002)}function j(){return navigator.maxTouchPoints||"ontouchstart"in this}function ve(s,A,C){var a=s.invertX(A[0][0])-C[0][0],v=s.invertX(A[1][0])-C[1][0],g=s.invertY(A[0][1])-C[0][1],h=s.invertY(A[1][1])-C[1][1];return s.translate(v>a?(a+v)/2:Math.min(0,a)||Math.max(0,v),h>g?(g+h)/2:Math.min(0,g)||Math.max(0,h))}function P(){var s=_,A=W,C=ve,a=fe,v=j,g=[0,Infinity],h=[[-Infinity,-Infinity],[Infinity,Infinity]],u=250,p=o.interpolateZoom,y=r.dispatch("start","zoom","end"),m,x,L=500,X=150,R=0;function I(d){d.property("__zoom",V).on("wheel.zoom",Ce).on("mousedown.zoom",Pe).on("dblclick.zoom",l).filter(v).on("touchstart.zoom",F).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}I.transform=function(d,$,le){var q=d.selection?d.selection():d;q.property("__zoom",V),d!==q?U(d,$,le):q.interrupt().each(function(){Y(this,arguments).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},I.scaleBy=function(d,$,le){I.scaleTo(d,function(){var q=this.__zoom.k,ge=typeof $=="function"?$.apply(this,arguments):$;return q*ge},le)},I.scaleTo=function(d,$,le){I.transform(d,function(){var q=A.apply(this,arguments),ge=this.__zoom,Se=le==null?Q(q):typeof le=="function"?le.apply(this,arguments):le,he=ge.invert(Se),oe=typeof $=="function"?$.apply(this,arguments):$;return C(B(D(ge,oe),Se,he),q,h)},le)},I.translateBy=function(d,$,le){I.transform(d,function(){return C(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof le=="function"?le.apply(this,arguments):le),A.apply(this,arguments),h)})},I.translateTo=function(d,$,le,q){I.transform(d,function(){var ge=A.apply(this,arguments),Se=this.__zoom,he=q==null?Q(ge):typeof q=="function"?q.apply(this,arguments):q;return C(k.translate(he[0],he[1]).scale(Se.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof le=="function"?-le.apply(this,arguments):-le),ge,h)},q)};function D(d,$){return $=Math.max(g[0],Math.min(g[1],$)),$===d.k?d:new t($,d.x,d.y)}function B(d,$,le){var q=$[0]-le[0]*d.k,ge=$[1]-le[1]*d.k;return q===d.x&&ge===d.y?d:new t(d.k,q,ge)}function Q(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function U(d,$,le){d.on("start.zoom",function(){Y(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){Y(this,arguments).end()}).tween("zoom",function(){var q=this,ge=arguments,Se=Y(q,ge),he=A.apply(q,ge),oe=le==null?Q(he):typeof le=="function"?le.apply(q,ge):le,ye=Math.max(he[1][0]-he[0][0],he[1][1]-he[0][1]),Oe=q.__zoom,Xe=typeof $=="function"?$.apply(q,ge):$,Be=p(Oe.invert(oe).concat(ye/Oe.k),Xe.invert(oe).concat(ye/Xe.k));return function(it){if(it===1)it=Xe;else{var mt=Be(it),Pt=ye/mt[2];it=new t(Pt,oe[0]-mt[0]*Pt,oe[1]-mt[1]*Pt)}Se.zoom(null,it)}})}function Y(d,$,le){return!le&&d.__zooming||new pe(d,$)}function pe(d,$){this.that=d,this.args=$,this.active=0,this.extent=A.apply(d,$),this.taps=0}pe.prototype={start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,$){return this.mouse&&d!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){b.customEvent(new re(I,d,this.that.__zoom),y.apply,y,[d,this.that,this.args])}};function Ce(){if(!s.apply(this,arguments))return;var d=Y(this,arguments),$=this.__zoom,le=Math.max(g[0],Math.min(g[1],$.k*Math.pow(2,a.apply(this,arguments)))),q=b.mouse(this);if(d.wheel)(d.mouse[0][0]!==q[0]||d.mouse[0][1]!==q[1])&&(d.mouse[1]=$.invert(d.mouse[0]=q)),clearTimeout(d.wheel);else{if($.k===le)return;d.mouse=[q,$.invert(q)],i.interrupt(this),d.start()}c(),d.wheel=setTimeout(ge,X),d.zoom("mouse",C(B(D($,le),d.mouse[0],d.mouse[1]),d.extent,h));function ge(){d.wheel=null,d.end()}}function Pe(){if(x||!s.apply(this,arguments))return;var d=Y(this,arguments,!0),$=b.select(b.event.view).on("mousemove.zoom",Se,!0).on("mouseup.zoom",he,!0),le=b.mouse(this),q=b.event.clientX,ge=b.event.clientY;f.dragDisable(b.event.view),O(),d.mouse=[le,this.__zoom.invert(le)],i.interrupt(this),d.start();function Se(){if(c(),!d.moved){var oe=b.event.clientX-q,ye=b.event.clientY-ge;d.moved=oe*oe+ye*ye>R}d.zoom("mouse",C(B(d.that.__zoom,d.mouse[0]=b.mouse(d.that),d.mouse[1]),d.extent,h))}function he(){$.on("mousemove.zoom mouseup.zoom",null),f.dragEnable(b.event.view,d.moved),c(),d.end()}}function l(){if(!!s.apply(this,arguments)){var d=this.__zoom,$=b.mouse(this),le=d.invert($),q=d.k*(b.event.shiftKey?.5:2),ge=C(B(D(d,q),$,le),A.apply(this,arguments),h);c(),u>0?b.select(this).transition().duration(u).call(U,ge,$):b.select(this).call(I.transform,ge)}}function F(){if(!!s.apply(this,arguments)){var d=b.event.touches,$=d.length,le=Y(this,arguments,b.event.changedTouches.length===$),q,ge,Se,he;for(O(),ge=0;ge<$;++ge)Se=d[ge],he=b.touch(this,d,Se.identifier),he=[he,this.__zoom.invert(he),Se.identifier],le.touch0?!le.touch1&&le.touch0[2]!==he[2]&&(le.touch1=he,le.taps=0):(le.touch0=he,q=!0,le.taps=1+!!m);m&&(m=clearTimeout(m)),q&&(le.taps<2&&(m=setTimeout(function(){m=null},L)),i.interrupt(this),le.start())}}function S(){if(!!this.__zooming){var d=Y(this,arguments),$=b.event.changedTouches,le=$.length,q,ge,Se,he;for(c(),m&&(m=clearTimeout(m)),d.taps=0,q=0;q<le;++q)ge=$[q],Se=b.touch(this,$,ge.identifier),d.touch0&&d.touch0[2]===ge.identifier?d.touch0[0]=Se:d.touch1&&d.touch1[2]===ge.identifier&&(d.touch1[0]=Se);if(ge=d.that.__zoom,d.touch1){var oe=d.touch0[0],ye=d.touch0[1],Oe=d.touch1[0],Xe=d.touch1[1],Be=(Be=Oe[0]-oe[0])*Be+(Be=Oe[1]-oe[1])*Be,it=(it=Xe[0]-ye[0])*it+(it=Xe[1]-ye[1])*it;ge=D(ge,Math.sqrt(Be/it)),Se=[(oe[0]+Oe[0])/2,(oe[1]+Oe[1])/2],he=[(ye[0]+Xe[0])/2,(ye[1]+Xe[1])/2]}else if(d.touch0)Se=d.touch0[0],he=d.touch0[1];else return;d.zoom("touch",C(B(ge,Se,he),d.extent,h))}}function T(){if(!!this.__zooming){var d=Y(this,arguments),$=b.event.changedTouches,le=$.length,q,ge;for(O(),x&&clearTimeout(x),x=setTimeout(function(){x=null},L),q=0;q<le;++q)ge=$[q],d.touch0&&d.touch0[2]===ge.identifier?delete d.touch0:d.touch1&&d.touch1[2]===ge.identifier&&delete d.touch1;if(d.touch1&&!d.touch0&&(d.touch0=d.touch1,delete d.touch1),d.touch0)d.touch0[1]=this.__zoom.invert(d.touch0[0]);else if(d.end(),d.taps===2){var Se=b.select(this).on("dblclick.zoom");Se&&Se.apply(this,arguments)}}}return I.wheelDelta=function(d){return arguments.length?(a=typeof d=="function"?d:te(+d),I):a},I.filter=function(d){return arguments.length?(s=typeof d=="function"?d:te(!!d),I):s},I.touchable=function(d){return arguments.length?(v=typeof d=="function"?d:te(!!d),I):v},I.extent=function(d){return arguments.length?(A=typeof d=="function"?d:te([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),I):A},I.scaleExtent=function(d){return arguments.length?(g[0]=+d[0],g[1]=+d[1],I):[g[0],g[1]]},I.translateExtent=function(d){return arguments.length?(h[0][0]=+d[0][0],h[1][0]=+d[1][0],h[0][1]=+d[0][1],h[1][1]=+d[1][1],I):[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},I.constrain=function(d){return arguments.length?(C=d,I):C},I.duration=function(d){return arguments.length?(u=+d,I):u},I.interpolate=function(d){return arguments.length?(p=d,I):p},I.on=function(){var d=y.on.apply(y,arguments);return d===y?I:d},I.clickDistance=function(d){return arguments.length?(R=(d=+d)*d,I):Math.sqrt(R)},I}e.zoom=P,e.zoomIdentity=k,e.zoomTransform=n,Object.defineProperty(e,"__esModule",{value:!0})})});var Wa=At(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var ds=wr(),hs=xf(),gs=Pf(),vs=Df(),ms=zr(),ps=Ir(),ys=Ff(),bs=sr(),ws=ui(),_s=Ga(),xs=Ya(),As=Uf(),Ms=Gf(),Es=$a(),Ss=Xf(),Cs=jf(),ks=lr(),Rs=mi(),Ls=Zf(),Ts=Va(),Ps=Jf(),Ns=rs(),Os=as(),Ds=cr(),Is=os(),zs=Li(),Fs=Xa(),qs=ci(),Bs=hi(),Us=ss(),Hs=ls(),qd="5.16.0";Object.keys(ds).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return ds[e]}})});Object.keys(hs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return hs[e]}})});Object.keys(gs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return gs[e]}})});Object.keys(vs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return vs[e]}})});Object.keys(ms).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return ms[e]}})});Object.keys(ps).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return ps[e]}})});Object.keys(ys).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return ys[e]}})});Object.keys(bs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return bs[e]}})});Object.keys(ws).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return ws[e]}})});Object.keys(_s).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return _s[e]}})});Object.keys(xs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return xs[e]}})});Object.keys(As).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return As[e]}})});Object.keys(Ms).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Ms[e]}})});Object.keys(Es).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Es[e]}})});Object.keys(Ss).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Ss[e]}})});Object.keys(Cs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Cs[e]}})});Object.keys(ks).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return ks[e]}})});Object.keys(Rs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Rs[e]}})});Object.keys(Ls).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Ls[e]}})});Object.keys(Ts).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Ts[e]}})});Object.keys(Ps).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Ps[e]}})});Object.keys(Ns).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Ns[e]}})});Object.keys(Os).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Os[e]}})});Object.keys(Ds).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Ds[e]}})});Object.keys(Is).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Is[e]}})});Object.keys(zs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return zs[e]}})});Object.keys(Fs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Fs[e]}})});Object.keys(qs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return qs[e]}})});Object.keys(Bs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Bs[e]}})});Object.keys(Us).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Us[e]}})});Object.keys(Hs).forEach(function(e){e!=="default"&&Object.defineProperty(un,e,{enumerable:!0,get:function(){return Hs[e]}})});un.version=qd});var ja=At((zi,Ys)=>{(function(e,r){typeof zi=="object"&&typeof Ys!="undefined"?r(zi):typeof define=="function"&&define.amd?define(["exports"],r):r(e.topojson=e.topojson||{})})(zi,function(e){"use strict";var r=function(P){return P},f=function(P){if(P==null)return r;var s,A,C=P.scale[0],a=P.scale[1],v=P.translate[0],g=P.translate[1];return function(h,u){u||(s=A=0);var p=2,y=h.length,m=new Array(y);for(m[0]=(s+=h[0])*C+v,m[1]=(A+=h[1])*a+g;p<y;)m[p]=h[p],++p;return m}},o=function(P){var s=f(P.transform),A,C=Infinity,a=C,v=-C,g=-C;function h(p){p=s(p),p[0]<C&&(C=p[0]),p[0]>v&&(v=p[0]),p[1]<a&&(a=p[1]),p[1]>g&&(g=p[1])}function u(p){switch(p.type){case"GeometryCollection":p.geometries.forEach(u);break;case"Point":h(p.coordinates);break;case"MultiPoint":p.coordinates.forEach(h);break}}P.arcs.forEach(function(p){for(var y=-1,m=p.length,x;++y<m;)x=s(p[y],y),x[0]<C&&(C=x[0]),x[0]>v&&(v=x[0]),x[1]<a&&(a=x[1]),x[1]>g&&(g=x[1])});for(A in P.objects)u(P.objects[A]);return[C,a,v,g]},b=function(P,s){for(var A,C=P.length,a=C-s;a<--C;)A=P[a],P[a++]=P[C],P[C]=A},i=function(P,s){return s.type==="GeometryCollection"?{type:"FeatureCollection",features:s.geometries.map(function(A){return te(P,A)})}:te(P,s)};function te(P,s){var A=s.id,C=s.bbox,a=s.properties==null?{}:s.properties,v=re(P,s);return A==null&&C==null?{type:"Feature",properties:a,geometry:v}:C==null?{type:"Feature",id:A,properties:a,geometry:v}:{type:"Feature",id:A,bbox:C,properties:a,geometry:v}}function re(P,s){var A=f(P.transform),C=P.arcs;function a(y,m){m.length&&m.pop();for(var x=C[y<0?~y:y],L=0,X=x.length;L<X;++L)m.push(A(x[L],L));y<0&&b(m,X)}function v(y){return A(y)}function g(y){for(var m=[],x=0,L=y.length;x<L;++x)a(y[x],m);return m.length<2&&m.push(m[0]),m}function h(y){for(var m=g(y);m.length<4;)m.push(m[0]);return m}function u(y){return y.map(h)}function p(y){var m=y.type,x;switch(m){case"GeometryCollection":return{type:m,geometries:y.geometries.map(p)};case"Point":x=v(y.coordinates);break;case"MultiPoint":x=y.coordinates.map(v);break;case"LineString":x=g(y.arcs);break;case"MultiLineString":x=y.arcs.map(g);break;case"Polygon":x=u(y.arcs);break;case"MultiPolygon":x=y.arcs.map(u);break;default:return null}return{type:m,coordinates:x}}return p(s)}var t=function(P,s){var A={},C={},a={},v=[],g=-1;s.forEach(function(p,y){var m=P.arcs[p<0?~p:p],x;m.length<3&&!m[1][0]&&!m[1][1]&&(x=s[++g],s[g]=p,s[y]=x)}),s.forEach(function(p){var y=h(p),m=y[0],x=y[1],L,X;if(L=a[m])if(delete a[L.end],L.push(p),L.end=x,X=C[x]){delete C[X.start];var R=X===L?L:L.concat(X);C[R.start=L.start]=a[R.end=X.end]=R}else C[L.start]=a[L.end]=L;else if(L=C[x])if(delete C[L.start],L.unshift(p),L.start=m,X=a[m]){delete a[X.end];var I=X===L?L:X.concat(L);C[I.start=X.start]=a[I.end=L.end]=I}else C[L.start]=a[L.end]=L;else L=[p],C[L.start=m]=a[L.end=x]=L});function h(p){var y=P.arcs[p<0?~p:p],m=y[0],x;return P.transform?(x=[0,0],y.forEach(function(L){x[0]+=L[0],x[1]+=L[1]})):x=y[y.length-1],p<0?[x,m]:[m,x]}function u(p,y){for(var m in p){var x=p[m];delete y[x.start],delete x.start,delete x.end,x.forEach(function(L){A[L<0?~L:L]=1}),v.push(x)}}return u(a,C),u(C,a),s.forEach(function(p){A[p<0?~p:p]||v.push([p])}),v},k=function(P){return re(P,n.apply(this,arguments))};function n(P,s,A){var C,a,v;if(arguments.length>1)C=O(P,s,A);else for(a=0,C=new Array(v=P.arcs.length);a<v;++a)C[a]=a;return{type:"MultiLineString",arcs:t(P,C)}}function O(P,s,A){var C=[],a=[],v;function g(m){var x=m<0?~m:m;(a[x]||(a[x]=[])).push({i:m,g:v})}function h(m){m.forEach(g)}function u(m){m.forEach(h)}function p(m){m.forEach(u)}function y(m){switch(v=m,m.type){case"GeometryCollection":m.geometries.forEach(y);break;case"LineString":h(m.arcs);break;case"MultiLineString":case"Polygon":u(m.arcs);break;case"MultiPolygon":p(m.arcs);break}}return y(s),a.forEach(A==null?function(m){C.push(m[0].i)}:function(m){A(m[0].g,m[m.length-1].g)&&C.push(m[0].i)}),C}function c(P){for(var s=-1,A=P.length,C,a=P[A-1],v=0;++s<A;)C=a,a=P[s],v+=C[0]*a[1]-C[1]*a[0];return Math.abs(v)}var _=function(P){return re(P,W.apply(this,arguments))};function W(P,s){var A={},C=[],a=[];s.forEach(v);function v(u){switch(u.type){case"GeometryCollection":u.geometries.forEach(v);break;case"Polygon":g(u.arcs);break;case"MultiPolygon":u.arcs.forEach(g);break}}function g(u){u.forEach(function(p){p.forEach(function(y){(A[y=y<0?~y:y]||(A[y]=[])).push(u)})}),C.push(u)}function h(u){return c(re(P,{type:"Polygon",arcs:[u]}).coordinates[0])}return C.forEach(function(u){if(!u._){var p=[],y=[u];for(u._=1,a.push(p);u=y.pop();)p.push(u),u.forEach(function(m){m.forEach(function(x){A[x<0?~x:x].forEach(function(L){L._||(L._=1,y.push(L))})})})}}),C.forEach(function(u){delete u._}),{type:"MultiPolygon",arcs:a.map(function(u){var p=[],y;if(u.forEach(function(R){R.forEach(function(I){I.forEach(function(D){A[D<0?~D:D].length<2&&p.push(D)})})}),p=t(P,p),(y=p.length)>1)for(var m=1,x=h(p[0]),L,X;m<y;++m)(L=h(p[m]))>x&&(X=p[0],p[0]=p[m],p[m]=X,x=L);return p})}}var V=function(P,s){for(var A=0,C=P.length;A<C;){var a=A+C>>>1;P[a]<s?A=a+1:C=a}return A},fe=function(P){var s={},A=P.map(function(){return[]});function C(R,I){R.forEach(function(D){D<0&&(D=~D);var B=s[D];B?B.push(I):s[D]=[I]})}function a(R,I){R.forEach(function(D){C(D,I)})}function v(R,I){R.type==="GeometryCollection"?R.geometries.forEach(function(D){v(D,I)}):R.type in g&&g[R.type](R.arcs,I)}var g={LineString:C,MultiLineString:a,Polygon:a,MultiPolygon:function(R,I){R.forEach(function(D){a(D,I)})}};P.forEach(v);for(var h in s)for(var u=s[h],p=u.length,y=0;y<p;++y)for(var m=y+1;m<p;++m){var x=u[y],L=u[m],X;(X=A[x])[h=V(X,L)]!==L&&X.splice(h,0,L),(X=A[L])[h=V(X,x)]!==x&&X.splice(h,0,x)}return A},j=function(P){if(P==null)return r;var s,A,C=P.scale[0],a=P.scale[1],v=P.translate[0],g=P.translate[1];return function(h,u){u||(s=A=0);var p=2,y=h.length,m=new Array(y),x=Math.round((h[0]-v)/C),L=Math.round((h[1]-g)/a);for(m[0]=x-s,s=x,m[1]=L-A,A=L;p<y;)m[p]=h[p],++p;return m}},ve=function(P,s){if(P.transform)throw new Error("already quantized");if(!s||!s.scale){if(!((g=Math.floor(s))>=2))throw new Error("n must be \u22652");u=P.bbox||o(P);var A=u[0],C=u[1],a=u[2],v=u[3],g;s={scale:[a-A?(a-A)/(g-1):1,v-C?(v-C)/(g-1):1],translate:[A,C]}}else u=P.bbox;var h=j(s),u,p,y=P.objects,m={};function x(R){return h(R)}function L(R){var I;switch(R.type){case"GeometryCollection":I={type:"GeometryCollection",geometries:R.geometries.map(L)};break;case"Point":I={type:"Point",coordinates:x(R.coordinates)};break;case"MultiPoint":I={type:"MultiPoint",coordinates:R.coordinates.map(x)};break;default:return R}return R.id!=null&&(I.id=R.id),R.bbox!=null&&(I.bbox=R.bbox),R.properties!=null&&(I.properties=R.properties),I}function X(R){var I=0,D=1,B=R.length,Q,U=new Array(B);for(U[0]=h(R[0],0);++I<B;)((Q=h(R[I],I))[0]||Q[1])&&(U[D++]=Q);return D===1&&(U[D++]=[0,0]),U.length=D,U}for(p in y)m[p]=L(y[p]);return{type:"Topology",bbox:u,transform:s,objects:m,arcs:P.arcs.map(X)}};e.bbox=o,e.feature=i,e.mesh=k,e.meshArcs=n,e.merge=_,e.mergeArcs=W,e.neighbors=fe,e.quantize=ve,e.transform=f,e.untransform=j,Object.defineProperty(e,"__esModule",{value:!0})})});var Vs=At((Fi,Gs)=>{(function(e,r){typeof Fi=="object"&&typeof Gs!="undefined"?r(Fi):typeof define=="function"&&define.amd?define(["exports"],r):r(e.topojson=e.topojson||{})})(Fi,function(e){"use strict";var r=function(g){var h=Infinity,u=Infinity,p=-Infinity,y=-Infinity;function m(D){D!=null&&x.hasOwnProperty(D.type)&&x[D.type](D)}var x={GeometryCollection:function(D){D.geometries.forEach(m)},Point:function(D){L(D.coordinates)},MultiPoint:function(D){D.coordinates.forEach(L)},LineString:function(D){X(D.arcs)},MultiLineString:function(D){D.arcs.forEach(X)},Polygon:function(D){D.arcs.forEach(X)},MultiPolygon:function(D){D.arcs.forEach(R)}};function L(D){var B=D[0],Q=D[1];B<h&&(h=B),B>p&&(p=B),Q<u&&(u=Q),Q>y&&(y=Q)}function X(D){D.forEach(L)}function R(D){D.forEach(X)}for(var I in g)m(g[I]);return p>=h&&y>=u?[h,u,p,y]:void 0},f=function(g,h,u,p,y){arguments.length===3&&(p=Array,y=null);for(var m=new p(g=1<<Math.max(4,Math.ceil(Math.log(g)/Math.LN2))),x=g-1,L=0;L<g;++L)m[L]=y;function X(D){for(var B=h(D)&x,Q=m[B],U=0;Q!=y;){if(u(Q,D))return!0;if(++U>=g)throw new Error("full hashset");Q=m[B=B+1&x]}return m[B]=D,!0}function R(D){for(var B=h(D)&x,Q=m[B],U=0;Q!=y;){if(u(Q,D))return!0;if(++U>=g)break;Q=m[B=B+1&x]}return!1}function I(){for(var D=[],B=0,Q=m.length;B<Q;++B){var U=m[B];U!=y&&D.push(U)}return D}return{add:X,has:R,values:I}},o=function(g,h,u,p,y,m){arguments.length===3&&(p=m=Array,y=null);for(var x=new p(g=1<<Math.max(4,Math.ceil(Math.log(g)/Math.LN2))),L=new m(g),X=g-1,R=0;R<g;++R)x[R]=y;function I(U,Y){for(var pe=h(U)&X,Ce=x[pe],Pe=0;Ce!=y;){if(u(Ce,U))return L[pe]=Y;if(++Pe>=g)throw new Error("full hashmap");Ce=x[pe=pe+1&X]}return x[pe]=U,L[pe]=Y,Y}function D(U,Y){for(var pe=h(U)&X,Ce=x[pe],Pe=0;Ce!=y;){if(u(Ce,U))return L[pe];if(++Pe>=g)throw new Error("full hashmap");Ce=x[pe=pe+1&X]}return x[pe]=U,L[pe]=Y,Y}function B(U,Y){for(var pe=h(U)&X,Ce=x[pe],Pe=0;Ce!=y;){if(u(Ce,U))return L[pe];if(++Pe>=g)break;Ce=x[pe=pe+1&X]}return Y}function Q(){for(var U=[],Y=0,pe=x.length;Y<pe;++Y){var Ce=x[Y];Ce!=y&&U.push(Ce)}return U}return{set:I,maybeSet:D,get:B,keys:Q}},b=function(g,h){return g[0]===h[0]&&g[1]===h[1]},i=new ArrayBuffer(16),te=new Float64Array(i),re=new Uint32Array(i),t=function(g){te[0]=g[0],te[1]=g[1];var h=re[0]^re[1];return h=h<<5^h>>7^re[2]^re[3],h&2147483647},k=function(g){var h=g.coordinates,u=g.lines,p=g.rings,y=T(),m=new Int32Array(h.length),x=new Int32Array(h.length),L=new Int32Array(h.length),X=new Int8Array(h.length),R=0,I,D,B,Q,U;for(I=0,D=h.length;I<D;++I)m[I]=x[I]=L[I]=-1;for(I=0,D=u.length;I<D;++I){var Y=u[I],pe=Y[0],Ce=Y[1];for(Q=y[pe],U=y[++pe],++R,X[Q]=1;++pe<=Ce;)S(I,B=Q,Q=U,U=y[pe]);++R,X[U]=1}for(I=0,D=h.length;I<D;++I)m[I]=-1;for(I=0,D=p.length;I<D;++I){var Pe=p[I],l=Pe[0]+1,F=Pe[1];for(B=y[F-1],Q=y[l-1],U=y[l],S(I,B,Q,U);++l<=F;)S(I,B=Q,Q=U,U=y[l])}function S(ge,Se,he,oe){if(m[he]!==ge){m[he]=ge;var ye=x[he];if(ye>=0){var Oe=L[he];(ye!==Se||Oe!==oe)&&(ye!==oe||Oe!==Se)&&(++R,X[he]=1)}else x[he]=Se,L[he]=oe}}function T(){for(var ge=o(h.length*1.4,d,$,Int32Array,-1,Int32Array),Se=new Int32Array(h.length),he=0,oe=h.length;he<oe;++he)Se[he]=ge.maybeSet(he,he);return Se}function d(ge){return t(h[ge])}function $(ge,Se){return b(h[ge],h[Se])}m=x=L=null;var le=f(R*1.4,t,b),q;for(I=0,D=h.length;I<D;++I)X[q=y[I]]&&le.add(h[q]);return le},n=function(g){var h=k(g),u=g.coordinates,p=g.lines,y=g.rings,m,x,L;for(x=0,L=p.length;x<L;++x)for(var X=p[x],R=X[0],I=X[1];++R<I;)h.has(u[R])&&(m={0:R,1:X[1]},X[1]=R,X=X.next=m);for(x=0,L=y.length;x<L;++x)for(var D=y[x],B=D[0],Q=B,U=D[1],Y=h.has(u[B]);++Q<U;)h.has(u[Q])&&(Y?(m={0:Q,1:D[1]},D[1]=Q,D=D.next=m):(O(u,B,U,U-Q),u[U]=u[B],Y=!0,Q=B));return g};function O(g,h,u,p){c(g,h,u),c(g,h,h+p),c(g,h+p,u)}function c(g,h,u){for(var p=h+(u---h>>1),y;h<p;++h,--u)y=g[h],g[h]=g[u],g[u]=y}var _=function(g){var h=g.coordinates,u=g.lines,p,y=g.rings,m,x=u.length+y.length,L,X;for(delete g.lines,delete g.rings,L=0,X=u.length;L<X;++L)for(p=u[L];p=p.next;)++x;for(L=0,X=y.length;L<X;++L)for(m=y[L];m=m.next;)++x;var R=o(x*2*1.4,t,b),I=g.arcs=[];for(L=0,X=u.length;L<X;++L){p=u[L];do D(p);while(p=p.next)}for(L=0,X=y.length;L<X;++L)if(m=y[L],m.next)do D(m);while(m=m.next);else B(m);function D(Pe){var l,F,S,T,d,$,le,q;if(S=R.get(l=h[Pe[0]])){for(le=0,q=S.length;le<q;++le)if(T=S[le],Q(T,Pe)){Pe[0]=T[0],Pe[1]=T[1];return}}if(d=R.get(F=h[Pe[1]])){for(le=0,q=d.length;le<q;++le)if($=d[le],U($,Pe)){Pe[1]=$[0],Pe[0]=$[1];return}}S?S.push(Pe):R.set(l,[Pe]),d?d.push(Pe):R.set(F,[Pe]),I.push(Pe)}function B(Pe){var l,F,S,T,d;if(F=R.get(l=h[Pe[0]]))for(T=0,d=F.length;T<d;++T){if(S=F[T],Y(S,Pe)){Pe[0]=S[0],Pe[1]=S[1];return}if(pe(S,Pe)){Pe[0]=S[1],Pe[1]=S[0];return}}if(F=R.get(l=h[Pe[0]+Ce(Pe)]))for(T=0,d=F.length;T<d;++T){if(S=F[T],Y(S,Pe)){Pe[0]=S[0],Pe[1]=S[1];return}if(pe(S,Pe)){Pe[0]=S[1],Pe[1]=S[0];return}}F?F.push(Pe):R.set(l,[Pe]),I.push(Pe)}function Q(Pe,l){var F=Pe[0],S=l[0],T=Pe[1],d=l[1];if(F-T!=S-d)return!1;for(;F<=T;++F,++S)if(!b(h[F],h[S]))return!1;return!0}function U(Pe,l){var F=Pe[0],S=l[0],T=Pe[1],d=l[1];if(F-T!=S-d)return!1;for(;F<=T;++F,--d)if(!b(h[F],h[d]))return!1;return!0}function Y(Pe,l){var F=Pe[0],S=l[0],T=Pe[1],d=l[1],$=T-F;if($!==d-S)return!1;for(var le=Ce(Pe),q=Ce(l),ge=0;ge<$;++ge)if(!b(h[F+(ge+le)%$],h[S+(ge+q)%$]))return!1;return!0}function pe(Pe,l){var F=Pe[0],S=l[0],T=Pe[1],d=l[1],$=T-F;if($!==d-S)return!1;for(var le=Ce(Pe),q=$-Ce(l),ge=0;ge<$;++ge)if(!b(h[F+(ge+le)%$],h[d-(ge+q)%$]))return!1;return!0}function Ce(Pe){for(var l=Pe[0],F=Pe[1],S=l,T=S,d=h[S];++S<F;){var $=h[S];($[0]<d[0]||$[0]===d[0]&&$[1]<d[1])&&(T=S,d=$)}return T-l}return g},W=function(g){for(var h=-1,u=g.length;++h<u;){for(var p=g[h],y=0,m=1,x=p.length,L=p[0],X=L[0],R=L[1],I,D;++y<x;)L=p[y],I=L[0],D=L[1],(I!==X||D!==R)&&(p[m++]=[I-X,D-R],X=I,R=D);m===1&&(p[m++]=[0,0]),p.length=m}return g},V=function(g){var h=-1,u=[],p=[],y=[];function m(D){D&&x.hasOwnProperty(D.type)&&x[D.type](D)}var x={GeometryCollection:function(D){D.geometries.forEach(m)},LineString:function(D){D.arcs=L(D.arcs)},MultiLineString:function(D){D.arcs=D.arcs.map(L)},Polygon:function(D){D.arcs=D.arcs.map(X)},MultiPolygon:function(D){D.arcs=D.arcs.map(R)}};function L(D){for(var B=0,Q=D.length;B<Q;++B)y[++h]=D[B];var U={0:h-Q+1,1:h};return u.push(U),U}function X(D){for(var B=0,Q=D.length;B<Q;++B)y[++h]=D[B];var U={0:h-Q+1,1:h};return p.push(U),U}function R(D){return D.map(X)}for(var I in g)m(g[I]);return{type:"Topology",coordinates:y,lines:u,rings:p,objects:g}},fe=function(g){var h={},u;for(u in g)h[u]=j(g[u]);return h};function j(g){return g==null?{type:null}:(g.type==="FeatureCollection"?ve:g.type==="Feature"?P:s)(g)}function ve(g){var h={type:"GeometryCollection",geometries:g.features.map(P)};return g.bbox!=null&&(h.bbox=g.bbox),h}function P(g){var h=s(g.geometry),u;g.id!=null&&(h.id=g.id),g.bbox!=null&&(h.bbox=g.bbox);for(u in g.properties){h.properties=g.properties;break}return h}function s(g){if(g==null)return{type:null};var h=g.type==="GeometryCollection"?{type:"GeometryCollection",geometries:g.geometries.map(s)}:g.type==="Point"||g.type==="MultiPoint"?{type:g.type,coordinates:g.coordinates}:{type:g.type,arcs:g.coordinates};return g.bbox!=null&&(h.bbox=g.bbox),h}var A=function(g,h,u){var p=h[0],y=h[1],m=h[2],x=h[3],L=m-p?(u-1)/(m-p):1,X=x-y?(u-1)/(x-y):1;function R(Ce){return[Math.round((Ce[0]-p)*L),Math.round((Ce[1]-y)*X)]}function I(Ce,Pe){for(var l=-1,F=0,S=Ce.length,T=new Array(S),d,$,le,q,ge;++l<S;)d=Ce[l],q=Math.round((d[0]-p)*L),ge=Math.round((d[1]-y)*X),(q!==$||ge!==le)&&(T[F++]=[$=q,le=ge]);for(T.length=F;F<Pe;)F=T.push([T[0][0],T[0][1]]);return T}function D(Ce){return I(Ce,2)}function B(Ce){return I(Ce,4)}function Q(Ce){return Ce.map(B)}function U(Ce){Ce!=null&&Y.hasOwnProperty(Ce.type)&&Y[Ce.type](Ce)}var Y={GeometryCollection:function(Ce){Ce.geometries.forEach(U)},Point:function(Ce){Ce.coordinates=R(Ce.coordinates)},MultiPoint:function(Ce){Ce.coordinates=Ce.coordinates.map(R)},LineString:function(Ce){Ce.arcs=D(Ce.arcs)},MultiLineString:function(Ce){Ce.arcs=Ce.arcs.map(D)},Polygon:function(Ce){Ce.arcs=Q(Ce.arcs)},MultiPolygon:function(Ce){Ce.arcs=Ce.arcs.map(Q)}};for(var pe in g)U(g[pe]);return{scale:[1/L,1/X],translate:[p,y]}},C=function(g,h){var u=r(g=fe(g)),p=h>0&&u&&A(g,u,h),y=_(n(V(g))),m=y.coordinates,x=o(y.arcs.length*1.4,a,v);g=y.objects,y.bbox=u,y.arcs=y.arcs.map(function(B,Q){return x.set(B,Q),m.slice(B[0],B[1]+1)}),delete y.coordinates,m=null;function L(B){B&&X.hasOwnProperty(B.type)&&X[B.type](B)}var X={GeometryCollection:function(B){B.geometries.forEach(L)},LineString:function(B){B.arcs=R(B.arcs)},MultiLineString:function(B){B.arcs=B.arcs.map(R)},Polygon:function(B){B.arcs=B.arcs.map(R)},MultiPolygon:function(B){B.arcs=B.arcs.map(I)}};function R(B){var Q=[];do{var U=x.get(B);Q.push(B[0]<B[1]?U:~U)}while(B=B.next);return Q}function I(B){return B.map(R)}for(var D in g)L(g[D]);return p&&(y.transform=p,y.arcs=W(y.arcs)),y};function a(g){var h=g[0],u=g[1],p;return u<h&&(p=h,h=u,u=p),h+31*u}function v(g,h){var u=g[0],p=g[1],y=h[0],m=h[1],x;return p<u&&(x=u,u=p,p=x),m<y&&(x=y,y=m,m=x),u===y&&p===m}e.topology=C,Object.defineProperty(e,"__esModule",{value:!0})})});var Xs=At((qi,$s)=>{(function(e,r){typeof qi=="object"&&typeof $s!="undefined"?r(qi,ja()):typeof define=="function"&&define.amd?define(["exports","topojson-client"],r):r(e.topojson=e.topojson||{},e.topojson)})(qi,function(e,r){"use strict";var f=function(x){var L=x.objects,X={},R=x.arcs,I=R.length,D=-1,B=new Array(I),Q=0,U,Y=-1,pe;function Ce(le){switch(le.type){case"GeometryCollection":le.geometries.forEach(Ce);break;case"LineString":l(le.arcs);break;case"MultiLineString":le.arcs.forEach(l);break;case"Polygon":le.arcs.forEach(l);break;case"MultiPolygon":le.arcs.forEach(F);break}}function Pe(le){le<0&&(le=~le),B[le]||(B[le]=1,++Q)}function l(le){le.forEach(Pe)}function F(le){le.forEach(l)}function S(le){var q;switch(le.type){case"GeometryCollection":q={type:"GeometryCollection",geometries:le.geometries.map(S)};break;case"LineString":q={type:"LineString",arcs:d(le.arcs)};break;case"MultiLineString":q={type:"MultiLineString",arcs:le.arcs.map(d)};break;case"Polygon":q={type:"Polygon",arcs:le.arcs.map(d)};break;case"MultiPolygon":q={type:"MultiPolygon",arcs:le.arcs.map($)};break;default:return le}return le.id!=null&&(q.id=le.id),le.bbox!=null&&(q.bbox=le.bbox),le.properties!=null&&(q.properties=le.properties),q}function T(le){return le<0?~B[~le]:B[le]}function d(le){return le.map(T)}function $(le){return le.map(d)}for(pe in L)Ce(L[pe]);for(U=new Array(Q);++D<I;)B[D]&&(B[D]=++Y,U[Y]=R[D]);for(pe in L)X[pe]=S(L[pe]);return{type:"Topology",bbox:x.bbox,transform:x.transform,objects:X,arcs:U}},o=function(x,L){var X=x.objects,R={},I;L==null&&(L=b);function D(Y){var pe,Ce;switch(Y.type){case"Polygon":{Ce=B(Y.arcs),pe=Ce?{type:"Polygon",arcs:Ce}:{type:null};break}case"MultiPolygon":{Ce=Y.arcs.map(B).filter(i),pe=Ce.length?{type:"MultiPolygon",arcs:Ce}:{type:null};break}case"GeometryCollection":{Ce=Y.geometries.map(D).filter(te),pe=Ce.length?{type:"GeometryCollection",geometries:Ce}:{type:null};break}default:return Y}return Y.id!=null&&(pe.id=Y.id),Y.bbox!=null&&(pe.bbox=Y.bbox),Y.properties!=null&&(pe.properties=Y.properties),pe}function B(Y){return Y.length&&Q(Y[0])?[Y[0]].concat(Y.slice(1).filter(U)):null}function Q(Y){return L(Y,!1)}function U(Y){return L(Y,!0)}for(I in X)R[I]=D(X[I]);return f({type:"Topology",bbox:x.bbox,transform:x.transform,objects:R,arcs:x.arcs})};function b(){return!0}function i(x){return x}function te(x){return x.type!=null}var re=function(x){var L=new Array(x.arcs.length),X=0,R;function I(B){switch(B.type){case"GeometryCollection":B.geometries.forEach(I);break;case"Polygon":D(B.arcs);break;case"MultiPolygon":B.arcs.forEach(D);break}}function D(B){for(var Q=0,U=B.length;Q<U;++Q,++X)for(var Y=B[Q],pe=0,Ce=Y.length;pe<Ce;++pe){var Pe=Y[pe];Pe<0&&(Pe=~Pe);var l=L[Pe];l==null?L[Pe]=X:l!==X&&(L[Pe]=-1)}}for(R in x.objects)I(x.objects[R]);return function(B){for(var Q=0,U=B.length,Y;Q<U;++Q)if(L[(Y=B[Q])<0?~Y:Y]===-1)return!0;return!1}};function t(x){var L=x[0],X=x[1],R=x[2];return Math.abs((L[0]-R[0])*(X[1]-L[1])-(L[0]-X[0])*(R[1]-L[1]))/2}function k(x){for(var L=-1,X=x.length,R,I=x[X-1],D=0;++L<X;)R=I,I=x[L],D+=R[0]*I[1]-R[1]*I[0];return Math.abs(D)/2}var n=function(x,L,X){return L=L==null?Number.MIN_VALUE:+L,X==null&&(X=k),function(R,I){return X(r.feature(x,{type:"Polygon",arcs:[R]}).geometry.coordinates[0],I)>=L}},O=function(x,L,X){var R=re(x),I=n(x,L,X);return function(D,B){return R(D,B)||I(D,B)}};function c(x,L){return x[1][2]-L[1][2]}var _=function(){var x={},L=[],X=0;x.push=function(D){return R(L[D._=X]=D,X++),X},x.pop=function(){if(!(X<=0)){var D=L[0],B;return--X>0&&(B=L[X],I(L[B._=0]=B,0)),D}},x.remove=function(D){var B=D._,Q;if(L[B]===D)return B!==--X&&(Q=L[X],(c(Q,D)<0?R:I)(L[Q._=B]=Q,B)),B};function R(D,B){for(;B>0;){var Q=(B+1>>1)-1,U=L[Q];if(c(D,U)>=0)break;L[U._=B]=U,L[D._=B=Q]=D}}function I(D,B){for(;;){var Q=B+1<<1,U=Q-1,Y=B,pe=L[Y];if(U<X&&c(L[U],pe)<0&&(pe=L[Y=U]),Q<X&&c(L[Q],pe)<0&&(pe=L[Y=Q]),Y===B)break;L[pe._=B]=pe,L[D._=B=Y]=D}}return x};function W(x){return[x[0],x[1],0]}var V=function(x,L){var X=x.transform?r.transform(x.transform):W,R=_();L==null&&(L=t);var I=x.arcs.map(function(B){var Q=[],U=0,Y,pe,Ce;for(B=B.map(X),pe=1,Ce=B.length-1;pe<Ce;++pe)Y=[B[pe-1],B[pe],B[pe+1]],Y[1][2]=L(Y),Q.push(Y),R.push(Y);for(B[0][2]=B[Ce][2]=Infinity,pe=0,Ce=Q.length;pe<Ce;++pe)Y=Q[pe],Y.previous=Q[pe-1],Y.next=Q[pe+1];for(;Y=R.pop();){var Pe=Y.previous,l=Y.next;Y[1][2]<U?Y[1][2]=U:U=Y[1][2],Pe&&(Pe.next=l,Pe[2]=Y[2],D(Pe)),l&&(l.previous=Pe,l[0]=Y[0],D(l))}return B});function D(B){R.remove(B),B[1][2]=L(B),R.push(B)}return{type:"Topology",bbox:x.bbox,objects:x.objects,arcs:I}},fe=function(x,L){var X=[];return x.arcs.forEach(function(R){R.forEach(function(I){isFinite(I[2])&&X.push(I[2])})}),X.length&&j(X.sort(ve),L)};function j(x,L){if(!!(X=x.length)){if((L=+L)<=0||X<2)return x[0];if(L>=1)return x[X-1];var X,R=(X-1)*L,I=Math.floor(R),D=x[I],B=x[I+1];return D+(B-D)*(R-I)}}function ve(x,L){return L-x}var P=function(x,L){L=L==null?Number.MIN_VALUE:+L;var X=x.arcs.map(function(R){for(var I=-1,D=0,B=R.length,Q=new Array(B),U;++I<B;)(U=R[I])[2]>=L&&(Q[D++]=[U[0],U[1]]);return Q.length=D,Q});return{type:"Topology",transform:x.transform,bbox:x.bbox,objects:x.objects,arcs:X}},s=Math.PI,A=2*s,C=s/4,a=s/180,v=Math.abs,g=Math.atan2,h=Math.cos,u=Math.sin;function p(x,L){for(var X=0,R=x.length,I=0,D=x[L?X++:R-1],B,Q=D[0]*a,U=D[1]*a/2+C,Y,pe=h(U),Ce,Pe=u(U);X<R;++X){D=x[X],B=Q,Q=D[0]*a,U=D[1]*a/2+C,Y=pe,pe=h(U),Ce=Pe,Pe=u(U);var l=Q-B,F=l>=0?1:-1,S=F*l,T=Ce*Pe,d=Y*pe+T*h(S),$=T*F*u(S);I+=g($,d)}return I}function y(x,L){var X=p(x,!0);return L&&(X*=-1),(X<0?A+X:X)*2}function m(x){return v(p(x,!1))*2}e.filter=o,e.filterAttached=re,e.filterAttachedWeight=O,e.filterWeight=n,e.planarRingArea=k,e.planarTriangleArea=t,e.presimplify=V,e.quantile=fe,e.simplify=P,e.sphericalRingArea=y,e.sphericalTriangleArea=m,Object.defineProperty(e,"__esModule",{value:!0})})});var Zs=At(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});var Ws=ja(),js=Vs(),Ks=Xs();Object.keys(Ws).forEach(function(e){Fr[e]=Ws[e]});Object.keys(js).forEach(function(e){Fr[e]=js[e]});Object.keys(Ks).forEach(function(e){Fr[e]=Ks[e]})});var Qs=At((Ka,Za)=>{(function(e,r){typeof Ka=="object"&&typeof Za!="undefined"?Za.exports=r(zr(),cr()):typeof define=="function"&&define.amd?define(["d3-collection","d3-selection"],r):(e.d3=e.d3||{},e.d3.tip=r(e.d3,e.d3))})(Ka,function(e,r){"use strict";function f(){var o=c,b=_,i=W,te=document.body,re=g(),t=null,k=null,n=null;function O(m){t=h(m),!!t&&(k=t.createSVGPoint(),te.appendChild(re))}O.show=function(){var m=Array.prototype.slice.call(arguments);m[m.length-1]instanceof SVGElement&&(n=m.pop());var x=i.apply(this,m),L=b.apply(this,m),X=o.apply(this,m),R=u(),I=fe.length,D,B=document.documentElement.scrollTop||te.scrollTop,Q=document.documentElement.scrollLeft||te.scrollLeft;for(R.html(x).style("opacity",1).style("pointer-events","all");I--;)R.classed(fe[I],!1);return D=V.get(X).apply(this),R.classed(X,!0).style("top",D.top+L[0]+B+"px").style("left",D.left+L[1]+Q+"px"),O},O.hide=function(){var m=u();return m.style("opacity",0).style("pointer-events","none"),O},O.attr=function(m,x){if(arguments.length<2&&typeof m=="string")return u().attr(m);var L=Array.prototype.slice.call(arguments);return r.selection.prototype.attr.apply(u(),L),O},O.style=function(m,x){if(arguments.length<2&&typeof m=="string")return u().style(m);var L=Array.prototype.slice.call(arguments);return r.selection.prototype.style.apply(u(),L),O},O.direction=function(m){return arguments.length?(o=m==null?m:y(m),O):o},O.offset=function(m){return arguments.length?(b=m==null?m:y(m),O):b},O.html=function(m){return arguments.length?(i=m==null?m:y(m),O):i},O.rootElement=function(m){return arguments.length?(te=m==null?m:y(m),O):te},O.destroy=function(){return re&&(u().remove(),re=null),O};function c(){return"n"}function _(){return[0,0]}function W(){return" "}var V=e.map({n:j,s:ve,e:P,w:s,nw:A,ne:C,sw:a,se:v}),fe=V.keys();function j(){var m=p(this);return{top:m.n.y-re.offsetHeight,left:m.n.x-re.offsetWidth/2}}function ve(){var m=p(this);return{top:m.s.y,left:m.s.x-re.offsetWidth/2}}function P(){var m=p(this);return{top:m.e.y-re.offsetHeight/2,left:m.e.x}}function s(){var m=p(this);return{top:m.w.y-re.offsetHeight/2,left:m.w.x-re.offsetWidth}}function A(){var m=p(this);return{top:m.nw.y-re.offsetHeight,left:m.nw.x-re.offsetWidth}}function C(){var m=p(this);return{top:m.ne.y-re.offsetHeight,left:m.ne.x}}function a(){var m=p(this);return{top:m.sw.y,left:m.sw.x-re.offsetWidth}}function v(){var m=p(this);return{top:m.se.y,left:m.se.x}}function g(){var m=r.select(document.createElement("div"));return m.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),m.node()}function h(m){var x=m.node();return x?x.tagName.toLowerCase()==="svg"?x:x.ownerSVGElement:null}function u(){return re==null&&(re=g(),te.appendChild(re)),r.select(re)}function p(m){for(var x=n||m;x.getScreenCTM==null&&x.parentNode!=null;)x=x.parentNode;var L={},X=x.getScreenCTM(),R=x.getBBox(),I=R.width,D=R.height,B=R.x,Q=R.y;return k.x=B,k.y=Q,L.nw=k.matrixTransform(X),k.x+=I,L.ne=k.matrixTransform(X),k.y+=D,L.se=k.matrixTransform(X),k.x-=I,L.sw=k.matrixTransform(X),k.y-=D/2,L.w=k.matrixTransform(X),k.x+=I,L.e=k.matrixTransform(X),k.x-=I/2,k.y-=D/2,L.n=k.matrixTransform(X),k.y+=D,L.s=k.matrixTransform(X),L}function y(m){return typeof m=="function"?m:function(){return m}}return O}return f})});var Js=At((zh,Bi)=>{(function(){function e(o,b){"use strict";var i={version:"3.2.2",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};i.chartRegistry=function(){var t={};function k(n){return n||(n=i.constants.DEFAULT_CHART_GROUP),t[n]||(t[n]=[]),n}return{has:function(n){for(var O in t)if(t[O].indexOf(n)>=0)return!0;return!1},register:function(n,O){O=k(O),t[O].push(n)},deregister:function(n,O){O=k(O);for(var c=0;c<t[O].length;c++)if(t[O][c].anchorName()===n.anchorName()){t[O].splice(c,1);break}},clear:function(n){n?delete t[n]:t={}},list:function(n){return n=k(n),t[n]}}}(),i.registerChart=function(t,k){i.chartRegistry.register(t,k)},i.deregisterChart=function(t,k){i.chartRegistry.deregister(t,k)},i.hasChart=function(t){return i.chartRegistry.has(t)},i.deregisterAllCharts=function(t){i.chartRegistry.clear(t)},i.filterAll=function(t){for(var k=i.chartRegistry.list(t),n=0;n<k.length;++n)k[n].filterAll()},i.refocusAll=function(t){for(var k=i.chartRegistry.list(t),n=0;n<k.length;++n)k[n].focus&&k[n].focus()},i.renderAll=function(t){for(var k=i.chartRegistry.list(t),n=0;n<k.length;++n)k[n].render();i._renderlet!==null&&i._renderlet(t)},i.redrawAll=function(t){for(var k=i.chartRegistry.list(t),n=0;n<k.length;++n)k[n].redraw();i._renderlet!==null&&i._renderlet(t)},i.disableTransitions=!1,i.transition=function(t,k,n,O){if(i.disableTransitions||k<=0)return t;var c=t.transition(O);return(k>=0||k!==void 0)&&(c=c.duration(k)),(n>=0||n!==void 0)&&(c=c.delay(n)),c},i.optionalTransition=function(t,k,n,O){return t?function(c){return i.transition(c,k,n,O)}:function(c){return c}},i.afterTransition=function(t,k){if(t.empty()||!t.duration)k.call(t);else{var n=0;t.each(function(){++n}).on("end",function(){--n||k.call(t)})}},i.units={},i.units.integers=function(t,k){return Math.abs(k-t)},i.units.ordinal=function(){throw new Error("dc.units.ordinal should not be called - it is a placeholder")},i.units.fp={},i.units.fp.precision=function(t){var k=function(n,O){var c=Math.abs((O-n)/k.resolution);return i.utils.isNegligible(c-Math.floor(c))?Math.floor(c):Math.ceil(c)};return k.resolution=t,k},i.round={},i.round.floor=function(t){return Math.floor(t)},i.round.ceil=function(t){return Math.ceil(t)},i.round.round=function(t){return Math.round(t)},i.override=function(t,k,n){var O=t[k];t["_"+k]=O,t[k]=n},i.renderlet=function(t){return arguments.length?(i._renderlet=t,i):i._renderlet},i.instanceOfChart=function(t){return t instanceof Object&&t.__dcFlag__&&!0},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){var k=(this.document||this.ownerDocument).querySelectorAll(t),n=k.length;do--n;while(n>=0&&k.item(n)!==this);return n>-1}),i.errors={},i.errors.Exception=function(t){var k=t||"Unexpected internal error";this.message=k,this.toString=function(){return k},this.stack=new Error().stack},i.errors.Exception.prototype=Object.create(Error.prototype),i.errors.Exception.prototype.constructor=i.errors.Exception,i.errors.InvalidStateException=function(){i.errors.Exception.apply(this,arguments)},i.errors.InvalidStateException.prototype=Object.create(i.errors.Exception.prototype),i.errors.InvalidStateException.prototype.constructor=i.errors.InvalidStateException,i.errors.BadArgumentException=function(){i.errors.Exception.apply(this,arguments)},i.errors.BadArgumentException.prototype=Object.create(i.errors.Exception.prototype),i.errors.BadArgumentException.prototype.constructor=i.errors.BadArgumentException,i.dateFormat=o.timeFormat("%m/%d/%Y"),i.printers={},i.printers.filters=function(t){for(var k="",n=0;n<t.length;++n)n>0&&(k+=", "),k+=i.printers.filter(t[n]);return k},i.printers.filter=function(t){var k="";return typeof t!="undefined"&&t!==null&&(t instanceof Array?t.length>=2?k="["+t.map(function(n){return i.utils.printSingleValue(n)}).join(" -> ")+"]":t.length>=1&&(k=i.utils.printSingleValue(t[0])):k=i.utils.printSingleValue(t)),k},i.pluck=function(t,k){return k?function(n,O){return k.call(n,n[t],O)}:function(n){return n[t]}},i.utils={},i.utils.printSingleValue=function(t){var k=""+t;return t instanceof Date?k=i.dateFormat(t):typeof t=="string"?k=t:i.utils.isFloat(t)?k=i.utils.printSingleValue.fformat(t):i.utils.isInteger(t)&&(k=Math.round(t)),k},i.utils.printSingleValue.fformat=o.format(".2f"),i.utils.toTimeFunc=function(t){return"time"+t.charAt(0).toUpperCase()+t.slice(1)},i.utils.add=function(t,k,n){if(typeof k=="string"&&(k=k.replace("%","")),t instanceof Date)return typeof k=="string"&&(k=+k),n==="millis"?new Date(t.getTime()+k):(n=n||o.timeDay,typeof n!="function"&&(n=o[i.utils.toTimeFunc(n)]),n.offset(t,k));if(typeof k=="string"){var O=+k/100;return t>0?t*(1+O):t*(1-O)}else return t+k},i.utils.subtract=function(t,k,n){if(typeof k=="string"&&(k=k.replace("%","")),t instanceof Date)return typeof k=="string"&&(k=+k),n==="millis"?new Date(t.getTime()-k):(n=n||o.timeDay,typeof n!="function"&&(n=o[i.utils.toTimeFunc(n)]),n.offset(t,-k));if(typeof k=="string"){var O=+k/100;return t<0?t*(1+O):t*(1-O)}else return t-k},i.utils.isNumber=function(t){return t===+t},i.utils.isFloat=function(t){return t===+t&&t!==(t|0)},i.utils.isInteger=function(t){return t===+t&&t===(t|0)},i.utils.isNegligible=function(t){return!i.utils.isNumber(t)||t<i.constants.NEGLIGIBLE_NUMBER&&t>-i.constants.NEGLIGIBLE_NUMBER},i.utils.clamp=function(t,k,n){return t<k?k:t>n?n:t},i.utils.constant=function(t){return function(){return t}};var te=0;i.utils.uniqueId=function(){return++te},i.utils.nameToId=function(t){return t.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},i.utils.appendOrSelect=function(t,k,n){n=n||k;var O=t.select(k);return O.empty()&&(O=t.append(n)),O},i.utils.safeNumber=function(t){return i.utils.isNumber(+t)?+t:0},i.utils.arraysEqual=function(t,k){return!t&&!k?!0:!t||!k?!1:t.length===k.length&&t.every(function(n,O){return n.valueOf()===k[O].valueOf()})},i.utils.allChildren=function(t){var k=[];if(k.push(t.path),console.log("currentNode",t),t.children)for(var n=0;n<t.children.length;n++)k=k.concat(i.utils.allChildren(t.children[n]));return k},i.utils.toHierarchy=function(t,k){for(var n={key:"root",children:[]},O=0;O<t.length;O++)for(var c=t[O],_=c.key,W=k(c),V=n,fe=0;fe<_.length;fe++){var j=_.slice(0,fe+1),ve=V.children,P=_[fe],s;fe+1<_.length?(s=re(ve,P),s===void 0&&(s={key:P,children:[],path:j},ve.push(s)),V=s):(s={key:P,value:W,data:c,path:j},ve.push(s))}return n};function re(t,k){for(var n=0;n<t.length;n++)if(t[n].key===k)return t[n]}return i.utils.getAncestors=function(t){for(var k=[],n=t;n.parent;)k.unshift(n.name),n=n.parent;return k},i.utils.arraysIdentical=function(t,k){var n=t.length;if(n!==k.length)return!1;for(;n--;)if(t[n]!==k[n])return!1;return!0},typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(k,n){"use strict";if(k===null)throw new TypeError("Cannot convert undefined or null to object");for(var O=Object(k),c=1;c<arguments.length;c++){var _=arguments[c];if(_!==null)for(var W in _)Object.prototype.hasOwnProperty.call(_,W)&&(O[W]=_[W])}return O},writable:!0,configurable:!0}),i.logger=function(){var t={};t.enableDebugLog=!1,t.warn=function(n){return console&&(console.warn?console.warn(n):console.log&&console.log(n)),t};var k={};return t.warnOnce=function(n){return k[n]||(k[n]=!0,i.logger.warn(n)),t},t.debug=function(n){return t.enableDebugLog&&console&&(console.debug?console.debug(n):console.log&&console.log(n)),t},t.deprecate=function(n,O){var c=!1;function _(){return c||(t.warn(O),c=!0),n.apply(this,arguments)}return _},t.annotate=function(n,O){var c=!1;function _(){return c||(console.groupCollapsed(O),console.trace(),console.groupEnd(),c=!0),n.apply(this,arguments)}return _},t}(),i.config=function(){var t={},k=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],n=k;return t.defaultColors=function(O){return arguments.length?(n=O,t):(n===k&&i.logger.warnOnce("You are using d3.schemeCategory20c, which has been removed in D3v5. See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. DC is using it for backward compatibility, however it will be changed in DCv3.1. You can change it by calling dc.config.defaultColors(newScheme). See https://github.com/d3/d3-scale-chromatic for some alternatives."),n)},t}(),i.events={current:null},i.events.trigger=function(t,k){if(!k){t();return}i.events.current=t,setTimeout(function(){t===i.events.current&&t()},k)},i.filters={},i.filters.RangedFilter=function(t,k){var n=new Array(t,k);return n.isFiltered=function(O){return O>=this[0]&&O<this[1]},n.filterType="RangedFilter",n},i.filters.TwoDimensionalFilter=function(t){if(t===null)return null;var k=t;return k.isFiltered=function(n){return n.length&&n.length===k.length&&n[0]===k[0]&&n[1]===k[1]},k.filterType="TwoDimensionalFilter",k},i.filters.RangedTwoDimensionalFilter=function(t){if(t===null)return null;var k=t,n;return k[0]instanceof Array?n=[[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1])],[Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]]:n=[[t[0],-Infinity],[t[1],Infinity]],k.isFiltered=function(O){var c,_;return O instanceof Array?(c=O[0],_=O[1]):(c=O,_=n[0][1]),c>=n[0][0]&&c<n[1][0]&&_>=n[0][1]&&_<n[1][1]},k.filterType="RangedTwoDimensionalFilter",k},i.filters.HierarchyFilter=function(t){if(t===null)return null;var k=t.slice(0);return k.isFiltered=function(n){if(!(k.length&&n&&n.length&&n.length>=k.length))return!1;for(var O=0;O<k.length;O++)if(n[O]!==k[O])return!1;return!0},k},i.baseMixin=function(t){t.__dcFlag__=i.utils.uniqueId();var k,n,O,c,_,W,V=200,fe=function(q){var ge=q&&q.getBoundingClientRect&&q.getBoundingClientRect().width;return ge&&ge>V?ge:V},j=fe,ve=200,P=function(q){var ge=q&&q.getBoundingClientRect&&q.getBoundingClientRect().height;return ge&&ge>ve?ge:ve},s=P,A,C,a=!1,v=i.pluck("key"),g=i.pluck("value"),h=i.pluck("key"),u=i.pluck("key"),p=!1,y=function(q){return t.keyAccessor()(q)+": "+t.valueAccessor()(q)},m=!0,x=!1,L=750,X=0,R=i.printers.filters,I=["dimension","group"],D=i.constants.DEFAULT_CHART_GROUP,B=o.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition"),Q,U,Y=[],pe=function(q,ge){return ge.length===0?q.filter(null):ge.length===1&&!ge[0].isFiltered?q.filterExact(ge[0]):ge.length===1&&ge[0].filterType==="RangedFilter"?q.filterRange(ge[0]):q.filterFunction(function(Se){for(var he=0;he<ge.length;he++){var oe=ge[he];if(oe.isFiltered&&oe.isFiltered(Se))return!0;if(oe<=Se&&oe>=Se)return!0}return!1}),ge},Ce=function(q){return q.all()};t.height=function(q){return arguments.length?(s=q?typeof q=="function"?q:i.utils.constant(q):P,C=void 0,t):(i.utils.isNumber(C)||(C=s(c.node())),C)},t.width=function(q){return arguments.length?(j=q?typeof q=="function"?q:i.utils.constant(q):fe,A=void 0,t):(i.utils.isNumber(A)||(A=j(c.node())),A)},t.minWidth=function(q){return arguments.length?(V=q,t):V},t.minHeight=function(q){return arguments.length?(ve=q,t):ve},t.useViewBoxResizing=function(q){return arguments.length?(a=q,t):a},t.dimension=function(q){return arguments.length?(k=q,t.expireCache(),t):k},t.data=function(q){return arguments.length?(Ce=typeof q=="function"?q:i.utils.constant(q),t.expireCache(),t):Ce.call(t,n)},t.group=function(q,ge){return arguments.length?(n=q,t._groupName=ge,t.expireCache(),t):n},t.ordering=function(q){return arguments.length?(u=q,t.expireCache(),t):u},t._computeOrderedGroups=function(q){return Array.from(q).sort(function(ge,Se){return o.ascending(u(ge),u(Se))})},t.filterAll=function(){return t.filter(null)},t.select=function(q){return c.select(q)},t.selectAll=function(q){return c?c.selectAll(q):null},t.anchor=function(q,ge){if(!arguments.length)return O;if(i.instanceOfChart(q))O=q.anchor(),O.children&&(O="#"+q.anchorName()),c=q.root(),W=!0;else if(q)q.select&&q.classed?O=q.node():O=q,c=o.select(O),c.classed(i.constants.CHART_CLASS,!0),i.registerChart(t,ge),W=!1;else throw new i.errors.BadArgumentException("parent must be defined");return D=ge,t},t.anchorName=function(){var q=t.anchor();return q&&q.id?q.id:q&&q.replace?q.replace("#",""):"dc-chart"+t.chartID()},t.root=function(q){return arguments.length?(c=q,t):c},t.svg=function(q){return arguments.length?(_=q,t):_},t.resetSvg=function(){return t.select("svg").remove(),l()};function Pe(){_&&(a?_.attr("viewBox")||_.attr("viewBox","0 0 "+t.width()+" "+t.height()):_.attr("width",t.width()).attr("height",t.height()))}function l(){return _=t.root().append("svg"),Pe(),_}t.filterPrinter=function(q){return arguments.length?(R=q,t):R},t.controlsUseVisibility=function(q){return arguments.length?(x=q,t):x},t.turnOnControls=function(){if(c){var q=t.controlsUseVisibility()?"visibility":"display";t.selectAll(".reset").style(q,null),t.selectAll(".filter").text(R(t.filters())).style(q,null)}return t},t.turnOffControls=function(){if(c){var q=t.controlsUseVisibility()?"visibility":"display",ge=t.controlsUseVisibility()?"hidden":"none";t.selectAll(".reset").style(q,ge),t.selectAll(".filter").style(q,ge).text(t.filter())}return t},t.transitionDuration=function(q){return arguments.length?(L=q,t):L},t.transitionDelay=function(q){return arguments.length?(X=q,t):X},t._mandatoryAttributes=function(q){return arguments.length?(I=q,t):I};function F(q){if(!t[q]||!t[q]())throw new i.errors.InvalidStateException("Mandatory attribute chart."+q+" is missing on chart[#"+t.anchorName()+"]")}t.render=function(){C=A=void 0,B.call("preRender",t,t),I&&I.forEach(F);var q=t._doRender();return Q&&Q.render(),t._activateRenderlets("postRender"),q},t._activateRenderlets=function(q){B.call("pretransition",t,t),t.transitionDuration()>0&&_?_.transition().duration(t.transitionDuration()).delay(t.transitionDelay()).on("end",function(){B.call("renderlet",t,t),q&&B.call(q,t,t)}):(B.call("renderlet",t,t),q&&B.call(q,t,t))},t.redraw=function(){Pe(),B.call("preRedraw",t,t);var q=t._doRedraw();return Q&&Q.render(),t._activateRenderlets("postRedraw"),q},t.commitHandler=function(q){return arguments.length?(U=q,t):U},t.redrawGroup=function(){return U?U(!1,function(q,ge){q?console.log(q):i.redrawAll(t.chartGroup())}):i.redrawAll(t.chartGroup()),t},t.renderGroup=function(){return U?U(!1,function(q,ge){q?console.log(q):i.renderAll(t.chartGroup())}):i.renderAll(t.chartGroup()),t},t._invokeFilteredListener=function(q){q!==void 0&&B.call("filtered",t,t,q)},t._invokeZoomedListener=function(){B.call("zoomed",t,t)};var S=function(q,ge){return ge===null||typeof ge=="undefined"?q.length>0:q.some(function(Se){return ge<=Se&&ge>=Se})};t.hasFilterHandler=function(q){return arguments.length?(S=q,t):S},t.hasFilter=function(q){return S(Y,q)};var T=function(q,ge){for(var Se=0;Se<q.length;Se++)if(q[Se]<=ge&&q[Se]>=ge){q.splice(Se,1);break}return q};t.removeFilterHandler=function(q){return arguments.length?(T=q,t):T};var d=function(q,ge){return q.push(ge),q};t.addFilterHandler=function(q){return arguments.length?(d=q,t):d};var $=function(q){return[]};t.resetFilterHandler=function(q){return arguments.length?($=q,t):$};function le(q){if(t.dimension()&&t.dimension().filter){var ge=pe(t.dimension(),q);ge&&(q=ge)}return q}return t.replaceFilter=function(q){return Y=$(Y),t.filter(q),t},t.filter=function(q){if(!arguments.length)return Y.length>0?Y[0]:null;var ge=Y;return q instanceof Array&&q[0]instanceof Array&&!q.isFiltered?q[0].forEach(function(Se){S(ge,Se)?ge=T(ge,Se):ge=d(ge,Se)}):q===null?ge=$(ge):S(ge,q)?ge=T(ge,q):ge=d(ge,q),Y=le(ge),t._invokeFilteredListener(q),c!==null&&t.hasFilter()?t.turnOnControls():t.turnOffControls(),t},t.filters=function(){return Y},t.highlightSelected=function(q){o.select(q).classed(i.constants.SELECTED_CLASS,!0),o.select(q).classed(i.constants.DESELECTED_CLASS,!1)},t.fadeDeselected=function(q){o.select(q).classed(i.constants.SELECTED_CLASS,!1),o.select(q).classed(i.constants.DESELECTED_CLASS,!0)},t.resetHighlight=function(q){o.select(q).classed(i.constants.SELECTED_CLASS,!1),o.select(q).classed(i.constants.DESELECTED_CLASS,!1)},t.onClick=function(q){var ge=t.keyAccessor()(q);i.events.trigger(function(){t.filter(ge),t.redrawGroup()})},t.filterHandler=function(q){return arguments.length?(pe=q,t):pe},t._doRender=function(){return t},t._doRedraw=function(){return t},t.legendables=function(){return[]},t.legendHighlight=function(){},t.legendReset=function(){},t.legendToggle=function(){},t.isLegendableHidden=function(){return!1},t.keyAccessor=function(q){return arguments.length?(v=q,t):v},t.valueAccessor=function(q){return arguments.length?(g=q,t):g},t.label=function(q,ge){return arguments.length?(h=q,(ge===void 0||ge)&&(p=!0),t):h},t.renderLabel=function(q){return arguments.length?(p=q,t):p},t.title=function(q){return arguments.length?(y=q,t):y},t.renderTitle=function(q){return arguments.length?(m=q,t):m},t.renderlet=i.logger.deprecate(function(q){return t.on("renderlet."+i.utils.uniqueId(),q),t},'chart.renderlet has been deprecated.  Please use chart.on("renderlet.<renderletKey>", renderletFunction)'),t.chartGroup=function(q){return arguments.length?(W||i.deregisterChart(t,D),D=q,W||i.registerChart(t,D),t):D},t.expireCache=function(){return t},t.legend=function(q){return arguments.length?(Q=q,Q.parent(t),t):Q},t.chartID=function(){return t.__dcFlag__},t.options=function(q){var ge=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(var Se in q)typeof t[Se]=="function"?q[Se]instanceof Array&&ge.indexOf(Se)!==-1?t[Se].apply(t,q[Se]):t[Se].call(t,q[Se]):i.logger.debug("Not a valid option setter name: "+Se);return t},t.on=function(q,ge){return B.on(q,ge),t},t},i.marginMixin=function(t){var k={top:10,right:50,bottom:30,left:30};return t.margins=function(n){return arguments.length?(k=n,t):k},t.effectiveWidth=function(){return t.width()-t.margins().left-t.margins().right},t.effectiveHeight=function(){return t.height()-t.margins().top-t.margins().bottom},t},i.colorMixin=function(t){var k=o.scaleOrdinal(i.config.defaultColors()),n=!0,O=function(_){return t.keyAccessor()(_)},c;return t.colors=function(_){return arguments.length?(_ instanceof Array?k=o.scaleQuantize().range(_):k=typeof _=="function"?_:i.utils.constant(_),t):k},t.ordinalColors=function(_){return t.colors(o.scaleOrdinal().range(_))},t.linearColors=function(_){return t.colors(o.scaleLinear().range(_).interpolate(o.interpolateHcl))},t.colorAccessor=function(_){return arguments.length?(O=_,n=!1,t):O},t.defaultColorAccessor=function(){return n},t.colorDomain=function(_){return arguments.length?(k.domain(_),t):k.domain()},t.calculateColorDomain=function(){var _=[o.min(t.data(),t.colorAccessor()),o.max(t.data(),t.colorAccessor())];return k.domain(_),t},t.getColor=function(_,W){return c?c.call(this,_,W):k(O.call(this,_,W))},t.colorCalculator=function(_){return arguments.length?(c=_,t):c||t.getColor},t},i.coordinateGridMixin=function(t){var k="grid-line",n="horizontal",O="vertical",c="y-axis-label",_="x-axis-label",W="custom-brush-handle",V=12;t=i.colorMixin(i.marginMixin(i.baseMixin(t))),t.colors(o.scaleOrdinal(o.schemeCategory10)),t._mandatoryAttributes().push("x");var fe,j,ve,P,s,A,C=o.axisBottom(),a=i.units.integers,v=0,g=o.timeDay,h=!1,u,p=0,y,m,x=null,L=0,X=!1,R,I=0,D=o.brushX(),B,Q=!0,U=!1,Y,pe=!1,Ce=!1,Pe=!1,l,F=[1,Infinity],S=!0,T=o.zoom().on("zoom",Me),d=o.zoom().on("zoom",null),$=!1,le,q,ge=!1,Se=0,he=.5,oe=0,ye=!1;t.rescale=function(){return l=void 0,Pe=!0,t},t.resizing=function(G){return arguments.length?(Pe=G,t):Pe},t.rangeChart=function(G){return arguments.length?(le=G,le.focusChart(t),t):le},t.zoomScale=function(G){return arguments.length?(F=G,t):F},t.zoomOutRestrict=function(G){return arguments.length?(S=G,t):S},t._generateG=function(G){G===void 0?fe=t.svg():fe=G;var Ae=window.location.href.split("#")[0];return j=fe.append("g"),ve=j.append("g").attr("class","chart-body").attr("transform","translate("+t.margins().left+", "+t.margins().top+")").attr("clip-path","url("+Ae+"#"+it()+")"),j},t.g=function(G){return arguments.length?(j=G,t):j},t.mouseZoomable=function(G){return arguments.length?(ge=G,t):ge},t.chartBodyG=function(G){return arguments.length?(ve=G,t):ve},t.x=function(G){return arguments.length?(P=G,A=P.domain(),t.rescale(),t):P},t.xOriginalDomain=function(){return A},t.xUnits=function(G){return arguments.length?(a=G,t):a},t.xAxis=function(G){return arguments.length?(C=G,t):C},t.elasticX=function(G){return arguments.length?(h=G,t):h},t.xAxisPadding=function(G){return arguments.length?(v=G,t):v},t.xAxisPaddingUnit=function(G){return arguments.length?(g=G,t):g},t.xUnitCount=function(){return l===void 0&&(t.isOrdinal()?l=t.x().domain().length:(l=t.xUnits()(t.x().domain()[0],t.x().domain()[1]),l instanceof Array&&(l=l.length))),l},t.useRightYAxis=function(G){return arguments.length?(ye!==G&&x&&i.logger.warn("Value of useRightYAxis has been altered, after yAxis was created. You might get unexpected yAxis behavior. Make calls to useRightYAxis sooner in your chart creation process."),ye=G,t):ye},t.isOrdinal=function(){return t.xUnits()===i.units.ordinal},t._useOuterPadding=function(){return!0},t._ordinalXDomain=function(){var G=t._computeOrderedGroups(t.data());return G.map(t.keyAccessor())};function Oe(G,Ae){t.isOrdinal()?(P.bandwidth||(i.logger.warn("For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need d3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). Replacing .x() with a d3.scaleBand with the same domain - make the same change in your code to avoid this warning!"),P=o.scaleBand().domain(P.domain())),(t.elasticX()||P.domain().length===0)&&P.domain(t._ordinalXDomain())):t.elasticX()&&P.domain([t.xAxisMin(),t.xAxisMax()]);var Ue=P.domain();(Ae||!i.utils.arraysEqual(y,Ue))&&t.rescale(),y=Ue,t.isOrdinal()?P.range([0,t.xAxisLength()]).paddingInner(oe).paddingOuter(t._useOuterPadding()?he:0):P.range([0,t.xAxisLength()]),C=C.scale(t.x()),Xe(G)}t.renderXAxis=function(G){var Ae=G.select("g.x");Ae.empty()&&(Ae=G.append("g").attr("class","axis x").attr("transform","translate("+t.margins().left+","+t._xAxisY()+")"));var Ue=G.select("text."+_);Ue.empty()&&t.xAxisLabel()&&(Ue=G.append("text").attr("class",_).attr("transform","translate("+(t.margins().left+t.xAxisLength()/2)+","+(t.height()-p)+")").attr("text-anchor","middle")),t.xAxisLabel()&&Ue.text()!==t.xAxisLabel()&&Ue.text(t.xAxisLabel()),i.transition(Ae,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+t.margins().left+","+t._xAxisY()+")").call(C),i.transition(Ue,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+(t.margins().left+t.xAxisLength()/2)+","+(t.height()-p)+")")};function Xe(G){var Ae=G.select("g."+O);if(Ce){Ae.empty()&&(Ae=G.insert("g",":first-child").attr("class",k+" "+O).attr("transform","translate("+t.margins().left+","+t.margins().top+")"));var Ue=C.tickValues()?C.tickValues():typeof P.ticks=="function"?P.ticks.apply(P,C.tickArguments()):P.domain(),je=Ae.selectAll("line").data(Ue),vt=je.enter().append("line").attr("x1",function(dt){return P(dt)}).attr("y1",t._xAxisY()-t.margins().top).attr("x2",function(dt){return P(dt)}).attr("y2",0).attr("opacity",0);i.transition(vt,t.transitionDuration(),t.transitionDelay()).attr("opacity",.5),i.transition(je,t.transitionDuration(),t.transitionDelay()).attr("x1",function(dt){return P(dt)}).attr("y1",t._xAxisY()-t.margins().top).attr("x2",function(dt){return P(dt)}).attr("y2",0),je.exit().remove()}else Ae.selectAll("line").remove()}t._xAxisY=function(){return t.height()-t.margins().bottom},t.xAxisLength=function(){return t.effectiveWidth()},t.xAxisLabel=function(G,Ae){return arguments.length?(u=G,t.margins().bottom-=p,p=Ae===void 0?V:Ae,t.margins().bottom+=p,t):u};function Be(){return ye?o.axisRight():o.axisLeft()}t._prepareYAxis=function(G){if(m===void 0||t.elasticY()){m===void 0&&(m=o.scaleLinear());var Ae=t.yAxisMin()||0,Ue=t.yAxisMax()||0;m.domain([Ae,Ue]).rangeRound([t.yAxisHeight(),0])}m.range([t.yAxisHeight(),0]),x||(x=Be()),x.scale(m),t._renderHorizontalGridLinesForAxis(G,m,x)},t.renderYAxisLabel=function(G,Ae,Ue,je){je=je||I;var vt=t.g().select("text."+c+"."+G+"-label"),dt=t.margins().top+t.yAxisHeight()/2;vt.empty()&&Ae&&(vt=t.g().append("text").attr("transform","translate("+je+","+dt+"),rotate("+Ue+")").attr("class",c+" "+G+"-label").attr("text-anchor","middle").text(Ae)),Ae&&vt.text()!==Ae&&vt.text(Ae),i.transition(vt,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+je+","+dt+"),rotate("+Ue+")")},t.renderYAxisAt=function(G,Ae,Ue){var je=t.g().select("g."+G);je.empty()&&(je=t.g().append("g").attr("class","axis "+G).attr("transform","translate("+Ue+","+t.margins().top+")")),i.transition(je,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+Ue+","+t.margins().top+")").call(Ae)},t.renderYAxis=function(){var G=ye?t.width()-t.margins().right:t._yAxisX();t.renderYAxisAt("y",x,G);var Ae=ye?t.width()-I:I,Ue=ye?90:-90;t.renderYAxisLabel("y",t.yAxisLabel(),Ue,Ae)},t._renderHorizontalGridLinesForAxis=function(G,Ae,Ue){var je=G.select("g."+n);if(pe){var vt=Ue.tickValues()?Ue.tickValues():Ae.ticks?Ae.ticks.apply(Ae,Ue.tickArguments()):Ae.domain();je.empty()&&(je=G.insert("g",":first-child").attr("class",k+" "+n).attr("transform","translate("+t.margins().left+","+t.margins().top+")"));var dt=je.selectAll("line").data(vt),Dt=dt.enter().append("line").attr("x1",1).attr("y1",function(Le){return Ae(Le)}).attr("x2",t.xAxisLength()).attr("y2",function(Le){return Ae(Le)}).attr("opacity",0);i.transition(Dt,t.transitionDuration(),t.transitionDelay()).attr("opacity",.5),i.transition(dt,t.transitionDuration(),t.transitionDelay()).attr("x1",1).attr("y1",function(Le){return Ae(Le)}).attr("x2",t.xAxisLength()).attr("y2",function(Le){return Ae(Le)}),dt.exit().remove()}else je.selectAll("line").remove()},t._yAxisX=function(){return t.useRightYAxis()?t.width()-t.margins().right:t.margins().left},t.yAxisLabel=function(G,Ae){return arguments.length?(R=G,t.margins().left-=I,I=Ae===void 0?V:Ae,t.margins().left+=I,t):R},t.y=function(G){return arguments.length?(m=G,t.rescale(),t):m},t.yAxis=function(G){return arguments.length?(x=G,t):(x||(x=Be()),x)},t.elasticY=function(G){return arguments.length?(X=G,t):X},t.renderHorizontalGridLines=function(G){return arguments.length?(pe=G,t):pe},t.renderVerticalGridLines=function(G){return arguments.length?(Ce=G,t):Ce},t.xAxisMin=function(){var G=o.min(t.data(),function(Ae){return t.keyAccessor()(Ae)});return i.utils.subtract(G,v,g)},t.xAxisMax=function(){var G=o.max(t.data(),function(Ae){return t.keyAccessor()(Ae)});return i.utils.add(G,v,g)},t.yAxisMin=function(){var G=o.min(t.data(),function(Ae){return t.valueAccessor()(Ae)});return i.utils.subtract(G,L)},t.yAxisMax=function(){var G=o.max(t.data(),function(Ae){return t.valueAccessor()(Ae)});return i.utils.add(G,L)},t.yAxisPadding=function(G){return arguments.length?(L=G,t):L},t.yAxisHeight=function(){return t.effectiveHeight()},t.round=function(G){return arguments.length?(Y=G,t):Y},t._rangeBandPadding=function(G){return arguments.length?(oe=G,t):oe},t._outerRangeBandPadding=function(G){return arguments.length?(he=G,t):he},i.override(t,"filter",function(G){return arguments.length?(t._filter(G),t.redrawBrush(G,!1),t):t._filter()}),t.brush=function(G){return arguments.length?(D=G,t):D},t.renderBrush=function(G,Ae){Q&&(D.on("start brush end",t._brushing),B=G.append("g").attr("class","brush").attr("transform","translate("+t.margins().left+","+t.margins().top+")"),t.setBrushExtents(),t.createBrushHandlePaths(B,Ae),t.redrawBrush(t.filter(),Ae))},t.createBrushHandlePaths=function(G){var Ae=G.selectAll("path."+W).data([{type:"w"},{type:"e"}]);Ae=Ae.enter().append("path").attr("class",W).merge(Ae),Ae.attr("d",t.resizeHandlePath)},t.extendBrush=function(G){return G&&t.round()&&(G[0]=t.round()(G[0]),G[1]=t.round()(G[1])),G},t.brushIsEmpty=function(G){return!G||G[1]<=G[0]},t._brushing=function(){if(!!o.event.sourceEvent&&!(o.event.sourceEvent.type&&["start","brush","end"].indexOf(o.event.sourceEvent.type)!==-1)){var G=o.event.selection;G&&(G=G.map(t.x().invert)),G=t.extendBrush(G),t.redrawBrush(G,!1);var Ae=t.brushIsEmpty(G)?null:i.filters.RangedFilter(G[0],G[1]);i.events.trigger(function(){t.applyBrushSelection(Ae)},i.constants.EVENT_DELAY)}},t.applyBrushSelection=function(G){t.replaceFilter(G),t.redrawGroup()},t.setBrushExtents=function(G){D.extent([[0,0],[t.effectiveWidth(),t.effectiveHeight()]]),B.call(D)},t.redrawBrush=function(G,Ae){if(Q&&B)if(Pe&&t.setBrushExtents(Ae),!G)B.call(D.move,null),B.selectAll("path."+W).attr("display","none");else{var Ue=[P(G[0]),P(G[1])],je=i.optionalTransition(Ae,t.transitionDuration(),t.transitionDelay())(B);je.call(D.move,Ue),je.selectAll("path."+W).attr("display",null).attr("transform",function(vt,dt){return"translate("+P(G[dt])+", 0)"}).attr("d",t.resizeHandlePath)}t.fadeDeselectedArea(G)},t.fadeDeselectedArea=function(G){},t.resizeHandlePath=function(G){G=G.type;var Ae=+(G==="e"),Ue=Ae?1:-1,je=t.effectiveHeight()/3;return"M"+.5*Ue+","+je+"A6,6 0 0 "+Ae+" "+6.5*Ue+","+(je+6)+"V"+(2*je-6)+"A6,6 0 0 "+Ae+" "+.5*Ue+","+2*je+"ZM"+2.5*Ue+","+(je+8)+"V"+(2*je-8)+"M"+4.5*Ue+","+(je+8)+"V"+(2*je-8)};function it(){return t.anchorName().replace(/[ .#=\[\]"]/g,"-")+"-clip"}t.clipPadding=function(G){return arguments.length?(Se=G,t):Se};function mt(){var G=i.utils.appendOrSelect(fe,"defs"),Ae=it(),Ue=i.utils.appendOrSelect(G,"#"+Ae,"clipPath").attr("id",Ae),je=Se*2;i.utils.appendOrSelect(Ue,"rect").attr("width",t.xAxisLength()+je).attr("height",t.yAxisHeight()+je).attr("transform","translate(-"+Se+", -"+Se+")")}t._preprocessData=function(){},t._doRender=function(){return t.resetSvg(),t._preprocessData(),t._generateG(),mt(),Pt(!0),Z(),t},t._doRedraw=function(){return t._preprocessData(),Pt(!1),mt(),t};function Pt(G){t.isOrdinal()&&(Q=!1),Oe(t.g(),G),t._prepareYAxis(t.g()),t.plotData(),(t.elasticX()||Pe||G)&&t.renderXAxis(t.g()),(t.elasticY()||Pe||G)&&t.renderYAxis(t.g()),G?t.renderBrush(t.g(),!1):t.redrawBrush(t.filter(),Pe),t.fadeDeselectedArea(t.filter()),t.resizing(!1)}function Z(){s=P.copy(),ge?t._enableMouseZoom():$&&t._disableMouseZoom()}t._enableMouseZoom=function(){$=!0;var G=[[0,0],[t.effectiveWidth(),t.effectiveHeight()]];if(T.scaleExtent(F).extent(G).duration(t.transitionDuration()),S){var Ae=Math.max(F[0],1);T.translateExtent(G).scaleExtent([Ae,F[1]])}t.root().call(T),Fe()},t._disableMouseZoom=function(){t.root().call(d)};function ce(G,Ae){var Ue;me(G)?(t.x().domain(G),Ue=i.filters.RangedFilter(G[0],G[1])):(t.x().domain(A),Ue=null),t.replaceFilter(Ue),t.rescale(),t.redraw(),Ae||(le&&!i.utils.arraysEqual(t.filter(),le.filter())&&i.events.trigger(function(){le.replaceFilter(Ue),le.redraw()}),t._invokeZoomedListener(),i.events.trigger(function(){t.redrawGroup()},i.constants.EVENT_DELAY))}function Re(G,Ae,Ue){var je=(Ae[1]-Ae[0])/(G[1]-G[0]),vt=-1*Ue(G[0]);return o.zoomIdentity.scale(je).translate(vt,0)}function Fe(){T&&T.transform(t.root(),Re(t.x().domain(),A,s))}function Me(){if(!!o.event.sourceEvent&&!(o.event.sourceEvent.type&&["start","zoom","end"].indexOf(o.event.sourceEvent.type)!==-1)){var G=o.event.transform.rescaleX(s).domain();t.focus(G,!1)}}function E(G,Ae){return!G||G.length!==2||!Ae||Ae.length!==2?G:((G[0]>Ae[1]||G[1]<Ae[0])&&console.warn("Could not intersect extents, will reset"),[G[0]>Ae[0]?G[0]:Ae[0],G[1]<Ae[1]?G[1]:Ae[1]])}t.focus=function(G,Ae){S&&(G=E(G,A),le&&(G=E(G,le.x().domain()))),ce(G,Ae),Fe()},t.refocused=function(){return!i.utils.arraysEqual(t.x().domain(),A)},t.focusChart=function(G){return arguments.length?(q=G,t.on("filtered.dcjs-range-chart",function(Ae){Ae.filter()?i.utils.arraysEqual(Ae.filter(),q.filter())||i.events.trigger(function(){q.focus(Ae.filter(),!0)}):i.events.trigger(function(){q.x().domain(q.xOriginalDomain(),!0)})}),t):q},t.brushOn=function(G){return arguments.length?(Q=G,t):Q},t.parentBrushOn=function(G){return arguments.length?(U=G,t):U},t.gBrush=function(){return B};function me(G){return G instanceof Array&&G.length>1}return t},i.stackMixin=function(t){function k(P,s){var A=P.accessor||t.valueAccessor();P.name=String(P.name||s);var C=P.group.all().map(function(a,v){return{x:t.keyAccessor()(a,v),y:P.hidden?null:A(a,v),data:a,layer:P.name,hidden:P.hidden}});P.domainValues=C.filter(V()),P.values=t.evadeDomainFilter()?C:P.domainValues}var n=o.stack(),O=[],c={},_=!1,W=!1;function V(){if(!t.x())return i.utils.constant(!0);var P=t.x().domain();return t.isOrdinal()?function(){return!0}:t.elasticX()?function(){return!0}:function(s){return s.x>=P[0]&&s.x<=P[P.length-1]}}t.stack=function(P,s,A){if(!arguments.length)return O;arguments.length<=2&&(A=s);var C={group:P};return typeof s=="string"&&(C.name=s),typeof A=="function"&&(C.accessor=A),O.push(C),t},i.override(t,"group",function(P,s,A){return arguments.length?(O=[],c={},t.stack(P,s),A&&t.valueAccessor(A),t._group(P,s)):t._group()}),t.hidableStacks=function(P){return arguments.length?(_=P,t):_};function fe(P){var s=O.map(i.pluck("name")).indexOf(P);return O[s]}t.hideStack=function(P){var s=fe(P);return s&&(s.hidden=!0),t},t.showStack=function(P){var s=fe(P);return s&&(s.hidden=!1),t},t.getValueAccessorByIndex=function(P){return O[P].accessor||t.valueAccessor()},t.yAxisMin=function(){var P=o.min(j(),function(s){return s.y<0?s.y+s.y0:s.y0});return i.utils.subtract(P,t.yAxisPadding())},t.yAxisMax=function(){var P=o.max(j(),function(s){return s.y>0?s.y+s.y0:s.y0});return i.utils.add(P,t.yAxisPadding())};function j(){var P=t.data().map(function(s){return s.domainValues});return Array.prototype.concat.apply([],P)}t.xAxisMin=function(){var P=o.min(j(),i.pluck("x"));return i.utils.subtract(P,t.xAxisPadding(),t.xAxisPaddingUnit())},t.xAxisMax=function(){var P=o.max(j(),i.pluck("x"));return i.utils.add(P,t.xAxisPadding(),t.xAxisPaddingUnit())},i.override(t,"title",function(P,s){return P?typeof P=="function"?t._title(P):P===t._groupName&&typeof s=="function"?t._title(s):typeof s!="function"?c[P]||t._title():(c[P]=s,t):t._title()}),t.stackLayout=function(P){return arguments.length?(n=P,t):n},t.evadeDomainFilter=function(P){return arguments.length?(W=P,t):W};function ve(P){return!P.hidden}return t.data(function(){var P=O.filter(ve);if(!P.length)return[];P.forEach(k);var s=P[0].values.map(function(a,v){var g={x:a.x};return P.forEach(function(h){g[h.name]=h.values[v].y}),g}),A=P.map(function(a){return a.name}),C=t.stackLayout().keys(A)(s);return C.forEach(function(a,v){a.forEach(function(g,h){P[v].values[h].y0=g[0],P[v].values[h].y1=g[1]})}),P}),t._ordinalXDomain=function(){var P=j().map(i.pluck("data")),s=t._computeOrderedGroups(P);return s.map(t.keyAccessor())},t.colorAccessor(function(P){var s=this.layer||this.name||P.name||P.layer;return s}),t.legendables=function(){return O.map(function(P,s){return{chart:t,name:P.name,hidden:P.hidden||!1,color:t.getColor.call(P,P.values,s)}})},t.isLegendableHidden=function(P){var s=fe(P.name);return s?s.hidden:!1},t.legendToggle=function(P){_&&(t.isLegendableHidden(P)?t.showStack(P.name):t.hideStack(P.name),t.renderGroup())},t},i.capMixin=function(t){var k=Infinity,n=!0,O="Others";t.ordering(function(_){return-_.value});var c=function(_,W){var V=o.sum(W,t.valueAccessor()),fe=W.map(t.keyAccessor());return V>0?_.concat([{others:fe,key:t.othersLabel(),value:V}]):_};return t.cappedKeyAccessor=function(_,W){return _.others?_.key:t.keyAccessor()(_,W)},t.cappedValueAccessor=function(_,W){return _.others?_.value:t.valueAccessor()(_,W)},t.data(function(_){if(k===Infinity)return t._computeOrderedGroups(_.all());var W=_.all(),V;if(W=t._computeOrderedGroups(W),k)if(n)V=W.slice(k),W=W.slice(0,k);else{var fe=Math.max(0,W.length-k);V=W.slice(0,fe),W=W.slice(fe)}return c?c(W,V):W}),t.cap=function(_){return arguments.length?(k=_,t):k},t.takeFront=function(_){return arguments.length?(n=_,t):n},t.othersLabel=function(_){return arguments.length?(O=_,t):O},t.othersGrouper=function(_){return arguments.length?(c=_,t):c},i.override(t,"onClick",function(_){_.others&&t.filter([_.others]),t._onClick(_)}),t},i.bubbleMixin=function(t){var k=.3,n=10,O=!1,c=!1;t.BUBBLE_NODE_CLASS="node",t.BUBBLE_CLASS="bubble",t.MIN_RADIUS=10,t=i.colorMixin(t),t.renderLabel(!0),t.data(function(s){var A=s.all();if(O){var C=t.radiusValueAccessor();A.sort(function(a,v){return o.descending(C(a),C(v))})}return A});var _=o.scaleLinear().domain([0,100]),W=function(s){return s.r};t.r=function(s){return arguments.length?(_=s,t):_},t.elasticRadius=function(s){return arguments.length?(c=s,t):c},t.calculateRadiusDomain=function(){c&&t.r().domain([t.rMin(),t.rMax()])},t.radiusValueAccessor=function(s){return arguments.length?(W=s,t):W},t.rMin=function(){var s=o.min(t.data(),function(A){return t.radiusValueAccessor()(A)});return s},t.rMax=function(){var s=o.max(t.data(),function(A){return t.radiusValueAccessor()(A)});return s},t.bubbleR=function(s){var A=t.radiusValueAccessor()(s),C=t.r()(A);return(isNaN(C)||A<=0)&&(C=0),C};var V=function(s){return t.label()(s)},fe=function(s){return t.bubbleR(s)>n},j=function(s){return fe(s)?1:0},ve=function(s){return fe(s)?"all":"none"};t._doRenderLabel=function(s){if(t.renderLabel()){var A=s.select("text");A.empty()&&(A=s.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",t.onClick)),A.attr("opacity",0).attr("pointer-events",ve).text(V),i.transition(A,t.transitionDuration(),t.transitionDelay()).attr("opacity",j)}},t.doUpdateLabels=function(s){if(t.renderLabel()){var A=s.select("text").attr("pointer-events",ve).text(V);i.transition(A,t.transitionDuration(),t.transitionDelay()).attr("opacity",j)}};var P=function(s){return t.title()(s)};return t._doRenderTitles=function(s){if(t.renderTitle()){var A=s.select("title");A.empty()&&s.append("title").text(P)}},t.doUpdateTitles=function(s){t.renderTitle()&&s.select("title").text(P)},t.sortBubbleSize=function(s){return arguments.length?(O=s,t):O},t.minRadius=function(s){return arguments.length?(t.MIN_RADIUS=s,t):t.MIN_RADIUS},t.minRadiusWithLabel=function(s){return arguments.length?(n=s,t):n},t.maxBubbleRelativeSize=function(s){return arguments.length?(k=s,t):k},t.fadeDeselectedArea=function(s){t.hasFilter()?t.selectAll("g."+t.BUBBLE_NODE_CLASS).each(function(A){t.isSelectedNode(A)?t.highlightSelected(this):t.fadeDeselected(this)}):t.selectAll("g."+t.BUBBLE_NODE_CLASS).each(function(){t.resetHighlight(this)})},t.isSelectedNode=function(s){return t.hasFilter(s.key)},t.onClick=function(s){var A=s.key;i.events.trigger(function(){t.filter(A),t.redrawGroup()})},t},i.pieChart=function(t,k){var n=.5,O="pie-slice",c="pie-label",_="pie-slice-group",W="pie-label-group",V="empty-chart",fe="empty",j,ve,P=0,s=0,A,C,a,v=n,g,h=!1,u=i.capMixin(i.colorMixin(i.baseMixin({})));u.colorAccessor(u.cappedKeyAccessor),u.title(function(oe){return u.cappedKeyAccessor(oe)+": "+u.cappedValueAccessor(oe)}),u.slicesCap=u.cap,u.label(u.cappedKeyAccessor),u.renderLabel(!0),u.transitionDuration(350),u.transitionDelay(0),u._doRender=function(){return u.resetSvg(),A=u.svg().append("g").attr("transform","translate("+u.cx()+","+u.cy()+")"),A.append("g").attr("class",_),A.append("g").attr("class",W),p(),u};function p(){var oe=o.min([u.width(),u.height()])/2;j=ve&&ve<oe?ve:oe;var ye=Pe(),Oe=F(),Xe;if(o.sum(u.data(),u.cappedValueAccessor)?(Xe=Oe(u.data()),A.classed(V,!1)):(Xe=Oe([{key:fe,value:1,others:[fe]}]),A.classed(V,!0)),A){var Be=A.select("g."+_).selectAll("g."+O).data(Xe),it=A.select("g."+W).selectAll("text."+c).data(Xe);pe(Be,it),y(Be,it,ye,Xe),B(Xe,ye),Ce(),i.transition(A,u.transitionDuration(),u.transitionDelay()).attr("transform","translate("+u.cx()+","+u.cy()+")")}}function y(oe,ye,Oe,Xe){var Be=m(oe);x(Be,Oe),L(Be),I(ye,Xe,Oe)}function m(oe){var ye=oe.enter().append("g").attr("class",function(Oe,Xe){return O+" _"+Xe});return ye}function x(oe,ye){var Oe=oe.append("path").attr("fill",le).on("click",q).attr("d",function(Be,it){return ge(Be,it,ye)}),Xe=i.transition(Oe,u.transitionDuration(),u.transitionDelay());Xe.attrTween&&Xe.attrTween("d",d)}function L(oe){u.renderTitle()&&oe.append("title").text(function(ye){return u.title()(ye.data)})}u._applyLabelText=function(oe){oe.text(function(ye){var Oe=ye.data;return(T(Oe)||S(ye))&&!l(ye)?"":u.label()(ye.data)})};function X(oe,ye){u._applyLabelText(oe),i.transition(oe,u.transitionDuration(),u.transitionDelay()).attr("transform",function(Oe){return Se(Oe,ye)}).attr("text-anchor","middle")}function R(oe,ye){u.select("g.pie-slice._"+oe).classed("highlight",ye)}function I(oe,ye,Oe){if(u.renderLabel()){var Xe=oe.enter().append("text").attr("class",function(Be,it){var mt=O+" "+c+" _"+it;return g&&(mt+=" external"),mt}).on("click",q).on("mouseover",function(Be,it){R(it,!0)}).on("mouseout",function(Be,it){R(it,!1)});X(Xe,Oe),g&&h&&D(ye,Oe)}}function D(oe,ye){var Oe=A.selectAll("polyline."+O).data(oe);Oe.exit().remove(),Oe=Oe.enter().append("polyline").attr("class",function(it,mt){return"pie-path _"+mt+" "+O}).on("click",q).on("mouseover",function(it,mt){R(mt,!0)}).on("mouseout",function(it,mt){R(mt,!1)}).merge(Oe);var Xe=o.arc().outerRadius(j-s+g).innerRadius(j-s),Be=i.transition(Oe,u.transitionDuration(),u.transitionDelay());Be.attrTween?Be.attrTween("points",function(it){var mt=this._current||it;mt={startAngle:mt.startAngle,endAngle:mt.endAngle};var Pt=o.interpolate(mt,it);return this._current=Pt(0),function(Z){var ce=Pt(Z);return[ye.centroid(ce),Xe.centroid(ce)]}}):Be.attr("points",function(it){return[ye.centroid(it),Xe.centroid(it)]}),Be.style("visibility",function(it){return it.endAngle-it.startAngle<1e-4?"hidden":"visible"})}function B(oe,ye){Q(oe,ye),U(oe,ye),Y(oe)}function Q(oe,ye){var Oe=A.selectAll("g."+O).data(oe).select("path").attr("d",function(Be,it){return ge(Be,it,ye)}),Xe=i.transition(Oe,u.transitionDuration(),u.transitionDelay());Xe.attrTween&&Xe.attrTween("d",d),Xe.attr("fill",le)}function U(oe,ye){if(u.renderLabel()){var Oe=A.selectAll("text."+c).data(oe);X(Oe,ye),g&&h&&D(oe,ye)}}function Y(oe){u.renderTitle()&&A.selectAll("g."+O).data(oe).select("title").text(function(ye){return u.title()(ye.data)})}function pe(oe,ye){oe.exit().remove(),ye.exit().remove()}function Ce(){u.hasFilter()?u.selectAll("g."+O).each(function(oe){l(oe)?u.highlightSelected(this):u.fadeDeselected(this)}):u.selectAll("g."+O).each(function(){u.resetHighlight(this)})}u.externalRadiusPadding=function(oe){return arguments.length?(s=oe,u):s},u.innerRadius=function(oe){return arguments.length?(P=oe,u):P},u.radius=function(oe){return arguments.length?(ve=oe,u):ve},u.cx=function(oe){return arguments.length?(C=oe,u):C||u.width()/2},u.cy=function(oe){return arguments.length?(a=oe,u):a||u.height()/2};function Pe(){return o.arc().outerRadius(j-s).innerRadius(P)}function l(oe){return u.hasFilter(u.cappedKeyAccessor(oe.data))}u._doRedraw=function(){return p(),u},u.minAngleForLabel=function(oe){return arguments.length?(v=oe,u):v};function F(){return o.pie().sort(null).value(u.cappedValueAccessor)}function S(oe){var ye=oe.endAngle-oe.startAngle;return isNaN(ye)||ye<v}function T(oe){return u.cappedValueAccessor(oe)===0}function d(oe){oe.innerRadius=P;var ye=this._current;$(ye)?ye={startAngle:0,endAngle:0}:ye={startAngle:ye.startAngle,endAngle:ye.endAngle};var Oe=o.interpolate(ye,oe);return this._current=Oe(0),function(Xe){return ge(Oe(Xe),0,Pe())}}function $(oe){return!oe||isNaN(oe.startAngle)||isNaN(oe.endAngle)}function le(oe,ye){return u.getColor(oe.data,ye)}function q(oe,ye){A.attr("class")!==V&&u.onClick(oe.data,ye)}function ge(oe,ye,Oe){var Xe=Oe(oe,ye);return Xe.indexOf("NaN")>=0&&(Xe="M0,0"),Xe}u.emptyTitle=function(oe){return arguments.length===0?fe:(fe=oe,u)},u.externalLabels=function(oe){return arguments.length===0?g:(oe?g=oe:g=void 0,u)},u.drawPaths=function(oe){return arguments.length===0?h:(h=oe,u)};function Se(oe,ye){var Oe;return g?Oe=o.arc().outerRadius(j-s+g).innerRadius(j-s+g).centroid(oe):Oe=ye.centroid(oe),isNaN(Oe[0])||isNaN(Oe[1])?"translate(0,0)":"translate("+Oe+")"}u.legendables=function(){return u.data().map(function(oe,ye){var Oe={name:oe.key,data:oe.value,others:oe.others,chart:u};return Oe.color=u.getColor(oe,ye),Oe})},u.legendHighlight=function(oe){he(oe,!0)},u.legendReset=function(oe){he(oe,!1)},u.legendToggle=function(oe){u.onClick({key:oe.name,others:oe.others})};function he(oe,ye){u.selectAll("g.pie-slice").each(function(Oe){oe.name===Oe.data.key&&o.select(this).classed("highlight",ye)})}return u.anchor(t,k)},i.sunburstChart=function(t,k){var n=.5,O="pie-slice",c="empty-chart",_="empty",W,V,fe=0,j,ve,P,s,A=n,C,a=i.capMixin(i.colorMixin(i.baseMixin({})));a.colorAccessor(a.cappedKeyAccessor),a.ordering(i.pluck("key"));function v(he){return he.path?he.value:a.cappedValueAccessor(he)}function g(he,oe){if(he===0)return fe;var ye=o.sum(a.ringSizes().relativeRingSizes.slice(0,he)),Oe=he*(1/a.ringSizes().relativeRingSizes.length)/ye,Xe=(oe-a.ringSizes().rootOffset)/(1-a.ringSizes().rootOffset)*(W-fe);return fe+Xe/Oe}a.title(function(he){return a.cappedKeyAccessor(he)+": "+v(he)}),a.label(a.cappedKeyAccessor),a.renderLabel(!0),a.transitionDuration(350),a.filterHandler(function(he,oe){return oe.length===0?he.filter(null):he.filterFunction(function(ye){for(var Oe=0;Oe<oe.length;Oe++){var Xe=oe[Oe];if(Xe.isFiltered&&Xe.isFiltered(ye))return!0}return!1}),oe}),a._doRender=function(){return a.resetSvg(),ve=a.svg().append("g").attr("transform","translate("+a.cx()+","+a.cy()+")"),h(),a};function h(){var he=o.min([a.width(),a.height()])/2;W=V&&V<he?V:he;var oe=U(),ye,Oe;if(o.sum(a.data(),a.valueAccessor())?(Oe=i.utils.toHierarchy(a.data(),a.valueAccessor()),ye=Pe(Oe),ye.nodes.shift(),ve.classed(c,!1)):(Oe=i.utils.toHierarchy([],function(Be){return Be.value}),ye=Pe(Oe),ve.classed(c,!0)),a.ringSizes().rootOffset=ye.rootOffset,a.ringSizes().relativeRingSizes=ye.relativeRingSizes,ve){var Xe=ve.selectAll("g."+O).data(ye.nodes);u(Xe,oe,ye.nodes),X(ye.nodes,oe),B(Xe),Q(),i.transition(ve,a.transitionDuration(),a.transitionDelay()).attr("transform","translate("+a.cx()+","+a.cy()+")")}}function u(he,oe,ye){var Oe=p(he);y(Oe,oe),m(Oe),L(ye,oe)}function p(he){var oe=he.enter().append("g").attr("class",function(ye,Oe){return O+" _"+Oe+" "+O+"-level-"+ye.depth});return oe}function y(he,oe){var ye=he.append("path").attr("fill",d).on("click",le).attr("d",function(Xe){return q(oe,Xe)}),Oe=i.transition(ye,a.transitionDuration());Oe.attrTween&&Oe.attrTween("d",S)}function m(he){a.renderTitle()&&he.append("title").text(function(oe){return a.title()(oe)})}function x(he,oe){i.transition(he,a.transitionDuration()).attr("transform",function(ye){return ge(ye,oe)}).attr("text-anchor","middle").text(function(ye){return F(ye)||l(ye)?"":a.label()(ye)})}function L(he,oe){if(a.renderLabel()){var ye=ve.selectAll("text."+O).data(he);ye.exit().remove();var Oe=ye.enter().append("text").attr("class",function(Xe,Be){var it=O+" _"+Be;return C&&(it+=" external"),it}).on("click",le);x(Oe,oe)}}function X(he,oe){R(he,oe),I(he,oe),D(he)}function R(he,oe){var ye=ve.selectAll("g."+O).data(he).select("path").attr("d",function(Xe,Be){return q(oe,Xe)}),Oe=i.transition(ye,a.transitionDuration());Oe.attrTween&&Oe.attrTween("d",S),Oe.attr("fill",d)}function I(he,oe){if(a.renderLabel()){var ye=ve.selectAll("text."+O).data(he);x(ye,oe)}}function D(he){a.renderTitle()&&ve.selectAll("g."+O).data(he).select("title").text(function(oe){return a.title()(oe)})}function B(he){he.exit().remove()}function Q(){a.hasFilter()?a.selectAll("g."+O).each(function(he){Y(he)?a.highlightSelected(this):a.fadeDeselected(this)}):a.selectAll("g."+O).each(function(he){a.resetHighlight(this)})}a.innerRadius=function(he){return arguments.length?(fe=he,a):fe},a.radius=function(he){return arguments.length?(V=he,a):V},a.cx=function(he){return arguments.length?(P=he,a):P||a.width()/2},a.cy=function(he){return arguments.length?(s=he,a):s||a.height()/2},a.minAngleForLabel=function(he){return arguments.length?(A=he,a):A},a.emptyTitle=function(he){return arguments.length===0?_:(_=he,a)},a.externalLabels=function(he){return arguments.length===0?C:(he?C=he:C=void 0,a)},a.defaultRingSizes=function(){return{partitionDy:function(){return W*W},scaleInnerRadius:function(he){return he.data.path&&he.data.path.length===1?fe:Math.sqrt(he.y0)},scaleOuterRadius:function(he){return Math.sqrt(he.y1)},relativeRingSizesFunction:function(){return[]}}},a.equalRingSizes=function(){return a.relativeRingSizes(function(he){var oe,ye=[];for(oe=0;oe<he;oe++)ye.push(1/he);return ye})},a.relativeRingSizes=function(he){function oe(ye,Oe){if(!Array.isArray(ye))throw new i.errors.BadArgumentException("relativeRingSizes function must return an array");var Xe=o.sum(ye);if(Math.abs(Xe-1)>i.constants.NEGLIGIBLE_NUMBER)throw new i.errors.BadArgumentException("relativeRingSizes : portions must add up to 1, but sum was "+Xe);if(ye.length!==Oe)throw new i.errors.BadArgumentException("relativeRingSizes : number of values must match number of rings ("+Oe+") but was "+ye.length)}return{partitionDy:function(){return 1},scaleInnerRadius:function(ye){return g(ye.data.path.length-1,ye.y0)},scaleOuterRadius:function(ye){return g(ye.data.path.length,ye.y1)},relativeRingSizesFunction:function(ye){var Oe=he(ye);return oe(Oe,ye),Oe}}},a.ringSizes=function(he){return arguments.length?(j=he,a):(j||(j=this.defaultRingSizes()),j)};function U(){return o.arc().startAngle(function(he){return he.x0}).endAngle(function(he){return he.x1}).innerRadius(function(he){return a.ringSizes().scaleInnerRadius(he)}).outerRadius(function(he){return a.ringSizes().scaleOuterRadius(he)})}function Y(he){return pe(he.path)}function pe(he){for(var oe=0;oe<a.filters().length;oe++){var ye=a.filters()[oe];if(ye.isFiltered(he))return!0}return!1}function Ce(he){for(var oe=i.filters.HierarchyFilter(he),ye=[],Oe=0;Oe<a.filters().length;Oe++){var Xe=a.filters()[Oe];(Xe.isFiltered(he)||oe.isFiltered(Xe))&&ye.push(Xe)}return ye}a._doRedraw=function(){return h(),a};function Pe(he){var oe=function(it){return{key:it.data.key,value:it.value}},ye=o.hierarchy(he).sum(function(it){return it.children?0:v(it)}).sort(function(it,mt){return o.ascending(a.ordering()(oe(it)),a.ordering()(oe(mt)))}),Oe=o.partition().size([2*Math.PI,a.ringSizes().partitionDy()]);Oe(ye);var Xe=ye.descendants().map(function(it){return it.key=it.data.key,it.path=it.data.path,it}),Be=a.ringSizes().relativeRingSizesFunction(ye.height);return{nodes:Xe,rootOffset:ye.y1,relativeRingSizes:Be}}function l(he){var oe=he.x1-he.x0;return isNaN(oe)||oe<A}function F(he){return v(he)===0}function S(he){var oe=this._current;T(oe)&&(oe={x0:0,x1:0,y0:0,y1:0});var ye={x0:he.x0,x1:he.x1,y0:he.y0,y1:he.y1},Oe=o.interpolate(oe,ye);return this._current=Oe(0),function(Xe){return q(U(),Object.assign({},he,Oe(Xe)))}}function T(he){return!he||isNaN(he.x0)||isNaN(he.y0)}function d(he,oe){return a.getColor(he.data,oe)}function $(he){for(var oe=he.path||he.key,ye=i.filters.HierarchyFilter(oe),Oe=Ce(oe),Xe=!1,Be=Oe.length-1;Be>=0;Be--){var it=Oe[Be];i.utils.arraysIdentical(it,oe)&&(Xe=!0),a.filter(Oe[Be])}i.events.trigger(function(){Xe||a.filter(ye),a.redrawGroup()})}a.onClick=le;function le(he,oe){ve.attr("class")!==c&&$(he,oe)}function q(he,oe){var ye=he(oe);return ye.indexOf("NaN")>=0&&(ye="M0,0"),ye}function ge(he,oe){var ye;return C?ye=o.svg.arc().outerRadius(W+C).innerRadius(W+C).centroid(he):ye=oe.centroid(he),isNaN(ye[0])||isNaN(ye[1])?"translate(0,0)":"translate("+ye+")"}a.legendables=function(){return a.data().map(function(he,oe){var ye={name:he.key,data:he.value,others:he.others,chart:a};return ye.color=a.getColor(he,oe),ye})},a.legendHighlight=function(he){Se(he,!0)},a.legendReset=function(he){Se(he,!1)},a.legendToggle=function(he){a.onClick({key:he.name,others:he.others})};function Se(he,oe){a.selectAll("g.pie-slice").each(function(ye){he.name===ye.key&&o.select(this).classed("highlight",oe)})}return a.anchor(t,k)},i.barChart=function(t,k){var n=1,O=2,c=3,_=i.stackMixin(i.coordinateGridMixin({})),W=O,V=!1,fe=!1,j;i.override(_,"rescale",function(){return _._rescale(),j=void 0,_}),i.override(_,"render",function(){return _.round()&&V&&!fe&&i.logger.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),_._render()}),_.label(function(h){return i.utils.printSingleValue(h.y0+h.y)},!1),_.plotData=function(){var h=_.chartBodyG().selectAll("g.stack").data(_.data());v(),h=h.enter().append("g").attr("class",function(p,y){return"stack _"+y}).merge(h);var u=h.size()-1;h.each(function(p,y){var m=o.select(this);a(m,y,p),_.renderLabel()&&u===y&&A(m,y,p)})};function ve(h){return i.utils.safeNumber(Math.abs(_.y()(h.y+h.y0)-_.y()(h.y0)))}function P(h){var u=_.x()(h.x);return V||(u+=j/2),_.isOrdinal()&&W!==void 0&&(u+=W/2),i.utils.safeNumber(u)}function s(h){var u=_.y()(h.y+h.y0);return h.y<0&&(u-=ve(h)),i.utils.safeNumber(u-c)}function A(h,u,p){var y=h.selectAll("text.barLabel").data(p.values,i.pluck("x")),m=y.enter().append("text").attr("class","barLabel").attr("text-anchor","middle").attr("x",P).attr("y",s).merge(y);_.isOrdinal()&&(m.on("click",_.onClick),m.attr("cursor","pointer")),i.transition(m,_.transitionDuration(),_.transitionDelay()).attr("x",P).attr("y",s).text(function(x){return _.label()(x)}),i.transition(y.exit(),_.transitionDuration(),_.transitionDelay()).attr("height",0).remove()}function C(h){var u=_.x()(h.x);return V&&(u-=j/2),_.isOrdinal()&&W!==void 0&&(u+=W/2),i.utils.safeNumber(u)}function a(h,u,p){var y=h.selectAll("rect.bar").data(p.values,i.pluck("x")),m=y.enter().append("rect").attr("class","bar").attr("fill",i.pluck("data",_.getColor)).attr("x",C).attr("y",_.yAxisHeight()).attr("height",0),x=m.merge(y);_.renderTitle()&&m.append("title").text(i.pluck("data",_.title(p.name))),_.isOrdinal()&&x.on("click",_.onClick),i.transition(x,_.transitionDuration(),_.transitionDelay()).attr("x",C).attr("y",function(L){var X=_.y()(L.y+L.y0);return L.y<0&&(X-=ve(L)),i.utils.safeNumber(X)}).attr("width",j).attr("height",function(L){return ve(L)}).attr("fill",i.pluck("data",_.getColor)).select("title").text(i.pluck("data",_.title(p.name))),i.transition(y.exit(),_.transitionDuration(),_.transitionDelay()).attr("x",function(L){return _.x()(L.x)}).attr("width",j*.9).remove()}function v(){if(j===void 0){var h=_.xUnitCount();_.isOrdinal()&&W===void 0?j=Math.floor(_.x().bandwidth()):W?j=Math.floor((_.xAxisLength()-(h-1)*W)/h):j=Math.floor(_.xAxisLength()/(1+_.barPadding())/h),(j===Infinity||isNaN(j)||j<n)&&(j=n)}}_.fadeDeselectedArea=function(h){var u=_.chartBodyG().selectAll("rect.bar");if(_.isOrdinal())_.hasFilter()?(u.classed(i.constants.SELECTED_CLASS,function(m){return _.hasFilter(m.x)}),u.classed(i.constants.DESELECTED_CLASS,function(m){return!_.hasFilter(m.x)})):(u.classed(i.constants.SELECTED_CLASS,!1),u.classed(i.constants.DESELECTED_CLASS,!1));else if(_.brushOn()||_.parentBrushOn())if(_.brushIsEmpty(h))u.classed(i.constants.DESELECTED_CLASS,!1);else{var p=h[0],y=h[1];u.classed(i.constants.DESELECTED_CLASS,function(m){return m.x<p||m.x>=y})}},_.centerBar=function(h){return arguments.length?(V=h,_):V},i.override(_,"onClick",function(h){_._onClick(h.data)}),_.barPadding=function(h){return arguments.length?(_._rangeBandPadding(h),W=void 0,_):_._rangeBandPadding()},_._useOuterPadding=function(){return W===void 0},_.outerPadding=_._outerRangeBandPadding,_.gap=function(h){return arguments.length?(W=h,_):W},_.extendBrush=function(h){return h&&_.round()&&(!V||fe)&&(h[0]=_.round()(h[0]),h[1]=_.round()(h[1])),h},_.alwaysUseRounding=function(h){return arguments.length?(fe=h,_):fe};function g(h,u){return function(){var p=o.select(this),y=p.attr("fill")===h;return u?!y:y}}return _.legendHighlight=function(h){_.isLegendableHidden(h)||_.g().selectAll("rect.bar").classed("highlight",g(h.color)).classed("fadeout",g(h.color,!0))},_.legendReset=function(){_.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)},i.override(_,"xAxisMax",function(){var h=this._xAxisMax();if("resolution"in _.xUnits()){var u=_.xUnits().resolution;h+=u}return h}),_.anchor(t,k)},i.lineChart=function(t,k){var n=5,O="dc-tooltip",c="dot",_="yRef",W="xRef",V=1e-6,fe=3,j=i.stackMixin(i.coordinateGridMixin({})),ve=!1,P=n,s=null,A=V,C=V,a=null,v=null,g=null,h,u,p=!0;j.transitionDuration(500),j.transitionDelay(0),j._rangeBandPadding(1),j.plotData=function(){var l=j.chartBodyG(),F=l.select("g.stack-list");F.empty()&&(F=l.append("g").attr("class","stack-list"));var S=F.selectAll("g.stack").data(j.data()),T=S.enter().append("g").attr("class",function(d,$){return"stack _"+$});S=T.merge(S),x(T,S),L(T,S),R(l,S),j.renderLabel()&&I(S)},j.curve=function(l){return arguments.length?(a=l,j):a},j.interpolate=i.logger.deprecate(function(l){return arguments.length?(v=l,j):v},"dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead"),j.tension=i.logger.deprecate(function(l){return arguments.length?(g=l,j):g},"dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead"),j.defined=function(l){return arguments.length?(h=l,j):h},j.dashStyle=function(l){return arguments.length?(u=l,j):u},j.renderArea=function(l){return arguments.length?(ve=l,j):ve};function y(l,F){return j.getColor.call(l,l.values,F)}function m(){var l=null;if(a)return a;if(typeof v=="function")l=v;else{var F={linear:o.curveLinear,"linear-closed":o.curveLinearClosed,step:o.curveStep,"step-before":o.curveStepBefore,"step-after":o.curveStepAfter,basis:o.curveBasis,"basis-open":o.curveBasisOpen,"basis-closed":o.curveBasisClosed,bundle:o.curveBundle,cardinal:o.curveCardinal,"cardinal-open":o.curveCardinalOpen,"cardinal-closed":o.curveCardinalClosed,monotone:o.curveMonotoneX};l=F[v]}return l||(l=o.curveLinear),g!==null&&(typeof l.tension!="function"?i.logger.warn("tension was specified but the curve/interpolate does not support it."):l=l.tension(g)),l}function x(l,F){var S=o.line().x(function(d){return j.x()(d.x)}).y(function(d){return j.y()(d.y+d.y0)}).curve(m());h&&S.defined(h);var T=l.append("path").attr("class","line").attr("stroke",y);u&&T.attr("stroke-dasharray",u),i.transition(F.select("path.line"),j.transitionDuration(),j.transitionDelay()).attr("stroke",y).attr("d",function(d){return X(S(d.values))})}function L(l,F){if(ve){var S=o.area().x(function(T){return j.x()(T.x)}).y1(function(T){return j.y()(T.y+T.y0)}).y0(function(T){return j.y()(T.y0)}).curve(m());h&&S.defined(h),l.append("path").attr("class","area").attr("fill",y).attr("d",function(T){return X(S(T.values))}),i.transition(F.select("path.area"),j.transitionDuration(),j.transitionDelay()).attr("fill",y).attr("d",function(T){return X(S(T.values))})}}function X(l){return!l||l.indexOf("NaN")>=0?"M0,0":l}function R(l,F){if(j.xyTipsOn()==="always"||!(j.brushOn()||j.parentBrushOn())&&j.xyTipsOn()){var S=O+"-list",T=l.select("g."+S);T.empty()&&(T=l.append("g").attr("class",S)),F.each(function(d,$){var le=d.values;h&&(le=le.filter(h));var q=T.select("g."+O+"._"+$);q.empty()&&(q=T.append("g").attr("class",O+" _"+$)),D(q);var ge=q.selectAll("circle."+c).data(le,i.pluck("x")),Se=ge.enter().append("circle").attr("class",c).attr("cx",function(he){return i.utils.safeNumber(j.x()(he.x))}).attr("cy",function(he){return i.utils.safeNumber(j.y()(he.y+he.y0))}).attr("r",U()).style("fill-opacity",A).style("stroke-opacity",C).attr("fill",j.getColor).attr("stroke",j.getColor).on("mousemove",function(){var he=o.select(this);B(he),Q(he,q)}).on("mouseout",function(){var he=o.select(this);Y(he),pe(q)}).merge(ge);Se.call(Ce,d),i.transition(Se,j.transitionDuration()).attr("cx",function(he){return i.utils.safeNumber(j.x()(he.x))}).attr("cy",function(he){return i.utils.safeNumber(j.y()(he.y+he.y0))}).attr("fill",j.getColor),ge.exit().remove()})}}j.label(function(l){return i.utils.printSingleValue(l.y0+l.y)},!1);function I(l){l.each(function(F,S){var T=o.select(this),d=T.selectAll("text.lineLabel").data(F.values,i.pluck("x")),$=d.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle").merge(d);i.transition($,j.transitionDuration()).attr("x",function(le){return i.utils.safeNumber(j.x()(le.x))}).attr("y",function(le){var q=j.y()(le.y+le.y0)-fe;return i.utils.safeNumber(q)}).text(function(le){return j.label()(le)}),i.transition(d.exit(),j.transitionDuration()).attr("height",0).remove()})}function D(l){var F=l.select("path."+_).empty()?l.append("path").attr("class",_):l.select("path."+_);F.style("display","none").attr("stroke-dasharray","5,5");var S=l.select("path."+W).empty()?l.append("path").attr("class",W):l.select("path."+W);S.style("display","none").attr("stroke-dasharray","5,5")}function B(l){return l.style("fill-opacity",.8),l.style("stroke-opacity",.8),l.attr("r",P),l}function Q(l,F){var S=l.attr("cx"),T=l.attr("cy"),d=j._yAxisX()-j.margins().left,$="M"+d+" "+T+"L"+S+" "+T,le="M"+S+" "+j.yAxisHeight()+"L"+S+" "+T;F.select("path."+_).style("display","").attr("d",$),F.select("path."+W).style("display","").attr("d",le)}function U(){return s||P}function Y(l){l.style("fill-opacity",A).style("stroke-opacity",C).attr("r",U())}function pe(l){l.select("path."+_).style("display","none"),l.select("path."+W).style("display","none")}function Ce(l,F){j.renderTitle()&&(l.select("title").remove(),l.append("title").text(i.pluck("data",j.title(F.name))))}j.xyTipsOn=function(l){return arguments.length?(p=l,j):p},j.dotRadius=function(l){return arguments.length?(P=l,j):P},j.renderDataPoints=function(l){if(arguments.length)l?(A=l.fillOpacity||.8,C=l.strokeOpacity||0,s=l.radius||2):(A=V,C=V,s=null);else return{fillOpacity:A,strokeOpacity:C,radius:s};return j};function Pe(l,F,S){return function(){var T=o.select(this),d=T.attr("stroke")===l&&T.attr("stroke-dasharray")===(F instanceof Array?F.join(","):null)||T.attr("fill")===l;return S?!d:d}}return j.legendHighlight=function(l){j.isLegendableHidden(l)||j.g().selectAll("path.line, path.area").classed("highlight",Pe(l.color,l.dashstyle)).classed("fadeout",Pe(l.color,l.dashstyle,!0))},j.legendReset=function(){j.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)},i.override(j,"legendables",function(){var l=j._legendables();return u?l.map(function(F){return F.dashstyle=u,F}):l}),j.anchor(t,k)},i.dataCount=function(t,k){var n=o.format(",d"),O=i.baseMixin({}),c=null,_=null,W={some:"",all:""};return O._mandatoryAttributes(["crossfilter","groupAll"]),O.html=function(V){return arguments.length?(V.all&&(W.all=V.all),V.some&&(W.some=V.some),O):W},O.formatNumber=function(V){return arguments.length?(n=V,O):n},O._doRender=function(){var V=O.crossfilter().size(),fe=O.groupAll().value(),j=n(V),ve=n(fe);return V===fe&&W.all!==""?O.root().html(W.all.replace("%total-count",j).replace("%filter-count",ve)):W.some!==""?O.root().html(W.some.replace("%total-count",j).replace("%filter-count",ve)):(O.selectAll(".total-count").text(j),O.selectAll(".filter-count").text(ve)),O},O._doRedraw=function(){return O._doRender()},O.crossfilter=function(V){return arguments.length?(c=V,this):c},O.dimension=i.logger.annotate(O.crossfilter,"consider using dataCount.crossfilter instead of dataCount.dimension for clarity"),O.groupAll=function(V){return arguments.length?(_=V,this):_},O.group=i.logger.annotate(O.groupAll,"consider using dataCount.groupAll instead of dataCount.group for clarity"),O.anchor(t,k)},i.dataTable=function(t,k){var n="dc-table-label",O="dc-table-row",c="dc-table-column",_="dc-table-section dc-table-group",W="dc-table-head",V=i.baseMixin({}),fe=25,j=[],ve=function(u){return u},P=o.ascending,s=0,A,C=!0,a=function(){return""};V._mandatoryAttributes(["dimension"]),V._doRender=function(){return V.selectAll("tbody").remove(),h(v()),V},V._doColumnValueFormat=function(u,p){return typeof u=="function"?u(p):typeof u=="string"?p[u]:u.format(p)},V._doColumnHeaderFormat=function(u){return typeof u=="function"?V._doColumnHeaderFnToString(u):typeof u=="string"?V._doColumnHeaderCapitalize(u):String(u.label)},V._doColumnHeaderCapitalize=function(u){return u.charAt(0).toUpperCase()+u.slice(1)},V._doColumnHeaderFnToString=function(u){var p=String(u),y=p.indexOf("return ");if(y>=0){var m=p.lastIndexOf(";");if(m>=0){p=p.substring(y+7,m);var x=p.indexOf("numberFormat");x>=0&&(p=p.replace("numberFormat",""))}}return p};function v(){var u=!0;if(j.forEach(function(X){u=u&typeof X=="function"}),!u){var p=V.selectAll("thead").data([0]);p.exit().remove(),p=p.enter().append("thead").merge(p);var y=p.selectAll("tr").data([0]);y.exit().remove(),y=y.enter().append("tr").merge(y);var m=y.selectAll("th").data(j);m.exit().remove(),m.enter().append("th").merge(m).attr("class",W).html(function(X){return V._doColumnHeaderFormat(X)})}var x=V.root().selectAll("tbody").data(g(),function(X){return V.keyAccessor()(X)}),L=x.enter().append("tbody");return C===!0&&L.append("tr").attr("class",_).append("td").attr("class",n).attr("colspan",j.length).html(function(X){return V.keyAccessor()(X)}),x.exit().remove(),L}function g(){var u;return P===o.ascending?u=V.dimension().bottom(fe):u=V.dimension().top(fe),o.nest().key(V.section()).sortKeys(P).entries(u.sort(function(p,y){return P(ve(p),ve(y))}).slice(s,A))}function h(u){var p=u.order().selectAll("tr."+O).data(function(m){return m.values}),y=p.enter().append("tr").attr("class",O);return j.forEach(function(m,x){y.append("td").attr("class",c+" _"+x).html(function(L){return V._doColumnValueFormat(m,L)})}),p.exit().remove(),p}return V._doRedraw=function(){return V._doRender()},V.section=function(u){return arguments.length?(a=u,V):a},V.group=i.logger.annotate(V.section,"consider using dataTable.section instead of dataTable.group for clarity"),V.size=function(u){return arguments.length?(fe=u,V):fe},V.beginSlice=function(u){return arguments.length?(s=u,V):s},V.endSlice=function(u){return arguments.length?(A=u,V):A},V.columns=function(u){return arguments.length?(j=u,V):j},V.sortBy=function(u){return arguments.length?(ve=u,V):ve},V.order=function(u){return arguments.length?(P=u,V):P},V.showSections=function(u){return arguments.length?(C=u,V):C},V.showGroups=i.logger.annotate(V.showSections,"consider using dataTable.showSections instead of dataTable.showGroups for clarity"),V.anchor(t,k)},i.dataGrid=function(t,k){var n="dc-grid-label",O="dc-grid-item",c="dc-grid-section dc-grid-group",_="dc-grid-top",W=i.baseMixin({}),V=null,fe=999,j=function(h){return"you need to provide an html() handling param:  "+JSON.stringify(h)},ve=function(h){return h},P=o.ascending,s=0,A,C=function(h){return"<div class='"+c+"'><h1 class='"+n+"'>"+W.keyAccessor()(h)+"</h1></div>"};W._mandatoryAttributes(["dimension","section"]),W._doRender=function(){return W.selectAll("div."+_).remove(),g(a()),W};function a(){var h=W.root().selectAll("div."+_).data(v(),function(p){return W.keyAccessor()(p)}),u=h.enter().append("div").attr("class",_);return C&&u.html(function(p){return C(p)}),h.exit().remove(),u}function v(){var h=W.dimension().top(fe);return o.nest().key(W.section()).sortKeys(P).entries(h.sort(function(u,p){return P(ve(u),ve(p))}).slice(s,A))}function g(h){var u=h.order().selectAll("div."+O).data(function(p){return p.values});return u.exit().remove(),u=u.enter().append("div").attr("class",O).html(function(p){return j(p)}).merge(u),u}return W._doRedraw=function(){return W._doRender()},W.section=function(h){return arguments.length?(V=h,W):V},W.group=i.logger.annotate(W.section,"consider using dataGrid.section instead of dataGrid.group for clarity"),W.beginSlice=function(h){return arguments.length?(s=h,W):s},W.endSlice=function(h){return arguments.length?(A=h,W):A},W.size=function(h){return arguments.length?(fe=h,W):fe},W.html=function(h){return arguments.length?(j=h,W):j},W.htmlSection=function(h){return arguments.length?(C=h,W):C},W.htmlGroup=i.logger.annotate(W.htmlSection,"consider using dataGrid.htmlSection instead of dataGrid.htmlGroup for clarity"),W.sortBy=function(h){return arguments.length?(ve=h,W):ve},W.order=function(h){return arguments.length?(P=h,W):P},W.anchor(t,k)},i.bubbleChart=function(t,k){var n=i.bubbleMixin(i.coordinateGridMixin({}));n.transitionDuration(750),n.transitionDelay(0);var O=function(j){return"translate("+V(j)+","+fe(j)+")"};n.plotData=function(){n.calculateRadiusDomain(),n.r().range([n.MIN_RADIUS,n.xAxisLength()*n.maxBubbleRelativeSize()]);var j=n.data(),ve=n.chartBodyG().selectAll("g."+n.BUBBLE_NODE_CLASS).data(j,function(P){return P.key});n.sortBubbleSize()&&ve.order(),W(ve),ve=c(ve),_(ve),n.fadeDeselectedArea(n.filter())};function c(j){var ve=j.enter().append("g");return ve.attr("class",n.BUBBLE_NODE_CLASS).attr("transform",O).append("circle").attr("class",function(P,s){return n.BUBBLE_CLASS+" _"+s}).on("click",n.onClick).attr("fill",n.getColor).attr("r",0),j=ve.merge(j),i.transition(j,n.transitionDuration(),n.transitionDelay()).select("circle."+n.BUBBLE_CLASS).attr("r",function(P){return n.bubbleR(P)}).attr("opacity",function(P){return n.bubbleR(P)>0?1:0}),n._doRenderLabel(ve),n._doRenderTitles(ve),j}function _(j){i.transition(j,n.transitionDuration(),n.transitionDelay()).attr("transform",O).select("circle."+n.BUBBLE_CLASS).attr("fill",n.getColor).attr("r",function(ve){return n.bubbleR(ve)}).attr("opacity",function(ve){return n.bubbleR(ve)>0?1:0}),n.doUpdateLabels(j),n.doUpdateTitles(j)}function W(j){j.exit().remove()}function V(j){var ve=n.x()(n.keyAccessor()(j));return(isNaN(ve)||!isFinite(ve))&&(ve=0),ve}function fe(j){var ve=n.y()(n.valueAccessor()(j));return(isNaN(ve)||!isFinite(ve))&&(ve=0),ve}return n.renderBrush=function(){},n.redrawBrush=function(j,ve){n.fadeDeselectedArea(j)},n.anchor(t,k)},i.compositeChart=function(t,k){var n="sub",O=12,c=i.coordinateGridMixin({}),_=[],W={},V=!1,fe=!0,j=!1,ve=o.axisRight(),P=0,s=O,A,C=!1;c._mandatoryAttributes([]),c.transitionDuration(500),c.transitionDelay(0),i.override(c,"_generateG",function(){for(var U=this.__generateG(),Y=0;Y<_.length;++Y){var pe=_[Y];u(pe,Y),pe.dimension()||pe.dimension(c.dimension()),pe.group()||pe.group(c.group()),pe.chartGroup(c.chartGroup()),pe.svg(c.svg()),pe.xUnits(c.xUnits()),pe.transitionDuration(c.transitionDuration(),c.transitionDelay()),pe.parentBrushOn(c.brushOn()),pe.brushOn(!1),pe.renderTitle(c.renderTitle()),pe.elasticX(c.elasticX())}return U}),i.override(c,"rescale",function(){return c._rescale(),c.children().forEach(function(U){U.rescale()}),c}),i.override(c,"resizing",function(U){return arguments.length?(c._resizing(U),c.children().forEach(function(Y){Y.resizing(U)}),c):c._resizing()}),c.on("filtered.dcjs-composite-chart",function(U){for(var Y=0;Y<_.length;++Y)_[Y].replaceFilter(c.filter())}),c._prepareYAxis=function(){var U=y().length!==0,Y=m().length!==0,pe=a(U,Y);U&&h(pe),Y&&g(pe),y().length>0&&!C?c._renderHorizontalGridLinesForAxis(c.g(),c.y(),c.yAxis()):m().length>0&&c._renderHorizontalGridLinesForAxis(c.g(),A,ve)},c.renderYAxis=function(){y().length!==0&&(c.renderYAxisAt("y",c.yAxis(),c.margins().left),c.renderYAxisLabel("y",c.yAxisLabel(),-90)),m().length!==0&&(c.renderYAxisAt("yr",c.rightYAxis(),c.width()-c.margins().right),c.renderYAxisLabel("yr",c.rightYAxisLabel(),90,c.width()-s))};function a(U,Y){var pe,Ce,Pe,l,F;return U&&(pe=L(),Ce=I()),Y&&(Pe=X(),l=D()),c.alignYAxes()&&U&&Y&&(F=v(pe,Ce,Pe,l)),F||{lyAxisMin:pe,lyAxisMax:Ce,ryAxisMin:Pe,ryAxisMax:l}}function v(U,Y,pe,Ce){var Pe=(Ce-pe)/(Y-U);return{lyAxisMin:Math.min(U,pe/Pe),lyAxisMax:Math.max(Y,Ce/Pe),ryAxisMin:Math.min(pe,U*Pe),ryAxisMax:Math.max(Ce,Y*Pe)}}function g(U){var Y=c.rightY()===void 0||c.elasticY(),pe=Y||c.resizing();c.rightY()===void 0&&c.rightY(o.scaleLinear()),Y&&c.rightY().domain([U.ryAxisMin,U.ryAxisMax]),pe&&c.rightY().rangeRound([c.yAxisHeight(),0]),c.rightY().range([c.yAxisHeight(),0]),c.rightYAxis(c.rightYAxis().scale(c.rightY()))}function h(U){var Y=c.y()===void 0||c.elasticY(),pe=Y||c.resizing();c.y()===void 0&&c.y(o.scaleLinear()),Y&&c.y().domain([U.lyAxisMin,U.lyAxisMax]),pe&&c.y().rangeRound([c.yAxisHeight(),0]),c.y().range([c.yAxisHeight(),0]),c.yAxis(c.yAxis().scale(c.y()))}function u(U,Y){U._generateG(c.g()),U.g().attr("class",n+" _"+Y)}c.plotData=function(){for(var U=0;U<_.length;++U){var Y=_[U];Y.g()||u(Y,U),V&&Y.colors(c.colors()),Y.x(c.x()),Y.xAxis(c.xAxis()),Y.useRightYAxis()?(Y.y(c.rightY()),Y.yAxis(c.rightYAxis())):(Y.y(c.y()),Y.yAxis(c.yAxis())),Y.plotData(),Y._activateRenderlets()}},c.useRightAxisGridLines=function(U){return arguments?(C=U,c):C},c.childOptions=function(U){return arguments.length?(W=U,_.forEach(function(Y){Y.options(W)}),c):W},c.fadeDeselectedArea=function(U){if(c.brushOn())for(var Y=0;Y<_.length;++Y){var pe=_[Y];pe.fadeDeselectedArea(U)}},c.rightYAxisLabel=function(U,Y){return arguments.length?(P=U,c.margins().right-=s,s=Y===void 0?O:Y,c.margins().right+=s,c):P},c.compose=function(U){return _=U,_.forEach(function(Y){p.forEach(function(pe){Y[pe](c[pe]())}),fe&&Y.title(c.title()),Y.options(W)}),c.rescale(),c};var p=["height","width","margins"];p.forEach(function(U){var Y="_"+U;i.override(c,U,function(pe){return arguments.length?(c[Y](pe),c.children().forEach(function(Ce){Ce[U](pe)}),c):c[Y]()})}),c.children=function(){return _},c.shareColors=function(U){return arguments.length?(V=U,c):V},c.shareTitle=function(U){return arguments.length?(fe=U,c.title(c.title()),c):fe},i.override(c,"title",function(U){return arguments.length?(c._title(U),fe&&c.children().forEach(function(Y){Y.title(U)}),c):c._title()}),c.rightY=function(U){return arguments.length?(A=U,c.rescale(),c):A},c.alignYAxes=function(U){return arguments.length?(j=U,c.rescale(),c):j};function y(){return _.filter(function(U){return!U.useRightYAxis()})}function m(){return _.filter(function(U){return U.useRightYAxis()})}function x(U){return U.map(function(Y){return Y.yAxisMin()})}delete c.yAxisMin;function L(){return o.min(x(y()))}function X(){return o.min(x(m()))}function R(U){return U.map(function(Y){return Y.yAxisMax()})}delete c.yAxisMax;function I(){return i.utils.add(o.max(R(y())),c.yAxisPadding())}function D(){return i.utils.add(o.max(R(m())),c.yAxisPadding())}function B(){return _.map(function(U){return U.xAxisMin()})}i.override(c,"xAxisMin",function(){return i.utils.subtract(o.min(B()),c.xAxisPadding(),c.xAxisPaddingUnit())});function Q(){return _.map(function(U){return U.xAxisMax()})}return i.override(c,"xAxisMax",function(){return i.utils.add(o.max(Q()),c.xAxisPadding(),c.xAxisPaddingUnit())}),c.legendables=function(){return _.reduce(function(U,Y){return V&&Y.colors(c.colors()),U.push.apply(U,Y.legendables()),U},[])},c.legendHighlight=function(U){for(var Y=0;Y<_.length;++Y){var pe=_[Y];pe.legendHighlight(U)}},c.legendReset=function(U){for(var Y=0;Y<_.length;++Y){var pe=_[Y];pe.legendReset(U)}},c.legendToggle=function(){console.log("composite should not be getting legendToggle itself")},c.rightYAxis=function(U){return arguments.length?(ve=U,c):ve},c.anchor(t,k)},i.seriesChart=function(t,k){var n=i.compositeChart(t,k);function O(P,s){return o.ascending(n.keyAccessor()(P),n.keyAccessor()(s))}var c={},_=i.lineChart,W,V=o.ascending,fe=O;n._mandatoryAttributes().push("seriesAccessor","chart"),n.shareColors(!0),n._preprocessData=function(){var P=[],s,A=o.nest().key(W);V&&A.sortKeys(V),fe&&A.sortValues(fe);var C=A.entries(n.data()),a=C.map(function(v,g){var h=c[v.key]||_.call(n,n,k,v.key,g);return c[v.key]||(s=!0),c[v.key]=h,P.push(v.key),h.dimension(n.dimension()).group({all:typeof v.values=="function"?v.values:i.utils.constant(v.values)},v.key).keyAccessor(n.keyAccessor()).valueAccessor(n.valueAccessor()).brushOn(!1)});Object.keys(c).filter(function(v){return P.indexOf(v)===-1}).forEach(function(v){j(v),s=!0}),n._compose(a),s&&n.legend()&&n.legend().render()};function j(P){c[P].g()&&c[P].g().remove(),delete c[P]}function ve(){Object.keys(c).map(j),c={}}return n.chart=function(P){return arguments.length?(_=P,ve(),n):_},n.seriesAccessor=function(P){return arguments.length?(W=P,ve(),n):W},n.seriesSort=function(P){return arguments.length?(V=P,ve(),n):V},n.valueSort=function(P){return arguments.length?(fe=P,ve(),n):fe},n._compose=n.compose,delete n.compose,n},i.geoChoroplethChart=function(t,k){var n=i.colorMixin(i.baseMixin({}));n.colorAccessor(function(u){return u||0});var O=o.geoPath(),c,_,W=[];n._doRender=function(){n.resetSvg();for(var u=0;u<W.length;++u){var p=n.svg().append("g").attr("class","layer"+u),y=p.selectAll("g."+a(u).name).data(a(u).data);y=y.enter().append("g").attr("class",a(u).name).merge(y),y.append("path").attr("fill","white").attr("d",h()),y.append("title"),V(u)}c=!1};function V(u){var p=fe();if(j(u)){var y=ve(u);v(y,u,p),g(y,u,p)}}function fe(){for(var u={},p=n.data(),y=0;y<p.length;++y)u[n.keyAccessor()(p[y])]=n.valueAccessor()(p[y]);return u}function j(u){return a(u).keyAccessor}function ve(u){var p=n.svg().selectAll(P(u)).classed("selected",function(y){return s(u,y)}).classed("deselected",function(y){return A(u,y)}).attr("class",function(y){var m=a(u).name,x=i.utils.nameToId(a(u).keyAccessor(y)),L=m+" "+x;return s(u,y)&&(L+=" selected"),A(u,y)&&(L+=" deselected"),L});return p}function P(u){return"g.layer"+u+" g."+a(u).name}function s(u,p){return n.hasFilter()&&n.hasFilter(C(u,p))}function A(u,p){return n.hasFilter()&&!n.hasFilter(C(u,p))}function C(u,p){return a(u).keyAccessor(p)}function a(u){return W[u]}function v(u,p,y){var m=u.select("path").attr("fill",function(){var x=o.select(this).attr("fill");return x||"none"}).on("click",function(x){return n.onClick(x,p)});i.transition(m,n.transitionDuration(),n.transitionDelay()).attr("fill",function(x,L){return n.getColor(y[a(p).keyAccessor(x)],L)})}n.onClick=function(u,p){var y=a(p).keyAccessor(u);i.events.trigger(function(){n.filter(y),n.redrawGroup()})};function g(u,p,y){n.renderTitle()&&u.selectAll("title").text(function(m){var x=C(p,m),L=y[x];return n.title()({key:x,value:L})})}n._doRedraw=function(){for(var u=0;u<W.length;++u)V(u),c&&n.svg().selectAll("g."+a(u).name+" path").attr("d",h());c=!1},n.overlayGeoJson=function(u,p,y){for(var m=0;m<W.length;++m)if(W[m].name===p)return W[m].data=u,W[m].keyAccessor=y,n;return W.push({name:p,data:u,keyAccessor:y}),n},n.projection=function(u){return arguments.length?(_=u,c=!0,n):_};var h=function(){return _===void 0?(i.logger.warn("choropleth projection default of geoAlbers is deprecated, in next version projection will need to be set explicitly"),O.projection(o.geoAlbersUsa())):O.projection(_)};return n.geoJsons=function(){return W},n.geoPath=function(){return O},n.removeGeoJson=function(u){for(var p=[],y=0;y<W.length;++y){var m=W[y];m.name!==u&&p.push(m)}return W=p,n},n.anchor(t,k)},i.bubbleOverlay=function(t,k){var n="bubble-overlay",O="node",c="bubble",_=i.bubbleMixin(i.baseMixin({})),W,V=[];_.transitionDuration(750),_.transitionDelay(0),_.radiusValueAccessor(function(A){return A.value}),_.point=function(A,C,a){return V.push({name:A,x:C,y:a}),_},_._doRender=function(){return W=fe(),_.r().range([_.MIN_RADIUS,_.width()*_.maxBubbleRelativeSize()]),j(),_.fadeDeselectedArea(_.filter()),_};function fe(){return W=_.select("g."+n),W.empty()&&(W=_.svg().append("g").attr("class",n)),W}function j(){var A=ve();_.calculateRadiusDomain(),V.forEach(function(C){var a=P(C,A),v=a.select("circle."+c);v.empty()&&(v=a.append("circle").attr("class",c).attr("r",0).attr("fill",_.getColor).on("click",_.onClick)),i.transition(v,_.transitionDuration(),_.transitionDelay()).attr("r",function(g){return _.bubbleR(g)}),_._doRenderLabel(a),_._doRenderTitles(a)})}function ve(){var A={};return _.data().forEach(function(C){A[_.keyAccessor()(C)]=C}),A}function P(A,C){var a=O+" "+i.utils.nameToId(A.name),v=W.select("g."+i.utils.nameToId(A.name));return v.empty()&&(v=W.append("g").attr("class",a).attr("transform","translate("+A.x+","+A.y+")")),v.datum(C[A.name]),v}_._doRedraw=function(){return s(),_.fadeDeselectedArea(_.filter()),_};function s(){var A=ve();_.calculateRadiusDomain(),V.forEach(function(C){var a=P(C,A),v=a.select("circle."+c);i.transition(v,_.transitionDuration(),_.transitionDelay()).attr("r",function(g){return _.bubbleR(g)}).attr("fill",_.getColor),_.doUpdateLabels(a),_.doUpdateTitles(a)})}return _.debug=function(A){if(A){var C=_.select("g."+i.constants.DEBUG_GROUP_CLASS);C.empty()&&(C=_.svg().append("g").attr("class",i.constants.DEBUG_GROUP_CLASS));var a=C.append("text").attr("x",10).attr("y",20);C.append("rect").attr("width",_.width()).attr("height",_.height()).on("mousemove",function(){var v=o.mouse(C.node()),g=v[0]+", "+v[1];a.text(g)})}else _.selectAll(".debug").remove();return _},_.anchor(t,k),_},i.rowChart=function(t,k){var n,O=10,c=15,_=!1,W="0.35em",V=2,fe=5,j=!1,ve="row",P="titlerow",s=!1,A=i.capMixin(i.marginMixin(i.colorMixin(i.baseMixin({})))),C,a,v=o.axisBottom(),g;A.rowsCap=A.cap;function h(){if(!C||a){var Y=o.extent(g,A.cappedValueAccessor);Y[0]>0&&(Y[0]=0),Y[1]<0&&(Y[1]=0),C=o.scaleLinear().domain(Y).range([0,A.effectiveWidth()])}v.scale(C)}function u(){var Y=n.select("g.axis");h(),Y.empty()&&(Y=n.append("g").attr("class","axis")),Y.attr("transform","translate(0, "+A.effectiveHeight()+")"),i.transition(Y,A.transitionDuration(),A.transitionDelay()).call(v)}A._doRender=function(){return A.resetSvg(),n=A.svg().append("g").attr("transform","translate("+A.margins().left+","+A.margins().top+")"),y(),A},A.title(function(Y){return A.cappedKeyAccessor(Y)+": "+A.cappedValueAccessor(Y)}),A.label(A.cappedKeyAccessor),A.x=function(Y){return arguments.length?(C=Y,A):C};function p(){n.selectAll("g.tick").select("line.grid-line").remove(),n.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return-A.effectiveHeight()})}function y(){g=A.data(),u(),p();var Y=n.selectAll("g."+ve).data(g);x(Y),Y=m(Y).merge(Y),X(Y)}function m(Y){var pe=Y.enter().append("g").attr("class",function(Ce,Pe){return ve+" _"+Pe});return pe.append("rect").attr("width",0),I(pe),pe}function x(Y){Y.exit().remove()}function L(){var Y=C(0);return Y===-Infinity||Y!==Y?C(1):Y}function X(Y){var pe=g.length,Ce;j?Ce=j:Ce=(A.effectiveHeight()-(pe+1)*fe)/pe,_||(c=Ce/2);var Pe=Y.attr("transform",function(l,F){return"translate(0,"+((F+1)*fe+F*Ce)+")"}).select("rect").attr("height",Ce).attr("fill",A.getColor).on("click",B).classed("deselected",function(l){return A.hasFilter()?!U(l):!1}).classed("selected",function(l){return A.hasFilter()?U(l):!1});i.transition(Pe,A.transitionDuration(),A.transitionDelay()).attr("width",function(l){return Math.abs(L()-C(A.cappedValueAccessor(l)))}).attr("transform",Q),R(Y),D(Y)}function R(Y){A.renderTitle()&&(Y.select("title").remove(),Y.append("title").text(A.title()))}function I(Y){A.renderLabel()&&Y.append("text").on("click",B),A.renderTitleLabel()&&Y.append("text").attr("class",P).on("click",B)}function D(Y){if(A.renderLabel()){var pe=Y.select("text").attr("x",O).attr("y",c).attr("dy",W).on("click",B).attr("class",function(Pe,l){return ve+" _"+l}).text(function(Pe){return A.label()(Pe)});i.transition(pe,A.transitionDuration(),A.transitionDelay()).attr("transform",Q)}if(A.renderTitleLabel()){var Ce=Y.select("."+P).attr("x",A.effectiveWidth()-V).attr("y",c).attr("dy",W).attr("text-anchor","end").on("click",B).attr("class",function(Pe,l){return P+" _"+l}).text(function(Pe){return A.title()(Pe)});i.transition(Ce,A.transitionDuration(),A.transitionDelay()).attr("transform",Q)}}A.renderTitleLabel=function(Y){return arguments.length?(s=Y,A):s};function B(Y){A.onClick(Y)}function Q(Y){var pe=C(A.cappedValueAccessor(Y)),Ce=L(),Pe=pe>Ce?Ce:pe;return"translate("+Pe+",0)"}A._doRedraw=function(){return y(),A},A.xAxis=function(Y){return arguments.length?(v=Y,this):v},A.fixedBarHeight=function(Y){return arguments.length?(j=Y,A):j},A.gap=function(Y){return arguments.length?(fe=Y,A):fe},A.elasticX=function(Y){return arguments.length?(a=Y,A):a},A.labelOffsetX=function(Y){return arguments.length?(O=Y,A):O},A.labelOffsetY=function(Y){return arguments.length?(c=Y,_=!0,A):c},A.titleLabelOffsetX=function(Y){return arguments.length?(V=Y,A):V};function U(Y){return A.hasFilter(A.cappedKeyAccessor(Y))}return A.anchor(t,k)},i.legend=function(){var t=2,k={},n,O=0,c=0,_=12,W=5,V=!1,fe=560,j=70,ve=!1,P=i.pluck("name"),s,A=!1,C;k.parent=function(v){return arguments.length?(n=v,k):n},k.render=function(){n.svg().select("g.dc-legend").remove(),C=n.svg().append("g").attr("class","dc-legend").attr("transform","translate("+O+","+c+")");var v=n.legendables(),g=n.filters();s!==void 0&&(v=v.slice(0,s));var h=C.selectAll("g.dc-legend-item").data(v).enter().append("g").attr("class","dc-legend-item").on("mouseover",function(y){n.legendHighlight(y)}).on("mouseout",function(y){n.legendReset(y)}).on("click",function(y){y.chart.legendToggle(y)});A&&h.classed(i.constants.SELECTED_CLASS,function(y){return g.indexOf(y.name)!==-1}),C.selectAll("g.dc-legend-item").classed("fadeout",function(y){return y.chart.isLegendableHidden(y)}),v.some(i.pluck("dashstyle"))?h.append("line").attr("x1",0).attr("y1",_/2).attr("x2",_).attr("y2",_/2).attr("stroke-width",2).attr("stroke-dasharray",i.pluck("dashstyle")).attr("stroke",i.pluck("color")):h.append("rect").attr("width",_).attr("height",_).attr("fill",function(y){return y?y.color:"blue"}),h.append("text").text(P).attr("x",_+t).attr("y",function(){return _/2+(this.clientHeight?this.clientHeight:13)/2-2});var u=0,p=0;h.attr("transform",function(y,m){if(V){var x=ve===!0?this.getBBox().width+W:j;u+x>fe&&u>0&&(++p,u=0);var L="translate("+u+","+p*a()+")";return u+=x,L}else return"translate(0,"+m*a()+")"})};function a(){return W+_}return k.x=function(v){return arguments.length?(O=v,k):O},k.y=function(v){return arguments.length?(c=v,k):c},k.gap=function(v){return arguments.length?(W=v,k):W},k.highlightSelected=function(v){return arguments.length?(A=v,k):A},k.itemHeight=function(v){return arguments.length?(_=v,k):_},k.horizontal=function(v){return arguments.length?(V=v,k):V},k.legendWidth=function(v){return arguments.length?(fe=v,k):fe},k.itemWidth=function(v){return arguments.length?(j=v,k):j},k.autoItemWidth=function(v){return arguments.length?(ve=v,k):ve},k.legendText=function(v){return arguments.length?(P=v,k):P},k.maxItems=function(v){return arguments.length?(s=i.utils.isNumber(v)?v:void 0,k):s},k},i.htmlLegend=function(){var t={},k="dc-html-legend",n="dc-legend-item-horizontal",O="dc-legend-item-vertical",c,_,W=i.pluck("name"),V,fe=!1,j,ve=!1;return t.parent=function(P){return arguments.length?(c=P,t):c},t.render=function(){var P=fe?n:O;_.select("div.dc-html-legend").remove();var s=_.append("div").attr("class",k);s.attr("style","max-width:"+_.nodes()[0].style.width);var A=c.legendables(),C=c.filters();V!==void 0&&(A=A.slice(0,V));var a=j||P,v=s.selectAll("div."+a).data(A).enter().append("div").classed(a,!0).on("mouseover",c.legendHighlight).on("mouseout",c.legendReset).on("click",c.legendToggle);ve&&v.classed(i.constants.SELECTED_CLASS,function(g){return C.indexOf(g.name)!==-1}),v.append("span").attr("class","dc-legend-item-color").style("background-color",i.pluck("color")),v.append("span").attr("class","dc-legend-item-label").attr("title",W).text(W)},t.container=function(P){return arguments.length?(_=o.select(P),t):_},t.legendItemClass=function(P){return arguments.length?(j=P,t):j},t.highlightSelected=function(P){return arguments.length?(ve=P,t):ve},t.horizontal=function(P){return arguments.length?(fe=P,t):fe},t.legendText=function(P){return arguments.length?(W=P,t):W},t.maxItems=function(P){return arguments.length?(V=i.utils.isNumber(P)?P:void 0,t):V},t},i.scatterPlot=function(t,k){var n=i.coordinateGridMixin({}),O=o.symbol(),c=function(R){return R.value},_=n.keyAccessor();n.keyAccessor(function(R){return _(R)[0]}),n.valueAccessor(function(R){return _(R)[1]}),n.colorAccessor(function(){return n._groupName}),n.title(function(R){return n.keyAccessor()(R)+","+n.valueAccessor()(R)+": "+n.existenceAccessor()(R)});var W=function(R){return"translate("+n.x()(n.keyAccessor()(R))+","+n.y()(n.valueAccessor()(R))+")"},V=7,fe=5,j=3,ve=null,P=1,s=0,A=0,C=1,a=null,v=[],g=null,h=null,u=!1;function p(R,I){return c(R)?I?fe/Math.sqrt(Math.PI):j/Math.sqrt(Math.PI):s/Math.sqrt(Math.PI)}n.brush(o.brush());function y(R,I){return c(R)?v[I]?Math.pow(fe,2):Math.pow(j,2):Math.pow(s,2)}O.size(y),i.override(n,"_filter",function(R){return arguments.length?n.__filter(i.filters.RangedTwoDimensionalFilter(R)):n.__filter()}),n._resetSvgOld=n.resetSvg,n.resetSvg=function(){if(u){n._resetSvgOld(),n.select("canvas").remove();var R=n.svg(),I=n.root();I.style("position","relative"),R.style("position","relative");var D=isNaN(parseInt(R.style("left"),10))?0:parseInt(R.style("left"),10),B=isNaN(parseInt(R.style("top"),10))?0:parseInt(R.style("top"),10),Q=n.effectiveWidth(),U=n.effectiveHeight(),Y=n.margins(),pe=window.devicePixelRatio||1;return g=n.root().append("canvas").attr("x",0).attr("y",0).attr("width",Q*pe).attr("height",U*pe).style("width",Q+"px").style("height",U+"px").style("position","absolute").style("top",Y.top+B+"px").style("left",Y.left+D+"px").style("z-index",-1).style("pointer-events","none"),h=g.node().getContext("2d"),h.scale(pe,pe),h.rect(0,0,Q,U),h.clip(),h.imageSmoothingQuality="high",n.svg()}else return n._resetSvgOld()},n.resizeCanvas=function(){var R=n.effectiveWidth(),I=n.effectiveHeight(),D=window.devicePixelRatio||1;g.attr("width",R*D).attr("height",I*D).style("width",R+"px").style("height",I+"px"),h.scale(D,D)},n.useCanvas=function(R){return arguments.length?(u=R,n):u},n.canvas=function(R){return arguments.length?(g=R,n):g},n.context=function(){return h};function m(R){n.resizeCanvas();var I=n.context();I.clearRect(0,0,(I.canvas.width+2)*1,(I.canvas.height+2)*1);var D=n.data();D.forEach(function(B,Q){var U=!n.filter()||n.filter().isFiltered([B.key[0],B.key[1]]),Y=1;c(B)?U?Y=C:Y=n.excludedOpacity():Y=A;var pe=null;a&&!c(B)?pe=a:n.excludedColor()&&!U?pe=n.excludedColor():pe=n.getColor(B);var Ce=p(B,U);if(R){var Pe=pe===R.color,l=.1;Pe||(Y=l),Pe&&(Ce=V/Math.sqrt(Math.PI))}I.save(),I.globalAlpha=Y,I.beginPath(),I.arc(n.x()(n.keyAccessor()(B)),n.y()(n.valueAccessor()(B)),Ce,0,2*Math.PI,!0),I.fillStyle=pe,I.fill(),I.restore()})}function x(){var R=n.chartBodyG().selectAll("path.symbol").data(n.data());i.transition(R.exit(),n.transitionDuration(),n.transitionDelay()).attr("opacity",0).remove(),R=R.enter().append("path").attr("class","symbol").attr("opacity",0).attr("fill",n.getColor).attr("transform",W).merge(R),R.call(L,n.data()),R.each(function(I,D){v[D]=!n.filter()||n.filter().isFiltered([n.keyAccessor()(I),n.valueAccessor()(I)])}),i.transition(R,n.transitionDuration(),n.transitionDelay()).attr("opacity",function(I,D){return c(I)?v[D]?C:n.excludedOpacity():A}).attr("fill",function(I,D){return a&&!c(I)?a:n.excludedColor()&&!v[D]?n.excludedColor():n.getColor(I)}).attr("transform",W).attr("d",O)}n.plotData=function(){u?m():x()};function L(R,I){n.renderTitle()&&(R.selectAll("title").remove(),R.append("title").text(function(D){return n.title()(D)}))}n.existenceAccessor=function(R){return arguments.length?(c=R,this):c},n.symbol=function(R){return arguments.length?(O.type(R),n):O.type()},n.customSymbol=function(R){return arguments.length?(O=R,O.size(y),n):O},n.symbolSize=function(R){return arguments.length?(fe=R,n):fe},n.highlightedSize=function(R){return arguments.length?(V=R,n):V},n.excludedSize=function(R){return arguments.length?(j=R,n):j},n.excludedColor=function(R){return arguments.length?(ve=R,n):ve},n.excludedOpacity=function(R){return arguments.length?(P=R,n):P},n.hiddenSize=n.emptySize=function(R){return arguments.length?(s=R,n):s},n.emptyColor=function(R){return arguments.length?(a=R,n):a},n.emptyOpacity=function(R){return arguments.length?(A=R,n):A},n.nonemptyOpacity=function(R){return arguments.length?(C=R,n):A},n.legendables=function(){return[{chart:n,name:n._groupName,color:n.getColor()}]},n.legendHighlight=function(R){u?m(R):(X(function(I){return I.attr("fill")===R.color},V),n.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return o.select(this).attr("fill")!==R.color}).classed("fadeout",!0))},n.legendReset=function(R){u?m():(X(function(I){return I.attr("fill")===R.color},fe),n.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return o.select(this).attr("fill")!==R.color}).classed("fadeout",!1))};function X(R,I){var D=n.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return R(o.select(this))}),B=O.size();O.size(Math.pow(I,2)),i.transition(D,n.transitionDuration(),n.transitionDelay()).attr("d",O),O.size(B)}return n.createBrushHandlePaths=function(){},n.extendBrush=function(R){return n.round()&&(R[0]=R[0].map(n.round()),R[1]=R[1].map(n.round())),R},n.brushIsEmpty=function(R){return!R||R[0][0]>=R[1][0]||R[0][1]>=R[1][1]},n._brushing=function(){if(!!o.event.sourceEvent&&!(o.event.sourceEvent.type&&["start","brush","end"].indexOf(o.event.sourceEvent.type)!==-1)){var R=o.event.selection,I=n.brushIsEmpty(R);R&&(R=R.map(function(B){return B.map(function(Q,U){var Y=U===0?n.x():n.y();return Y.invert(Q)})}),R=n.extendBrush(R),I=I&&n.brushIsEmpty(R)),n.redrawBrush(R,!1);var D=I?null:i.filters.RangedTwoDimensionalFilter(R);i.events.trigger(function(){n.replaceFilter(D),n.redrawGroup()},i.constants.EVENT_DELAY)}},n.redrawBrush=function(R,I){var D=n.brush(),B=n.gBrush();if(n.brushOn()&&B)if(n.resizing()&&n.setBrushExtents(I),!R)B.call(D.move,R);else{R=R.map(function(U){return U.map(function(Y,pe){var Ce=pe===0?n.x():n.y();return Ce(Y)})});var Q=i.optionalTransition(I,n.transitionDuration(),n.transitionDelay())(B);Q.call(D.move,R)}n.fadeDeselectedArea(R)},n.setBrushY=function(R){R.call(n.brush().y(n.y()))},n.anchor(t,k)},i.numberDisplay=function(t,k){var n="number-display",O=o.format(".2s"),c=i.baseMixin({}),_={one:"",some:"",none:""},W;c._mandatoryAttributes(["group"]),c.ordering(function(fe){return fe.value}),c.html=function(fe){return arguments.length?(fe.none?_.none=fe.none:fe.one?_.none=fe.one:fe.some&&(_.none=fe.some),fe.one?_.one=fe.one:fe.some&&(_.one=fe.some),fe.some?_.some=fe.some:fe.one&&(_.some=fe.one),c):_},c.value=function(){return c.data()};function V(fe){if(!fe.length)return null;var j=c._computeOrderedGroups(fe);return j[j.length-1]}return c.data(function(fe){var j=fe.value?fe.value():V(fe.all());return c.valueAccessor()(j)}),c.transitionDuration(250),c.transitionDelay(0),c._doRender=function(){var fe=c.value(),j=c.selectAll("."+n);j.empty()&&(j=j.data([0]).enter().append("span").attr("class",n).merge(j)),j.transition().duration(c.transitionDuration()).delay(c.transitionDelay()).ease(o.easeQuad).tween("text",function(){var ve=isFinite(W)?W:0,P=o.interpolateNumber(ve||0,fe);W=fe;var s=this;return function(A){var C=null,a=c.formatNumber()(P(A));fe===0&&_.none!==""?C=_.none:fe===1&&_.one!==""?C=_.one:_.some!==""&&(C=_.some),s.innerHTML=C?C.replace("%number",a):a}})},c._doRedraw=function(){return c._doRender()},c.formatNumber=function(fe){return arguments.length?(O=fe,c):O},c.anchor(t,k)},i.heatMap=function(t,k){var n=6.75,O,c,_,W=o.ascending,V=o.ascending,fe=o.scaleBand(),j=o.scaleBand(),ve=n,P=n,s=i.colorMixin(i.marginMixin(i.baseMixin({})));s._mandatoryAttributes(["group"]),s.title(s.colorAccessor());var A=function(p){return p},C=function(p){return p};s.colsLabel=function(p){return arguments.length?(A=p,s):A},s.rowsLabel=function(p){return arguments.length?(C=p,s):C};var a=function(p){h(0,p)},v=function(p){h(1,p)},g=function(p){var y=p.key;i.events.trigger(function(){s.filter(i.filters.TwoDimensionalFilter(y)),s.redrawGroup()})};function h(p,y){var m=s.selectAll(".box-group").filter(function(L){return L.key[p]===y}),x=m.filter(function(L){return!s.hasFilter(L.key)});i.events.trigger(function(){var L=x.empty()?m:x,X=L.data().map(function(R){return i.filters.TwoDimensionalFilter(R.key)});s.filter([X]),s.redrawGroup()})}var u=i.logger.deprecate(function(p){return s._filter(i.filters.TwoDimensionalFilter(p))},"heatmap.filter taking a coordinate is deprecated - please pass dc.filters.TwoDimensionalFilter instead");return i.override(s,"filter",function(p){return arguments.length?p!==null&&p.filterType!=="TwoDimensionalFilter"&&!(Array.isArray(p)&&Array.isArray(p[0])&&p[0][0].filterType==="TwoDimensionalFilter")?u(p):s._filter(p):s._filter()}),s.rows=function(p){return arguments.length?(_=p,s):_},s.rowOrdering=function(p){return arguments.length?(V=p,s):V},s.cols=function(p){return arguments.length?(c=p,s):c},s.colOrdering=function(p){return arguments.length?(W=p,s):W},s._doRender=function(){return s.resetSvg(),O=s.svg().append("g").attr("class","heatmap").attr("transform","translate("+s.margins().left+","+s.margins().top+")"),s._doRedraw()},s._doRedraw=function(){var p=s.data(),y=s.rows()||p.map(s.valueAccessor()),m=s.cols()||p.map(s.keyAccessor());V&&(y=y.sort(V)),W&&(m=m.sort(W)),y=j.domain(y),m=fe.domain(m);var x=y.domain().length,L=m.domain().length,X=Math.floor(s.effectiveWidth()/L),R=Math.floor(s.effectiveHeight()/x);m.rangeRound([0,s.effectiveWidth()]),y.rangeRound([s.effectiveHeight(),0]);var I=O.selectAll("g.box-group").data(s.data(),function(pe,Ce){return s.keyAccessor()(pe,Ce)+"\0"+s.valueAccessor()(pe,Ce)});I.exit().remove();var D=I.enter().append("g").attr("class","box-group");D.append("rect").attr("class","heat-box").attr("fill","white").attr("x",function(pe,Ce){return m(s.keyAccessor()(pe,Ce))}).attr("y",function(pe,Ce){return y(s.valueAccessor()(pe,Ce))}).on("click",s.boxOnClick()),I=D.merge(I),s.renderTitle()&&(D.append("title"),I.select("title").text(s.title())),i.transition(I.select("rect"),s.transitionDuration(),s.transitionDelay()).attr("x",function(pe,Ce){return m(s.keyAccessor()(pe,Ce))}).attr("y",function(pe,Ce){return y(s.valueAccessor()(pe,Ce))}).attr("rx",ve).attr("ry",P).attr("fill",s.getColor).attr("width",X).attr("height",R);var B=O.select("g.cols");B.empty()&&(B=O.append("g").attr("class","cols axis"));var Q=B.selectAll("text").data(m.domain());Q.exit().remove(),Q=Q.enter().append("text").attr("x",function(pe){return m(pe)+X/2}).style("text-anchor","middle").attr("y",s.effectiveHeight()).attr("dy",12).on("click",s.xAxisOnClick()).text(s.colsLabel()).merge(Q),i.transition(Q,s.transitionDuration(),s.transitionDelay()).text(s.colsLabel()).attr("x",function(pe){return m(pe)+X/2}).attr("y",s.effectiveHeight());var U=O.select("g.rows");U.empty()&&(U=O.append("g").attr("class","rows axis"));var Y=U.selectAll("text").data(y.domain());return Y.exit().remove(),Y=Y.enter().append("text").style("text-anchor","end").attr("x",0).attr("dx",-2).attr("y",function(pe){return y(pe)+R/2}).attr("dy",6).on("click",s.yAxisOnClick()).text(s.rowsLabel()).merge(Y),i.transition(Y,s.transitionDuration(),s.transitionDelay()).text(s.rowsLabel()).attr("y",function(pe){return y(pe)+R/2}),s.hasFilter()?s.selectAll("g.box-group").each(function(pe){s.isSelectedNode(pe)?s.highlightSelected(this):s.fadeDeselected(this)}):s.selectAll("g.box-group").each(function(){s.resetHighlight(this)}),s},s.boxOnClick=function(p){return arguments.length?(g=p,s):g},s.xAxisOnClick=function(p){return arguments.length?(a=p,s):a},s.yAxisOnClick=function(p){return arguments.length?(v=p,s):v},s.xBorderRadius=function(p){return arguments.length?(ve=p,s):ve},s.yBorderRadius=function(p){return arguments.length?(P=p,s):P},s.isSelectedNode=function(p){return s.hasFilter(p.key)},s.anchor(t,k)},function(){o.box=function(){var n=1,O=1,c=0,_=0,W=null,V=Number,fe=t,j=k,ve=null,P=!1,s=3,A=.3,C=.8,a=!1,v=!0,g=!1;function h(u){u.each(function(p,y){p=p.map(V).sort(o.ascending);var m=o.select(this),x=p.length,L,X;if(x!==0){var R=p.quartiles=j(p),I=fe&&fe.call(this,p,y),D=I&&I.map(function(Se){return p[Se]}),B=I?o.range(0,I[0]).concat(o.range(I[1]+1,x)):o.range(x);v?(L=p[0],X=p[x-1]):(L=p[I[0]],X=p[I[1]]);var Q=o.range(I[0],I[1]+1),U=o.scaleLinear().domain(W&&W.call(this,p,y)||[L,X]).range([O,0]),Y=this.__chart__||o.scaleLinear().domain([0,Infinity]).range(U.range());this.__chart__=U;var pe=m.selectAll("line.center").data(D?[D]:[]);pe.enter().insert("line","rect").attr("class","center").attr("x1",n/2).attr("y1",function(Se){return Y(Se[0])}).attr("x2",n/2).attr("y2",function(Se){return Y(Se[1])}).style("opacity",1e-6).transition().duration(c).delay(_).style("opacity",1).attr("y1",function(Se){return U(Se[0])}).attr("y2",function(Se){return U(Se[1])}),pe.transition().duration(c).delay(_).style("opacity",1).attr("x1",n/2).attr("x2",n/2).attr("y1",function(Se){return U(Se[0])}).attr("y2",function(Se){return U(Se[1])}),pe.exit().transition().duration(c).delay(_).style("opacity",1e-6).attr("y1",function(Se){return U(Se[0])}).attr("y2",function(Se){return U(Se[1])}).remove();var Ce=m.selectAll("rect.box").data([R]);Ce.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(Se){return Y(Se[2])}).attr("width",n).attr("height",function(Se){return Y(Se[0])-Y(Se[2])}).style("fill-opacity",P?.1:1).transition().duration(c).delay(_).attr("y",function(Se){return U(Se[2])}).attr("height",function(Se){return U(Se[0])-U(Se[2])}),Ce.transition().duration(c).delay(_).attr("width",n).attr("y",function(Se){return U(Se[2])}).attr("height",function(Se){return U(Se[0])-U(Se[2])});var Pe=m.selectAll("line.median").data([R[1]]);Pe.enter().append("line").attr("class","median").attr("x1",0).attr("y1",Y).attr("x2",n).attr("y2",Y).transition().duration(c).delay(_).attr("y1",U).attr("y2",U),Pe.transition().duration(c).delay(_).attr("x1",0).attr("x2",n).attr("y1",U).attr("y2",U);var l=m.selectAll("line.whisker").data(D||[]);if(l.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",Y).attr("x2",n).attr("y2",Y).style("opacity",1e-6).transition().duration(c).delay(_).attr("y1",U).attr("y2",U).style("opacity",1),l.transition().duration(c).delay(_).attr("x1",0).attr("x2",n).attr("y1",U).attr("y2",U).style("opacity",1),l.exit().transition().duration(c).delay(_).attr("y1",U).attr("y2",U).style("opacity",1e-6).remove(),v){var F=g?"outlierBold":"outlier",S=g?3:5,T=g?function(){return Math.floor(Math.random()*(n*C)+1+(n-n*C)/2)}:function(){return n/2},d=m.selectAll("circle."+F).data(B,Number);d.enter().insert("circle","text").attr("class",F).attr("r",S).attr("cx",T).attr("cy",function(Se){return Y(p[Se])}).style("opacity",1e-6).transition().duration(c).delay(_).attr("cy",function(Se){return U(p[Se])}).style("opacity",.6),a&&(d.selectAll("title").remove(),d.append("title").text(function(Se){return p[Se]})),d.transition().duration(c).delay(_).attr("cx",T).attr("cy",function(Se){return U(p[Se])}).style("opacity",.6),d.exit().transition().duration(c).delay(_).attr("cy",0).style("opacity",1e-6).remove()}if(P){var $=m.selectAll("circle.data").data(Q);$.enter().insert("circle","text").attr("class","data").attr("r",s).attr("cx",function(){return Math.floor(Math.random()*(n*C)+1+(n-n*C)/2)}).attr("cy",function(Se){return Y(p[Se])}).style("opacity",1e-6).transition().duration(c).delay(_).attr("cy",function(Se){return U(p[Se])}).style("opacity",A),a&&($.selectAll("title").remove(),$.append("title").text(function(Se){return p[Se]})),$.transition().duration(c).delay(_).attr("cx",function(){return Math.floor(Math.random()*(n*C)+1+(n-n*C)/2)}).attr("cy",function(Se){return U(p[Se])}).style("opacity",A),$.exit().transition().duration(c).delay(_).attr("cy",0).style("opacity",1e-6).remove()}var le=ve||U.tickFormat(8),q=m.selectAll("text.box").data(R);q.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(Se,he){return he&1?6:-6}).attr("x",function(Se,he){return he&1?n:0}).attr("y",Y).attr("text-anchor",function(Se,he){return he&1?"start":"end"}).text(le).transition().duration(c).delay(_).attr("y",U),q.transition().duration(c).delay(_).text(le).attr("x",function(Se,he){return he&1?n:0}).attr("y",U);var ge=m.selectAll("text.whisker").data(D||[]);ge.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",n).attr("y",Y).text(le).style("opacity",1e-6).transition().duration(c).delay(_).attr("y",U).style("opacity",1),ge.transition().duration(c).delay(_).text(le).attr("x",n).attr("y",U).style("opacity",1),ge.exit().transition().duration(c).delay(_).attr("y",U).style("opacity",1e-6).remove(),delete p.quartiles}}),o.timerFlush()}return h.width=function(u){return arguments.length?(n=u,h):n},h.height=function(u){return arguments.length?(O=u,h):O},h.tickFormat=function(u){return arguments.length?(ve=u,h):ve},h.showOutliers=function(u){return arguments.length?(v=u,h):v},h.boldOutlier=function(u){return arguments.length?(g=u,h):g},h.renderDataPoints=function(u){return arguments.length?(P=u,h):P},h.renderTitle=function(u){return arguments.length?(a=u,h):a},h.dataOpacity=function(u){return arguments.length?(A=u,h):A},h.dataWidthPortion=function(u){return arguments.length?(C=u,h):C},h.duration=function(u){return arguments.length?(c=u,h):c},h.domain=function(u){return arguments.length?(W=u===null||typeof u=="function"?u:i.utils.constant(u),h):W},h.value=function(u){return arguments.length?(V=u,h):V},h.whiskers=function(u){return arguments.length?(fe=u,h):fe},h.quartiles=function(u){return arguments.length?(j=u,h):j},h};function t(n){return[0,n.length-1]}function k(n){return[o.quantile(n,.25),o.quantile(n,.5),o.quantile(n,.75)]}}(),i.boxPlot=function(t,k){var n=i.coordinateGridMixin({});function O(x){return function(L){var X=L.quartiles[0],R=L.quartiles[2],I=(R-X)*x,D=-1,B=L.length;do++D;while(L[D]<X-I);do--B;while(L[B]>R+I);return[D,B]}}var c=1.5,_=O,W=_(c),V=o.box(),fe=null,j=!1,ve=.3,P=.8,s=!0,A=!1,C=8,a=function(x,L){return n.isOrdinal()?n.x().bandwidth():x/(1+n.boxPadding())/L};n.x(o.scaleBand()),n.xUnits(i.units.ordinal),n.data(function(x){return x.all().map(function(L){return L.map=function(X){return X.call(L,L)},L}).filter(function(L){var X=n.valueAccessor()(L);return X.length!==0})}),n.boxPadding=n._rangeBandPadding,n.boxPadding(.8),n.outerPadding=n._outerRangeBandPadding,n.outerPadding(.5),n.boxWidth=function(x){return arguments.length?(a=typeof x=="function"?x:i.utils.constant(x),n):a};var v=function(x,L){var X=n.x()(n.keyAccessor()(x,L));return"translate("+X+", 0)"};n._preprocessData=function(){n.elasticX()&&n.x().domain([])},n.plotData=function(){var x=a(n.effectiveWidth(),n.xUnitCount());V.whiskers(W).width(x).height(n.effectiveHeight()).value(n.valueAccessor()).domain(n.y().domain()).duration(n.transitionDuration()).tickFormat(fe).renderDataPoints(j).dataOpacity(ve).dataWidthPortion(P).renderTitle(n.renderTitle()).showOutliers(s).boldOutlier(A);var L=n.chartBodyG().selectAll("g.box").data(n.data(),n.keyAccessor()),X=g(L);h(X),u(L),n.fadeDeselectedArea(n.filter())};function g(x){var L=x.enter().append("g");return L.attr("class","box").attr("transform",v).call(V).on("click",function(X){n.filter(n.keyAccessor()(X)),n.redrawGroup()}),L.merge(x)}function h(x){i.transition(x,n.transitionDuration(),n.transitionDelay()).attr("transform",v).call(V).each(function(L){var X=n.getColor(L,0);o.select(this).select("rect.box").attr("fill",X),o.select(this).selectAll("circle.data").attr("fill",X)})}function u(x){x.exit().remove().call(V)}function p(){return o.min(n.data(),function(x){return o.min(n.valueAccessor()(x))})}function y(){return o.max(n.data(),function(x){return o.max(n.valueAccessor()(x))})}function m(){return(y()-p())/n.effectiveHeight()}return n.fadeDeselectedArea=function(x){if(n.hasFilter())if(n.isOrdinal())n.g().selectAll("g.box").each(function(I){n.isSelectedNode(I)?n.highlightSelected(this):n.fadeDeselected(this)});else{if(!(n.brushOn()||n.parentBrushOn()))return;var L=x[0],X=x[1],R=n.keyAccessor();n.g().selectAll("g.box").each(function(I){var D=R(I);D<L||D>=X?n.fadeDeselected(this):n.highlightSelected(this)})}else n.g().selectAll("g.box").each(function(){n.resetHighlight(this)})},n.isSelectedNode=function(x){return n.hasFilter(n.keyAccessor()(x))},n.yAxisMin=function(){var x=C*m();return i.utils.subtract(p()-x,n.yAxisPadding())},n.yAxisMax=function(){var x=C*m();return i.utils.add(y()+x,n.yAxisPadding())},n.tickFormat=function(x){return arguments.length?(fe=x,n):fe},n.yRangePadding=function(x){return arguments.length?(C=x,n):C},n.renderDataPoints=function(x){return arguments.length?(j=x,n):j},n.dataOpacity=function(x){return arguments.length?(ve=x,n):ve},n.dataWidthPortion=function(x){return arguments.length?(P=x,n):P},n.showOutliers=function(x){return arguments.length?(s=x,n):s},n.boldOutlier=function(x){return arguments.length?(A=x,n):A},n.anchor(t,k)},i.selectMenu=function(t,k){var n="dc-select-menu",O="dc-select-option",c=i.baseMixin({}),_,W="Select all",V=!1,fe=null,j=null,ve=function(v,g){return c.keyAccessor()(v)>c.keyAccessor()(g)?1:c.keyAccessor()(g)>c.keyAccessor()(v)?-1:0},P=function(v){return c.valueAccessor()(v)>0};c.data(function(v){return v.all().filter(P)}),c._doRender=function(){return c.select("select").remove(),_=c.root().append("select").classed(n,!0),_.append("option").text(W).attr("value",""),c._doRedraw(),c};var s=window.navigator.userAgent;s.indexOf("Trident/")>0&&s.indexOf("MSIE")===-1&&(c.redraw=c.render),c._doRedraw=function(){return a(),A(),c.hasFilter()&&V?_.selectAll("option").property("selected",function(v){return typeof v!="undefined"&&c.filters().indexOf(String(c.keyAccessor()(v)))>=0}):c.hasFilter()?_.property("value",c.filter()):_.property("value",""),c};function A(){var v=_.selectAll("option."+O).data(c.data(),function(g){return c.keyAccessor()(g)});v.exit().remove(),v.enter().append("option").classed(O,!0).attr("value",function(g){return c.keyAccessor()(g)}).merge(v).text(c.title()),_.selectAll("option."+O).sort(ve),_.on("change",C)}function C(v,g){var h,u=o.event.target;if(u.selectedOptions){var p=Array.prototype.slice.call(u.selectedOptions);h=p.map(function(m){return m.value})}else{var y=[].slice.call(o.event.target.options);h=y.filter(function(m){return m.selected}).map(function(m){return m.value})}h.length===1&&h[0]===""?h=fe||null:!V&&h.length===1&&(h=h[0]),c.onChange(h)}c.onChange=function(v){v&&V?c.replaceFilter([v]):v?c.replaceFilter(v):c.filterAll(),i.events.trigger(function(){c.redrawGroup()})};function a(){V?_.attr("multiple",!0):_.attr("multiple",null),j!==null?_.attr("size",j):_.attr("size",null)}return c.order=function(v){return arguments.length?(ve=v,c):ve},c.promptText=function(v){return arguments.length?(W=v,c):W},c.filterDisplayed=function(v){return arguments.length?(P=v,c):P},c.multiple=function(v){return arguments.length?(V=v,c):V},c.promptValue=function(v){return arguments.length?(fe=v,c):fe},c.numberVisible=function(v){return arguments.length?(j=v,c):j},c.size=i.logger.deprecate(c.numberVisible,"selectMenu.size is ambiguous - use numberVisible instead"),c.anchor(t,k)},i.textFilterWidget=function(t,k){var n="dc-text-filter-input",O=i.baseMixin({}),c=function(V){return V.toLowerCase()},_=function(V){return V=c(V),function(fe){return c(fe).indexOf(V)!==-1}},W="search";return O.group(function(){throw"the group function on textFilterWidget should never be called, please report the issue"}),O._doRender=function(){O.select("input").remove();var V=O.root().append("input").classed(n,!0);return V.on("input",function(){O.dimension().filterFunction(_(this.value)),i.events.trigger(function(){i.redrawAll()},i.constants.EVENT_DELAY)}),O._doRedraw(),O},O._doRedraw=function(){return O.root().selectAll("input").attr("placeholder",W),O},O.normalize=function(V){return arguments.length?(c=V,O):c},O.placeHolder=function(V){return arguments.length?(W=V,O):W},O.filterFunctionFactory=function(V){return arguments.length?(_=V,O):_},O.anchor(t,k)},i.cboxMenu=function(t,k){var n="dc-cbox-group",O="dc-cbox-item",c=i.baseMixin({}),_,W="Select all",V=!1,fe="radio",j=null,ve=Math.floor(Math.random()*1e5)+1,P=function(a,v){return c.keyAccessor()(a)>c.keyAccessor()(v)?1:c.keyAccessor()(v)>c.keyAccessor()(a)?-1:0},s=function(a){return c.valueAccessor()(a)>0};c.data(function(a){return a.all().filter(s)}),c._doRender=function(){return c._doRedraw()},c._doRedraw=function(){return c.select("ul").remove(),_=c.root().append("ul").classed(n,!0),A(),c.hasFilter()&&V?_.selectAll("input").property("checked",function(a){return a&&c.filters().indexOf(String(c.keyAccessor()(a)))>=0||!1}):c.hasFilter()&&_.selectAll("input").property("checked",function(a){return a?c.keyAccessor()(a)===c.filter():!1}),c};function A(){var a=_.selectAll("li."+O).data(c.data(),function(g){return c.keyAccessor()(g)});if(a.exit().remove(),a=a.enter().append("li").classed(O,!0).merge(a),a.append("input").attr("type",fe).attr("value",function(g){return c.keyAccessor()(g)}).attr("name","domain_"+ve).attr("id",function(g,h){return"input_"+ve+"_"+h}),a.append("label").attr("for",function(g,h){return"input_"+ve+"_"+h}).text(c.title()),V)_.append("li").append("input").attr("type","reset").text(W).on("click",C);else{var v=_.append("li");v.append("input").attr("type",fe).attr("value",j).attr("name","domain_"+ve).attr("id",function(g,h){return"input_"+ve+"_all"}).property("checked",!0),v.append("label").attr("for",function(g,h){return"input_"+ve+"_all"}).text(W)}return _.selectAll("li."+O).sort(P),_.on("change",C),a}function C(a,v){var g,h=o.select(o.event.target),u;h.datum()?(u=o.select(this).selectAll("input").filter(function(p){if(p)return this.checked}),g=u.nodes().map(function(p){return p.value}),!V&&g.length===1&&(g=g[0])):g=j||null,c.onChange(g)}return c.onChange=function(a){a&&V?c.replaceFilter([a]):a?c.replaceFilter(a):c.filterAll(),i.events.trigger(function(){c.redrawGroup()})},c.order=function(a){return arguments.length?(P=a,c):P},c.promptText=function(a){return arguments.length?(W=a,c):W},c.filterDisplayed=function(a){return arguments.length?(s=a,c):s},c.multiple=function(a){return arguments.length?(V=a,V?fe="checkbox":fe="radio",c):V},c.promptValue=function(a){return arguments.length?(j=a,c):j},c.anchor(t,k)},i.abstractBubbleChart=i.bubbleMixin,i.baseChart=i.baseMixin,i.capped=i.capMixin,i.colorChart=i.colorMixin,i.coordinateGridChart=i.coordinateGridMixin,i.marginable=i.marginMixin,i.stackableChart=i.stackMixin,i.d3=o,i.crossfilter=b,i}if(typeof define=="function"&&define.amd)define(["d3","crossfilter2"],e);else if(typeof Bi=="object"&&Bi.exports){var r=Wa(),f=Qn();typeof f!="function"&&(f=f.crossfilter),Bi.exports=e(r,f)}else this.dc=e(d3,crossfilter)})()});var tc=At((Ui,ec)=>{(function(e,r){typeof Ui=="object"&&typeof ec!="undefined"?r(Ui):typeof define=="function"&&define.amd?define(["exports"],r):r(e.d3=e.d3||{})})(Ui,function(e){"use strict";var r=[].slice,f={};function o(n){this._size=n,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}o.prototype=k.prototype={constructor:o,defer:function(n){if(typeof n!="function")throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(this._error!=null)return this;var O=r.call(arguments,1);return O.push(n),++this._waiting,this._tasks.push(O),b(this),this},abort:function(){return this._error==null&&re(this,new Error("abort")),this},await:function(n){if(typeof n!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(O,c){n.apply(null,[O].concat(c))},t(this),this},awaitAll:function(n){if(typeof n!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=n,t(this),this}};function b(n){if(!n._start)try{i(n)}catch(O){if(n._tasks[n._ended+n._active-1])re(n,O);else if(!n._data)throw O}}function i(n){for(;n._start=n._waiting&&n._active<n._size;){var O=n._ended+n._active,c=n._tasks[O],_=c.length-1,W=c[_];c[_]=te(n,O),--n._waiting,++n._active,c=W.apply(null,c),!!n._tasks[O]&&(n._tasks[O]=c||f)}}function te(n,O){return function(c,_){!n._tasks[O]||(--n._active,++n._ended,n._tasks[O]=null,n._error==null&&(c!=null?re(n,c):(n._data[O]=_,n._waiting?b(n):t(n))))}}function re(n,O){var c=n._tasks.length,_;for(n._error=O,n._data=void 0,n._waiting=NaN;--c>=0;)if((_=n._tasks[c])&&(n._tasks[c]=null,_.abort))try{_.abort()}catch(W){}n._active=NaN,t(n)}function t(n){if(!n._active&&n._call){var O=n._data;n._data=void 0,n._call(n._error,O)}}function k(n){if(n==null)n=Infinity;else if(!((n=+n)>=1))throw new Error("invalid concurrency");return new o(n)}e.queue=k,Object.defineProperty(e,"__esModule",{value:!0})})});var nc=At((Fh,Hi)=>{(function(){"use strict";var e={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0},r;e.encodeHTMLSource=function(te){var re={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=te?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(k){return k?k.toString().replace(t,function(n){return re[n]||n}):""}},r=function(){return this||(0,eval)("this")}(),typeof Hi!="undefined"&&Hi.exports?Hi.exports=e:typeof define=="function"&&define.amd?define(function(){return e}):r.doT=e;var f={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},o=/$^/;function b(te,re,t){return(typeof re=="string"?re:re.toString()).replace(te.define||o,function(k,n,O,c){return n.indexOf("def.")===0&&(n=n.substring(4)),n in t||(O===":"?(te.defineParams&&c.replace(te.defineParams,function(_,W,V){t[n]={arg:W,text:V}}),n in t||(t[n]=c)):new Function("def","def['"+n+"']="+c)(t)),""}).replace(te.use||o,function(k,n){te.useParams&&(n=n.replace(te.useParams,function(c,_,W,V){if(t[W]&&t[W].arg&&V){var fe=(W+":"+V).replace(/'|\\/g,"_");return t.__exp=t.__exp||{},t.__exp[fe]=t[W].text.replace(new RegExp("(^|[^\\w$])"+t[W].arg+"([^\\w$])","g"),"$1"+V+"$2"),_+"def.__exp['"+fe+"']"}}));var O=new Function("def","return "+n)(t);return O&&b(te,O,t)})}function i(te){return te.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}e.template=function(te,re,t){re=re||e.templateSettings;var k=re.append?f.append:f.split,n,O=0,c,_=re.use||re.define?b(re,te,t||{}):te;_=("var out='"+(re.strip?_.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):_).replace(/'|\\/g,"\\$&").replace(re.interpolate||o,function(W,V){return k.start+i(V)+k.end}).replace(re.encode||o,function(W,V){return n=!0,k.startencode+i(V)+k.end}).replace(re.conditional||o,function(W,V,fe){return V?fe?"';}else if("+i(fe)+"){out+='":"';}else{out+='":fe?"';if("+i(fe)+"){out+='":"';}out+='"}).replace(re.iterate||o,function(W,V,fe,j){return V?(O+=1,c=j||"i"+O,V=i(V),"';var arr"+O+"="+V+";if(arr"+O+"){var "+fe+","+c+"=-1,l"+O+"=arr"+O+".length-1;while("+c+"<l"+O+"){"+fe+"=arr"+O+"["+c+"+=1];out+='"):"';} } out+='"}).replace(re.evaluate||o,function(W,V){return"';"+i(V)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),n&&(!re.selfcontained&&r&&!r._encodeHTML&&(r._encodeHTML=e.encodeHTMLSource(re.doNotSkipEncoded)),_="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+e.encodeHTMLSource.toString()+"("+(re.doNotSkipEncoded||"")+"));"+_);try{return new Function(re.varname,_)}catch(W){throw typeof console!="undefined"&&console.log("Could not create a template function: "+_),W}},e.compile=function(te,re){return e.template(te,null,re)}})()});var uc=At(rc=>{"use strict";var Bd='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif';function Ud(){let e=document.createElement("canvas");e.width=e.height=1;let r=e.getContext("2d",{willReadFrequently:!0});return r.textBaseline="top",r.font=`100px ${Bd}`,r.scale(.01,.01),r}function ic(e,r,f){return e.clearRect(0,0,100,100),e.fillStyle=f,e.fillText(r,0,0),e.getImageData(0,0,1,1).data.join(",")}function ac(e){let r=Ud(),f=ic(r,e,"#fff"),o=ic(r,e,"#000");return o===f&&!o.startsWith("0,0,0,")}function Hd(e="Twemoji Country Flags",r="https://cdn.jsdelivr.net/npm/country-flag-emoji-polyfill@0.1/dist/TwemojiCountryFlags.woff2"){if(typeof window<"u"&&ac("\u{1F60A}")&&!ac("\u{1F1E8}\u{1F1ED}")){let f=document.createElement("style");return f.textContent=`@font-face {
      font-family: "${e}";
      unicode-range: U+1F1E6-1F1FF, U+1F3F4, U+E0062-E0063, U+E0065, U+E0067,
        U+E006C, U+E006E, U+E0073-E0074, U+E0077, U+E007F;
      src: url('${r}') format('woff2');
      font-display: swap;
    }`,document.head.appendChild(f),!0}return!1}rc.polyfillCountryFlagEmojis=Hd});window.crossfilter=Qn();window.reductio=bf();window.d3=Wa();window.topojson=Zs();window.d3.tip=Qs();window.dc=Js();window.d3.queue=tc().queue;window.doT=nc();uc().polyfillCountryFlagEmojis();setTimeout(()=>{document.dispatchEvent(new CustomEvent("mepwatch.lib_ready",{detail:{crossfilter:window.crossfilter,reductio:window.reductio,d3:window.d3,topojson:window.topojson,dc:window.dc,dot:window.doT}}))},0);})();
/*!
 *  dc 3.2.2
 *  http://dc-js.github.io/dc.js/
 *  Copyright 2012-2019 Nick Zhu & the dc.js Developers
 *  https://github.com/dc-js/dc.js/blob/master/AUTHORS
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
//# sourceMappingURL=dcbundle.js.map
